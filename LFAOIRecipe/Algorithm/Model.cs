//
//  File generated by HDevelop for HALCON/DOTNET (C#) Version 12.0
//

using HalconDotNet;
namespace LFAOIRecipe.Algorithm
{
    public class Model
    {





        // Procedures 
        // External procedures 
        // Chapter: Filters / Lines
        // Short Description: Calculates the parameters Sigma, Low, and High for lines_gauss from the maximum width and the contrast of the lines to be extracted. 

        //2020-07-20 接口替换 创建黄金模板 
        //HTV_GenModels_TargetInspect_Recipe.hdvp
        //HTV_CreateGoldenImage_Match_Recipe.hdvp
        //HTV_create_model_recipe.hdvp


        //2020-08-21 接口替换：HTV_Create_Metrology_Model  

        //2020-09-05 更新接口函数：HTV_GenModels_TargetInspect_Recipe, HTV_CreateGoldenImage_Match_Recipe, HTV_Bond_Location,
        //2020-09-05 更新接口函数：HTV_confirm_mapping_matrix,fread_xml_to_vector,get_vector_param_value,HTV_clear_model



        //新算法 2020-03
        public static void HTV_Frame_Inspect(HObject ho_i_Image, HObject ho_i_SearchReg, HObject ho_i_InspectReg,
    HObject ho_i_RejectRegs, HObject ho_i_SubReg, out HObjectVector/*{eObjectVector,Dim=1}*/ hvec_o_FailRegs,
    HTuple hv_i_ModelType, HTuple hv_i_ModelID, HTuple hv_i_Score, HTuple hv_i_AngleStart,
    HTuple hv_i_AngleExt, HTuple hv_i_MatchNum, HTuple hv_i_AdaptiveMethod, HTuple hv_i_BlockSize,
    HTuple hv_i_Contrast, HTuple hv_i_CloseSize, HTuple hv_i_MinLength, HTuple hv_i_MinWidth,
    HTuple hv_i_MinArea, HTuple hv_i_SelOperation, HTuple hv_i_LightOrDark, out HTuple hv_o_HomMatMod2Img,
    out HTupleVector/*{eTupleVector,Dim=1}*/ hvec_o_DefectValue, out HTuple hv_o_DefectType,
    out HTuple hv_o_ErrCode, out HTuple hv_o_ErrStr)
        {




            // Local iconic variables 

            HObject ho__EmptyFailReg, ho__Targets = null;
            HObject ho_RegionUnion = null;

            // Local control variables 

            HTuple hv_Index = null, hv__LocPara = null;
            HTuple hv__ErrLocCode = null, hv__ErrLocStr = null, hv__ErrInsCode = new HTuple();
            HTuple hv__ErrInsStr = new HTuple(), hv_Area = new HTuple();
            HTuple hv_Row = new HTuple(), hv_Column = new HTuple();
            HTuple hv_TypeSum = null;
            // Initialize local and output iconic variables 
            HOperatorSet.GenEmptyObj(out ho__EmptyFailReg);
            HOperatorSet.GenEmptyObj(out ho__Targets);
            HOperatorSet.GenEmptyObj(out ho_RegionUnion);
            hvec_o_FailRegs = new HObjectVector(1);
            hvec_o_DefectValue = new HTupleVector(1);
            hv_o_DefectType = new HTuple();
            //*************************************************************
            //--Frame定位、变形及表面检测：1.模板匹配，定位框架并测试其有无变形；2.框架表面检测
            //--参数说明：wj-2020-03-02 modified
            //*******************图标参数
            //  i_Image：输入图像，Object类型
            //  i_SearchReg：搜索区域，在区域内匹配目标对象
            //  i_InspectReg：检测区域，在该区域中进行表面污染检测
            //  i_RejectRegs：拒绝区域，即免检区域，一般在检测区域内部容易造成干扰的区域或不感兴趣的区域
            //  i_SubReg：重点检测区域，在框架表面检测中不需要检测，为空对象
            //  o_FailRegs：输出检测结果的错误区域的HobjectVector
            //*******************控制参数
            //--模板匹配定位、变形参数
            //  i_ModelType：模板类型，一般使用ncc和shape作为定位模板，该参数为整数类型，0-ncc，1-shape
            //  i_ModelID：模板ID号，创建匹配模板时返回值，通常由模板文件读入
            //  i_Score：最小匹配分数
            //  i_AngleStart：匹配定位起始角度
            //  i_AngleExt：匹配定位起角度范围
            //  i_MatchNum：需要匹配的目标个数
            //---框架表面检测参数
            //  i_AdaptiveMethod：局部阈值分割方法，取值为'mean'  'median'   'gauss'
            //  i_BlockSize: 邻域大小，即局部阈值分割的尺寸
            //  i_Contrast: 灰度对比度，即超过阈值多大的范围视为感兴趣的目标
            //  i_CloseSize：闭运算尺寸
            //  i_MinLength：缺陷最小外接矩形半长,为一个向量，针对各重点检测区和非重点检测区分别设置不同参数
            //　 i_MinWidth：缺陷最小外接矩形半宽,为一个向量，针对各重点检测区和非重点检测区分别设置不同参数
            //  i_MinArea：缺陷最小面积,为一个向量，针对各重点检测区和非重点检测区分别设置不同参数
            //  i_SelOperation：形状选择算子and或or等
            //  o_HomMatMod2Img：输出Frame框架定位到的映射矩阵
            //  o_DefectValue：输出的异常区域实际检测得到的检测值，at[0]:匹配分数，at[1]:缺陷区域面积大小
            //  o_DefectType：输出的检测得到的异常区域的缺陷类型
            //  o_ErrCode: 错误码，代表该算子执行过程中产生的错误，0-代表正常执行，-1-代表异常，-2-代表未执行
            //  o_ErrStr: 错误信息，对各种错误的具体描述
            //***************************************************************

            //初始化
            ho__EmptyFailReg.Dispose();
            HOperatorSet.GenEmptyObj(out ho__EmptyFailReg);
            for (hv_Index = 0; (int)hv_Index <= 1; hv_Index = (int)hv_Index + 1)
            {
                if ((int)(new HTuple(hv_Index.TupleEqual(0))) != 0)
                {
                    hvec_o_DefectValue[hv_Index] = new HTupleVector(((new HTuple(-2)).TupleConcat(
                        -2)).TupleConcat(-2));
                }
                else
                {
                    hvec_o_DefectValue[hv_Index] = new HTupleVector(new HTuple(-2));
                }
                if (hv_o_DefectType == null)
                    hv_o_DefectType = new HTuple();
                hv_o_DefectType[hv_Index] = -2;
                hvec_o_FailRegs[hv_Index] = new HObjectVector(ho__EmptyFailReg);
            }
            hv_o_HomMatMod2Img = new HTuple();
            hv_o_HomMatMod2Img[0] = -2;
            hv_o_HomMatMod2Img[1] = -2;
            hv_o_HomMatMod2Img[2] = -2;
            hv_o_HomMatMod2Img[3] = -2;
            hv_o_HomMatMod2Img[4] = -2;
            hv_o_HomMatMod2Img[5] = -2;
            hv_o_ErrCode = -2;
            hv_o_ErrStr = "initializing";
            //定位、变形
            HTV_Frame_Location(ho_i_Image, ho_i_SearchReg, hv_i_ModelType, hv_i_ModelID,
                hv_i_Score, hv_i_AngleStart, hv_i_AngleExt, hv_i_MatchNum, out hv__LocPara,
                out hv__ErrLocCode, out hv__ErrLocStr);
            if ((int)(new HTuple(hv__ErrLocCode.TupleLess(0))) != 0)
            {
                hv_o_ErrCode = -1;
                hv_o_ErrStr = hv__ErrLocStr.Clone();
                ho__EmptyFailReg.Dispose();
                ho__Targets.Dispose();
                ho_RegionUnion.Dispose();

                return;
            }

            //框架表面检测
            if ((int)(new HTuple(hv__ErrLocCode.TupleEqual(0))) != 0)
            {
                HOperatorSet.VectorAngleToRigid(0, 0, 0, hv__LocPara.TupleSelect(0), hv__LocPara.TupleSelect(
                    1), hv__LocPara.TupleSelect(2), out hv_o_HomMatMod2Img);
                //框架检测区域阈值分割生成
                ho__Targets.Dispose();
                HTV_Frame_Surface_ExistRejectReg(ho_i_Image, ho_i_InspectReg, ho_i_RejectRegs,
                    ho_i_SubReg, out ho__Targets, hv_o_HomMatMod2Img, hv_i_AdaptiveMethod,
                    hv_i_BlockSize, hv_i_Contrast, hv_i_CloseSize, hv_i_MinLength, hv_i_MinWidth,
                    hv_i_MinArea, hv_i_SelOperation, hv_i_LightOrDark, out hv__ErrInsCode,
                    out hv__ErrInsStr);
                if ((int)(new HTuple(hv__ErrInsCode.TupleLess(0))) != 0)
                {
                    hv_o_ErrCode = -1;
                    hv_o_ErrStr = hv__ErrInsStr.Clone();
                    ho__EmptyFailReg.Dispose();
                    ho__Targets.Dispose();
                    ho_RegionUnion.Dispose();

                    return;
                }
            }
            //框架定位
            if ((int)(new HTuple(hv__ErrLocCode.TupleGreater(0))) != 0)
            {
                hvec_o_DefectValue[0] = new HTupleVector(((new HTuple(-1)).TupleConcat(-1)).TupleConcat(
                    -1));
                if (hv_o_DefectType == null)
                    hv_o_DefectType = new HTuple();
                hv_o_DefectType[0] = 27;
                hvec_o_FailRegs[0] = new HObjectVector(ho_i_SearchReg);
                ho__EmptyFailReg.Dispose();
                ho__Targets.Dispose();
                ho_RegionUnion.Dispose();

                return;
            }
            else if ((int)(new HTuple(hv__ErrLocCode.TupleEqual(0))) != 0)
            {
                hvec_o_DefectValue[0] = new HTupleVector(((((hv__LocPara.TupleSelect(0))).TupleConcat(
                    hv__LocPara.TupleSelect(1)))).TupleConcat(hv__LocPara.TupleSelect(2)));
                if (hv_o_DefectType == null)
                    hv_o_DefectType = new HTuple();
                hv_o_DefectType[0] = 0;
                hvec_o_FailRegs[0] = new HObjectVector(ho__EmptyFailReg);
                //框架表面
                if ((int)(new HTuple(hv__ErrInsCode.TupleGreater(0))) != 0)
                {
                    ho_RegionUnion.Dispose();
                    HOperatorSet.Union1(ho__Targets, out ho_RegionUnion);
                    HOperatorSet.AreaCenter(ho_RegionUnion, out hv_Area, out hv_Row, out hv_Column);
                    hvec_o_DefectValue[1] = new HTupleVector(hv_Area).Clone();
                    if (hv_o_DefectType == null)
                        hv_o_DefectType = new HTuple();
                    hv_o_DefectType[1] = 30;
                    hvec_o_FailRegs[1] = new HObjectVector(ho_RegionUnion);
                }
                else if ((int)(new HTuple(hv__ErrInsCode.TupleEqual(0))) != 0)
                {
                    hvec_o_DefectValue[1] = new HTupleVector(new HTuple(0));
                    if (hv_o_DefectType == null)
                        hv_o_DefectType = new HTuple();
                    hv_o_DefectType[1] = 0;
                    hvec_o_FailRegs[1] = new HObjectVector(ho__EmptyFailReg);
                }
            }
            HOperatorSet.TupleSum(hv_o_DefectType, out hv_TypeSum);
            if ((int)(new HTuple(hv_TypeSum.TupleEqual(0))) != 0)
            {
                hv_o_ErrCode = 0;
                hv_o_ErrStr = "Frame is OK!";
                ho__EmptyFailReg.Dispose();
                ho__Targets.Dispose();
                ho_RegionUnion.Dispose();

                return;
            }
            else
            {
                hv_o_ErrCode = 1;
                hv_o_ErrStr = "Error to Frame!";
                ho__EmptyFailReg.Dispose();
                ho__Targets.Dispose();
                ho_RegionUnion.Dispose();

                return;
            }

        }

//新算法 2020-03
        public static void HTV_Frame_Location(HObject ho_i_Image, HObject ho_i_SearchReg, HTuple hv_i_ModelType,
    HTuple hv_i_ModelID, HTuple hv_i_Score, HTuple hv_i_AngleStart, HTuple hv_i_AngleExt,
    HTuple hv_i_MatchNum, out HTuple hv_o_LocPara, out HTuple hv_o_ErrCode, out HTuple hv_o_ErrStr)
        {




            // Local iconic variables 

            // Local control variables 

            HTuple hv__ErrCode = null, hv__ErrStr = null;
            // Initialize local and output iconic variables 
            //*******选择模板匹配进行定位目标
            //---输入图形对象
            //  i_Image：输入图像，在图像中寻找匹配对象
            //  i_SearchReg：搜索区域，在区域内匹配目标对象
            //---模板匹配参数
            //  i_ModelType：模板类型，一般使用ncc和shape作为定位模板，该参数为整数类型，0-ncc，1-shape
            //  i_ModelID：模板ID号，创建匹配模板时返回值，通常由模板文件读入
            //  i_Score：最小匹配分数
            //  i_AngleStart：匹配定位起始角度
            //  i_AngleExt：匹配定位起角度范围
            //  i_MatchNum：需要匹配的目标个数
            //---输出定位结果
            //  o_LocPara: 匹配对象的位置信息
            //  o_HomMatMod2Img: 输出模板到图像的映射矩阵--从模板到检测图像的映射关系
            //  o_ErrCode：错误码，代表该算子执行过程中产生的错误，0-代表执行正常，自然数-代表执行错误，-1-代表执行错误，-2-代表未执行
            //  o_ErrStr：错误信息，对各种错误的具体描述

            //  初始化
            hv_o_ErrCode = -2;
            hv_o_ErrStr = "initializing";

            //  模板匹配找到目标对象
            HTV_Loc_Match(ho_i_Image, ho_i_SearchReg, hv_i_ModelType, hv_i_ModelID, hv_i_Score,
                hv_i_AngleStart, hv_i_AngleExt, hv_i_MatchNum, out hv_o_LocPara, out hv__ErrCode,
                out hv__ErrStr);
            // 判断未找到框架或框架变形
            if ((int)(new HTuple(hv__ErrCode.TupleGreater(0))) != 0)
            {
                hv_o_ErrCode = 1;
                hv_o_ErrStr = "frame-deformed or no frame is found" + hv__ErrStr;

                return;
            }
            else if ((int)(new HTuple(hv__ErrCode.TupleLess(0))) != 0)
            {
                hv_o_ErrCode = -1;
                hv_o_ErrStr = "find frame error!" + hv__ErrStr;

                return;
            }
            else
            {
                hv_o_ErrCode = 0;
                hv_o_ErrStr = "find frame successful" + hv__ErrStr;

                return;
            }



        }

//新算法 2020-03
        public static void HTV_Frame_Surface_ExistRejectReg(HObject ho_i_Image, HObject ho_i_InspectReg,
            HObject ho_i_RejectRegs, HObject ho_i_SubReg, out HObject ho_o_Targets, HTuple hv_i_HomMatMod2Img,
            HTuple hv_i_AdaptiveMethod, HTuple hv_i_BlockSize, HTuple hv_i_Contrast, HTuple hv_i_CloseSize,
            HTuple hv_i_MinLength, HTuple hv_i_MinWidth, HTuple hv_i_MinArea, HTuple hv_i_SelOperation,
            HTuple hv_i_LightOrDark, out HTuple hv_o_ErrCode, out HTuple hv_o_ErrStr)
        {




            // Stack for temporary objects 
            HObject[] OTemp = new HObject[20];

            // Local iconic variables 

            HObject ho__InspectReg, ho__Image, ho__SubReg;
            HObject ho__RejectRegs, ho_RegUnion, ho_RegionDifference;
            HObject ho_ImageReduced, ho_Region, ho__FrameSurfaceReg;
            HObject ho__FrameSurfaceImage, ho__SegImage;

            // Local control variables 

            HTuple hv__ThresholdErrCode = null, hv__ThresholdErrStr = null;
            HTuple hv__BlobErrCode = new HTuple(), hv__BlobErrStr = new HTuple();
            HTuple hv_Number = new HTuple();
            // Initialize local and output iconic variables 
            HOperatorSet.GenEmptyObj(out ho_o_Targets);
            HOperatorSet.GenEmptyObj(out ho__InspectReg);
            HOperatorSet.GenEmptyObj(out ho__Image);
            HOperatorSet.GenEmptyObj(out ho__SubReg);
            HOperatorSet.GenEmptyObj(out ho__RejectRegs);
            HOperatorSet.GenEmptyObj(out ho_RegUnion);
            HOperatorSet.GenEmptyObj(out ho_RegionDifference);
            HOperatorSet.GenEmptyObj(out ho_ImageReduced);
            HOperatorSet.GenEmptyObj(out ho_Region);
            HOperatorSet.GenEmptyObj(out ho__FrameSurfaceReg);
            HOperatorSet.GenEmptyObj(out ho__FrameSurfaceImage);
            HOperatorSet.GenEmptyObj(out ho__SegImage);
            //*************************************************************
            //--Frame表面检测：使用自行应阈值分割提取缺陷区域，并进行符合要求的缺陷目标提取
            // i_Image：输入图像，在图像中进行Frame表面污染检测
            // i_InspectReg：检测区域，在该区域中进行表面污染检测
            // i_RejectRegs：拒绝区域，即免检区域，一般在检测区域内部容易造成干扰的区域或不感兴趣的区域
            // i_SubReg：重点检测区域，在框架表面检测中不需要检测，为空对象
            // o_Targets：符合要求的框架缺陷目标
            // i_HomMatMod2Img: Frame模板到图像的映射矩阵--从模板到检测图像的映射关系
            // i_AdaptiveMethod：局部阈值分割方法，取值为'mean'  'median'   'gauss'
            // i_BlockSize: 邻域大小，即局部阈值分割的尺寸
            // i_Contrast: 灰度对比度，即超过阈值多大的范围视为感兴趣的目标
            // i_CloseSize：闭运算尺寸
            // i_MinLength：缺陷最小外接矩形半长,为一个向量，针对各重点检测区和非重点检测区分别设置不同参数
            //　i_MinWidth：缺陷最小外接矩形半宽,为一个向量，针对各重点检测区和非重点检测区分别设置不同参数
            // i_MinArea：缺陷最小面积,为一个向量，针对各重点检测区和非重点检测区分别设置不同参数
            // i_SelOperation：形状选择算子and或or等
            // o_ErrCode: 错误码，代表该算子执行过程中产生的错误，0-代表正常执行，自然数-代表错误类型，-1-代表异常，-2-代表未执行
            // o_ErrStr: 错误信息，对各种错误的具体描述
            //***************************************************************
            //初始化
            ho_o_Targets.Dispose();
            HOperatorSet.GenEmptyObj(out ho_o_Targets);
            hv_o_ErrCode = -2;
            hv_o_ErrStr = "initializing";

            //变换检测区域并获取检测待处理图像
            ho__InspectReg.Dispose();
            HOperatorSet.AffineTransRegion(ho_i_InspectReg, out ho__InspectReg, hv_i_HomMatMod2Img,
                "nearest_neighbor");
            ho__Image.Dispose();
            HOperatorSet.ReduceDomain(ho_i_Image, ho__InspectReg, out ho__Image);
            //变换重点检测区域
            ho__SubReg.Dispose();
            HOperatorSet.AffineTransRegion(ho_i_SubReg, out ho__SubReg, hv_i_HomMatMod2Img,
                "nearest_neighbor");
            //变换拒绝区域
            ho__RejectRegs.Dispose();
            HOperatorSet.AffineTransRegion(ho_i_RejectRegs, out ho__RejectRegs, hv_i_HomMatMod2Img,
                "nearest_neighbor");
            ho_RegUnion.Dispose();
            HOperatorSet.Union1(ho__RejectRegs, out ho_RegUnion);

            //框架表面检测区域获取
            ho_RegionDifference.Dispose();
            HOperatorSet.Difference(ho__InspectReg, ho_RegUnion, out ho_RegionDifference);
            ho_ImageReduced.Dispose();
            HOperatorSet.ReduceDomain(ho__Image, ho_RegionDifference, out ho_ImageReduced
                );
            ho_Region.Dispose();
            HOperatorSet.Threshold(ho_ImageReduced, out ho_Region, 130, 140);
            {
                HObject ExpTmpOutVar_0;
                HOperatorSet.OpeningCircle(ho_Region, out ExpTmpOutVar_0, 2.5);
                ho_Region.Dispose();
                ho_Region = ExpTmpOutVar_0;
            }
            ho__FrameSurfaceReg.Dispose();
            HOperatorSet.Difference(ho_RegionDifference, ho_Region, out ho__FrameSurfaceReg
                );
            ho__FrameSurfaceImage.Dispose();
            HOperatorSet.ReduceDomain(ho__Image, ho__FrameSurfaceReg, out ho__FrameSurfaceImage
                );

            //自适应提取检测区域目标
            ho__SegImage.Dispose();
            HTV_Adaptive_Threshold(ho__FrameSurfaceImage, out ho__SegImage, hv_i_AdaptiveMethod,
                hv_i_BlockSize, hv_i_Contrast, hv_i_LightOrDark, out hv__ThresholdErrCode,
                out hv__ThresholdErrStr);

            if ((int)(new HTuple(hv__ThresholdErrCode.TupleEqual(0))) != 0)
            {
                //对阈值分割后的目标区域图像进行BLOB分析
                ho_o_Targets.Dispose();
                HTV_BLOB_Extract(ho__SegImage, ho__InspectReg, ho__SubReg, out ho_o_Targets,
                    hv_i_CloseSize, hv_i_MinLength, hv_i_MinWidth, hv_i_MinArea, hv_i_SelOperation,
                    out hv__BlobErrCode, out hv__BlobErrStr);


                //对Blob分析后的结果进行缺陷判断
                HOperatorSet.CountObj(ho_o_Targets, out hv_Number);
                if ((int)((new HTuple(hv__BlobErrCode.TupleEqual(0))).TupleAnd(new HTuple(hv_Number.TupleGreaterEqual(
                    1)))) != 0)
                {
                    hv_o_ErrCode = 1;
                    hv_o_ErrStr = "Frame-Surface is dirty";
                    ho__InspectReg.Dispose();
                    ho__Image.Dispose();
                    ho__SubReg.Dispose();
                    ho__RejectRegs.Dispose();
                    ho_RegUnion.Dispose();
                    ho_RegionDifference.Dispose();
                    ho_ImageReduced.Dispose();
                    ho_Region.Dispose();
                    ho__FrameSurfaceReg.Dispose();
                    ho__FrameSurfaceImage.Dispose();
                    ho__SegImage.Dispose();

                    return;
                }
                else if ((int)((new HTuple(hv__BlobErrCode.TupleEqual(0))).TupleAnd(
                    new HTuple(hv_Number.TupleEqual(0)))) != 0)
                {
                    hv_o_ErrCode = 0;
                    hv_o_ErrStr = "Frame-Surface is clear";
                    ho__InspectReg.Dispose();
                    ho__Image.Dispose();
                    ho__SubReg.Dispose();
                    ho__RejectRegs.Dispose();
                    ho_RegUnion.Dispose();
                    ho_RegionDifference.Dispose();
                    ho_ImageReduced.Dispose();
                    ho_Region.Dispose();
                    ho__FrameSurfaceReg.Dispose();
                    ho__FrameSurfaceImage.Dispose();
                    ho__SegImage.Dispose();

                    return;
                }
                else
                {
                    hv_o_ErrCode = -1;
                    hv_o_ErrStr = "Fail to Frame-Surface Blob_Extract" + hv__BlobErrStr;
                }

            }
            else
            {
                hv_o_ErrCode = -1;
                hv_o_ErrStr = "Fail to Frame-Surface threshold" + hv__ThresholdErrStr;
                ho__InspectReg.Dispose();
                ho__Image.Dispose();
                ho__SubReg.Dispose();
                ho__RejectRegs.Dispose();
                ho_RegUnion.Dispose();
                ho_RegionDifference.Dispose();
                ho_ImageReduced.Dispose();
                ho_Region.Dispose();
                ho__FrameSurfaceReg.Dispose();
                ho__FrameSurfaceImage.Dispose();
                ho__SegImage.Dispose();

                return;
            }
        }


//新算法 2020-03
        public static void HTV_Loc_Match(HObject ho_i_Image, HObject ho_i_SearchReg, HTuple hv_i_ModelType,
    HTuple hv_i_ModelID, HTuple hv_i_Score, HTuple hv_i_AngleStart, HTuple hv_i_AngleExt,
    HTuple hv_i_MatchNum, out HTuple hv_o_LocPara, out HTuple hv_o_ErrCode, out HTuple hv_o_ErrStr)
        {




            // Local iconic variables 

            HObject ho_searchImage;

            // Local control variables 

            HTuple hv_imgNum = null, hv_regNum = null;
            HTuple hv_Row = new HTuple(), hv_Column = new HTuple();
            HTuple hv_Angle = new HTuple(), hv_Score = new HTuple();
            HTuple hv_tarNum = new HTuple(), hv_idx = new HTuple();
            // Initialize local and output iconic variables 
            HOperatorSet.GenEmptyObj(out ho_searchImage);
            //**********     通过模板匹配的方式定位目标
            // i_Image: 输入图像，在图像中寻找匹配对象
            // i_SearchReg: 搜索区域，在区域内匹配目标对象
            // i_ModelType: 模板类型，一般使用ncc和shape定位模板，该参数为整型类型，0-ncc，1-shape
            // i_ModelID: 模板ID号，创建匹配模板时返回值，通常由模板文件读入
            // i_Score: 最小匹配分数
            // i_AngleStart: 匹配定位起始角度
            // i_AngleExt: 匹配定位角度范围
            // i_MatchNum: 需要匹配的目标个数
            // o_LocPara: 匹配对象的位置信息
            // o_ErrCode: 错误码，代表该算子执行过程中产生的错误，0-代表正常执行，自然数-代表错误类型，-1-代表异常，-2-代表未执行
            // o_ErrStr: 错误信息，对各种错误的具体描述

            //初始化
            hv_o_ErrCode = -2;
            hv_o_ErrStr = "initializing";
            HOperatorSet.TupleGenConst(3 * hv_i_MatchNum, -2, out hv_o_LocPara);

            //输入有效性测试
            HOperatorSet.CountObj(ho_i_Image, out hv_imgNum);
            if ((int)(new HTuple(hv_imgNum.TupleEqual(0))) != 0)
            {
                hv_o_ErrCode = -1;
                hv_o_ErrStr = "input image is null";
                ho_searchImage.Dispose();

                return;
            }
            HOperatorSet.CountObj(ho_i_SearchReg, out hv_regNum);
            if ((int)(new HTuple(hv_regNum.TupleLess(1))) != 0)
            {
                hv_o_ErrCode = -1;
                hv_o_ErrStr = "search region is empty";
                ho_searchImage.Dispose();

                return;
            }
            if ((int)(new HTuple((new HTuple(hv_i_ModelType.TupleLength())).TupleEqual(0))) != 0)
            {
                hv_o_ErrCode = -1;
                hv_o_ErrStr = "para i_ModelType is illegal";
                ho_searchImage.Dispose();

                return;
            }
            if ((int)((new HTuple((new HTuple(hv_i_ModelID.TupleLength())).TupleEqual(0))).TupleOr(
                new HTuple(hv_i_ModelID.TupleLess(0)))) != 0)
            {
                hv_o_ErrCode = -1;
                hv_o_ErrStr = "para i_ModelID is illegal";
                ho_searchImage.Dispose();

                return;
            }
            if ((int)((new HTuple((new HTuple((new HTuple(hv_i_Score.TupleLength())).TupleEqual(
                0))).TupleOr(new HTuple(hv_i_Score.TupleLess(0))))).TupleOr(new HTuple(hv_i_Score.TupleGreater(
                1)))) != 0)
            {
                hv_o_ErrCode = -1;
                hv_o_ErrStr = "para i_Score is illegal";
                ho_searchImage.Dispose();

                return;
            }
            if ((int)(new HTuple((new HTuple(hv_i_AngleStart.TupleLength())).TupleEqual(0))) != 0)
            {
                hv_o_ErrCode = -1;
                hv_o_ErrStr = "para i_AngleStart is illegal";
                ho_searchImage.Dispose();

                return;
            }
            if ((int)(new HTuple((new HTuple(hv_i_AngleExt.TupleLength())).TupleEqual(0))) != 0)
            {
                hv_o_ErrCode = -1;
                hv_o_ErrStr = "para i_AngleExt is illegal";
                ho_searchImage.Dispose();

                return;
            }
            if ((int)((new HTuple((new HTuple(hv_i_MatchNum.TupleLength())).TupleEqual(0))).TupleOr(
                new HTuple(hv_i_MatchNum.TupleLess(0)))) != 0)
            {
                hv_o_ErrCode = -1;
                hv_o_ErrStr = "para i_MatchNum is illegal";
                ho_searchImage.Dispose();

                return;
            }

            //根据匹配类型选择算法进行模板匹配
            ho_searchImage.Dispose();
            HOperatorSet.ReduceDomain(ho_i_Image, ho_i_SearchReg, out ho_searchImage);
            if ((int)(new HTuple(hv_i_ModelType.TupleEqual("ncc"))) != 0)
            {
                HOperatorSet.FindNccModel(ho_searchImage, hv_i_ModelID, hv_i_AngleStart, hv_i_AngleExt,
                    hv_i_Score, hv_i_MatchNum, 0.5, "true", 0, out hv_Row, out hv_Column, out hv_Angle,
                    out hv_Score);
            }
            else if ((int)(new HTuple(hv_i_ModelType.TupleEqual("shape"))) != 0)
            {
                HOperatorSet.FindShapeModel(ho_searchImage, hv_i_ModelID, hv_i_AngleStart,
                    hv_i_AngleExt, hv_i_Score, hv_i_MatchNum, 0.5, "least_squares", 0, 0.9,
                    out hv_Row, out hv_Column, out hv_Angle, out hv_Score);
            }
            else
            {
                hv_o_ErrCode = -1;
                hv_o_ErrStr = "unsupported model type!";
                ho_searchImage.Dispose();

                return;
            }
            //未找到足够多的对象，将匹配到的对象信息保存到输出位置参数的靠前位置
            if ((int)(new HTuple((new HTuple(hv_Score.TupleLength())).TupleLess(hv_i_MatchNum))) != 0)
            {
                hv_o_ErrCode = 1;
                hv_o_ErrStr = "one or more target matching is fail";
                hv_tarNum = new HTuple(hv_Row.TupleLength());
                HTuple end_val78 = hv_tarNum - 1;
                HTuple step_val78 = 1;
                for (hv_idx = 0; hv_idx.Continue(end_val78, step_val78); hv_idx = hv_idx.TupleAdd(step_val78))
                {
                    if (hv_o_LocPara == null)
                        hv_o_LocPara = new HTuple();
                    hv_o_LocPara[hv_idx * 3] = hv_Row.TupleSelect(hv_idx);
                    if (hv_o_LocPara == null)
                        hv_o_LocPara = new HTuple();
                    hv_o_LocPara[(hv_idx * 3) + 1] = hv_Column.TupleSelect(hv_idx);
                    if (hv_o_LocPara == null)
                        hv_o_LocPara = new HTuple();
                    hv_o_LocPara[(hv_idx * 3) + 2] = hv_Angle.TupleSelect(hv_idx);
                }
                ho_searchImage.Dispose();

                return;
            }
            //将匹配到的对象位置信息保存到输出参数数组中
            HTuple end_val86 = hv_i_MatchNum - 1;
            HTuple step_val86 = 1;
            for (hv_idx = 0; hv_idx.Continue(end_val86, step_val86); hv_idx = hv_idx.TupleAdd(step_val86))
            {
                if (hv_o_LocPara == null)
                    hv_o_LocPara = new HTuple();
                hv_o_LocPara[hv_idx * 3] = hv_Row.TupleSelect(hv_idx);
                if (hv_o_LocPara == null)
                    hv_o_LocPara = new HTuple();
                hv_o_LocPara[(hv_idx * 3) + 1] = hv_Column.TupleSelect(hv_idx);
                if (hv_o_LocPara == null)
                    hv_o_LocPara = new HTuple();
                hv_o_LocPara[(hv_idx * 3) + 2] = hv_Angle.TupleSelect(hv_idx);
            }

            hv_o_ErrCode = 0;
            hv_o_ErrStr = "model match successful";

            ho_searchImage.Dispose();

            return;
        }

//新算法 2020-03
        public static void HTV_Adaptive_Threshold(HObject ho_i_Image, out HObject ho_o_SegImage,
    HTuple hv_i_AdaptiveMethod, HTuple hv_i_BlockSize, HTuple hv_i_Contrast, HTuple hv_i_LightOrDark,
    out HTuple hv_o_ErrCode, out HTuple hv_o_ErrStr)
        {




            // Local iconic variables 

            HObject ho_blurImage = null, ho_ImageSub = null;

            // Local control variables 

            HTuple hv_imgNum = null, hv_IsString = null;
            // Initialize local and output iconic variables 
            HOperatorSet.GenEmptyObj(out ho_o_SegImage);
            HOperatorSet.GenEmptyObj(out ho_blurImage);
            HOperatorSet.GenEmptyObj(out ho_ImageSub);
            //************   自适应阈值分割，可分别选用均值滤波、高斯滤波或中值滤波方法
            //i_Image: 待处理图像，要求时reduce_domain之后的目标区域图像
            //i_RejectRegs: 拒绝区域，即免检区域，一般在检测区域内部容易造成干扰的区域或不感兴趣的区域
            //o_SegImage: 阈值分割后的目标区域图像，常用于接下来的BLOB分析
            //i_AdaptiveMethod: 局部阈值分割方法，取值为'mean'  'median'   'gauss'
            //i_BlockSize: 邻域大小，即局部阈值分割的尺寸
            //i_Contrast: 灰度对比度，即超过阈值多大的范围视为感兴趣的目标
            //o_ErrCode: 错误码，代表该算子执行过程中产生的错误，0-代表正常执行，自然数-代表错误类型，-1-代表异常，-2-代表未执行
            //o_ErrStr: 错误信息，对各种错误的具体描述

            //初始化
            ho_o_SegImage.Dispose();
            HOperatorSet.GenEmptyObj(out ho_o_SegImage);
            hv_o_ErrCode = -2;
            hv_o_ErrStr = "initializing";

            //输入合法性判断
            //输入图像
            HOperatorSet.CountObj(ho_i_Image, out hv_imgNum);
            if ((int)(new HTuple(hv_imgNum.TupleEqual(0))) != 0)
            {
                hv_o_ErrCode = -1;
                hv_o_ErrStr = "input image is null";
                ho_blurImage.Dispose();
                ho_ImageSub.Dispose();

                return;
            }
            //其他参数
            HOperatorSet.TupleIsString(hv_i_AdaptiveMethod, out hv_IsString);
            if ((int)(new HTuple(hv_IsString.TupleEqual("false"))) != 0)
            {
                hv_o_ErrCode = -1;
                hv_o_ErrStr = "i_AdaptiveMethod must be string";
                ho_blurImage.Dispose();
                ho_ImageSub.Dispose();

                return;
            }
            if ((int)((new HTuple((new HTuple(hv_i_BlockSize.TupleLength())).TupleEqual(0))).TupleOr(
                new HTuple(hv_i_BlockSize.TupleLess(0)))) != 0)
            {
                hv_o_ErrCode = -1;
                hv_o_ErrStr = "i_BlockSize must be greater than 0";
                ho_blurImage.Dispose();
                ho_ImageSub.Dispose();

                return;
            }
            if ((int)((new HTuple((new HTuple(hv_i_Contrast.TupleLength())).TupleEqual(0))).TupleOr(
                new HTuple(hv_i_Contrast.TupleLess(0)))) != 0)
            {
                hv_o_ErrCode = -1;
                hv_o_ErrStr = "i_Contrast must be greater than 0";
                ho_blurImage.Dispose();
                ho_ImageSub.Dispose();

                return;
            }

            //算法处理
            if ((int)(new HTuple(hv_i_AdaptiveMethod.TupleEqual("mean"))) != 0)
            {
                ho_blurImage.Dispose();
                HOperatorSet.MeanImage(ho_i_Image, out ho_blurImage, hv_i_BlockSize + 3, hv_i_BlockSize + 3);
            }
            else if ((int)(new HTuple(hv_i_AdaptiveMethod.TupleEqual("guass"))) != 0)
            {
                ho_blurImage.Dispose();
                HOperatorSet.GaussFilter(ho_i_Image, out ho_blurImage, hv_i_BlockSize);
            }
            else if ((int)(new HTuple(hv_i_AdaptiveMethod.TupleEqual("median"))) != 0)
            {
                ho_blurImage.Dispose();
                HOperatorSet.MedianImage(ho_i_Image, out ho_blurImage, "square", hv_i_BlockSize,
                    "mirrored");
            }
            else
            {
                hv_o_ErrCode = -1;
                hv_o_ErrStr = "unsupport adaptive method";
                ho_blurImage.Dispose();
                ho_ImageSub.Dispose();

                return;
            }
            //阈值处理，考虑对比度要求
            if ((int)(new HTuple(hv_i_LightOrDark.TupleEqual("light"))) != 0)
            {
                ho_ImageSub.Dispose();
                HOperatorSet.SubImage(ho_i_Image, ho_blurImage, out ho_ImageSub, 1, 0);
                ho_o_SegImage.Dispose();
                HOperatorSet.Threshold(ho_ImageSub, out ho_o_SegImage, hv_i_Contrast, 255);
            }
            else if ((int)(new HTuple(hv_i_LightOrDark.TupleEqual("dark"))) != 0)
            {
                ho_ImageSub.Dispose();
                HOperatorSet.SubImage(ho_blurImage, ho_i_Image, out ho_ImageSub, 1, 0);
                ho_o_SegImage.Dispose();
                HOperatorSet.Threshold(ho_ImageSub, out ho_o_SegImage, hv_i_Contrast - 10, 255);
            }

            //目标区域的优化


            hv_o_ErrCode = 0;
            hv_o_ErrStr = "adaptive threshold successful";

            ho_blurImage.Dispose();
            ho_ImageSub.Dispose();

            return;
        }

//新算法 2020-03
        public static void HTV_BLOB_Extract(HObject ho_i_SegImage, HObject ho_i_InspectReg, HObject ho_i_SubReg,
    out HObject ho_o_Targets, HTuple hv_i_CloseSize, HTuple hv_i_MinLength, HTuple hv_i_MinWidth,
    HTuple hv_i_MinArea, HTuple hv_i_SelOperation, out HTuple hv_o_ErrCode, out HTuple hv_o_ErrStr)
        {




            // Stack for temporary objects 
            HObject[] OTemp = new HObject[20];

            // Local iconic variables 

            HObject ho_ConnectedRegions, ho_RegionDifference = null;
            HObject ho_RegionUnion = null, ho__AllRegs = null, ho_objRegion = null;
            HObject ho_ObjectSelected = null, ho_EmptyObject = null, ho_ObjectSelected1 = null;
            HObject ho_RegionIntersection = null, ho_RegionClosing = null;
            HObject ho_ConnectedRegions1 = null, ho_SelectedRegions = null;

            // Local control variables 

            HTuple hv_imgNum = null, hv_regNum = null;
            HTuple hv_IsString = null, hv__NumSub = null, hv__Rect2Len1 = null;
            HTuple hv__Rect2Len2 = null, hv_num = new HTuple(), hv_tmpTup = new HTuple();
            HTuple hv__Num = new HTuple(), hv_i = new HTuple(), hv_j = new HTuple();
            HTuple hv__Area = new HTuple(), hv__Row = new HTuple();
            HTuple hv__Column = new HTuple();
            HTuple hv_i_MinArea_COPY_INP_TMP = hv_i_MinArea.Clone();

            // Initialize local and output iconic variables 
            HOperatorSet.GenEmptyObj(out ho_o_Targets);
            HOperatorSet.GenEmptyObj(out ho_ConnectedRegions);
            HOperatorSet.GenEmptyObj(out ho_RegionDifference);
            HOperatorSet.GenEmptyObj(out ho_RegionUnion);
            HOperatorSet.GenEmptyObj(out ho__AllRegs);
            HOperatorSet.GenEmptyObj(out ho_objRegion);
            HOperatorSet.GenEmptyObj(out ho_ObjectSelected);
            HOperatorSet.GenEmptyObj(out ho_EmptyObject);
            HOperatorSet.GenEmptyObj(out ho_ObjectSelected1);
            HOperatorSet.GenEmptyObj(out ho_RegionIntersection);
            HOperatorSet.GenEmptyObj(out ho_RegionClosing);
            HOperatorSet.GenEmptyObj(out ho_ConnectedRegions1);
            HOperatorSet.GenEmptyObj(out ho_SelectedRegions);
            //***********************************************************************
            // 缺陷目标提取：提取连通区域，按照面积、长、宽进行筛选
            //　i_SegImage：图像分割后的二值图像
            //　i_InspectReg：检测区域
            //　i_SubReg：重点检测区域
            //　o_Targets：符合要求的缺陷目标
            //　i_CloseSize：闭运算尺寸
            //　i_MinLength：缺陷最小外接矩形半长,为一个向量，针对各重点检测区和非重点检测区分别设置不同参数
            //　i_MinWidth：缺陷最小外接矩形半宽,为一个向量，针对各重点检测区和非重点检测区分别设置不同参数
            //　i_MinArea：缺陷最小面积,为一个向量，针对各重点检测区和非重点检测区分别设置不同参数
            //　i_SelOperation：形状选择算子and或or等
            //o_ErrCode: 错误码，代表该算子执行过程中产生的错误，0-代表正常执行，自然数-代表错误类型，-1-代表异常，-2-代表未执行
            //o_ErrStr: 错误信息，对各种错误的具体描述
            //***********************************************************************

            //初始化
            ho_o_Targets.Dispose();
            HOperatorSet.GenEmptyObj(out ho_o_Targets);
            hv_o_ErrCode = -2;
            hv_o_ErrStr = "initializing";

            //输入合法性判断
            HOperatorSet.CountObj(ho_i_SegImage, out hv_imgNum);
            if ((int)(new HTuple(hv_imgNum.TupleEqual(0))) != 0)
            {
                hv_o_ErrCode = -1;
                hv_o_ErrStr = "input image is null";
                ho_ConnectedRegions.Dispose();
                ho_RegionDifference.Dispose();
                ho_RegionUnion.Dispose();
                ho__AllRegs.Dispose();
                ho_objRegion.Dispose();
                ho_ObjectSelected.Dispose();
                ho_EmptyObject.Dispose();
                ho_ObjectSelected1.Dispose();
                ho_RegionIntersection.Dispose();
                ho_RegionClosing.Dispose();
                ho_ConnectedRegions1.Dispose();
                ho_SelectedRegions.Dispose();

                return;
            }
            HOperatorSet.CountObj(ho_i_InspectReg, out hv_regNum);
            if ((int)(new HTuple(hv_regNum.TupleEqual(0))) != 0)
            {
                hv_o_ErrCode = -1;
                hv_o_ErrStr = "ispect region is null";
                ho_ConnectedRegions.Dispose();
                ho_RegionDifference.Dispose();
                ho_RegionUnion.Dispose();
                ho__AllRegs.Dispose();
                ho_objRegion.Dispose();
                ho_ObjectSelected.Dispose();
                ho_EmptyObject.Dispose();
                ho_ObjectSelected1.Dispose();
                ho_RegionIntersection.Dispose();
                ho_RegionClosing.Dispose();
                ho_ConnectedRegions1.Dispose();
                ho_SelectedRegions.Dispose();

                return;
            }
            if ((int)((new HTuple((new HTuple(hv_i_CloseSize.TupleLength())).TupleEqual(0))).TupleOr(
                new HTuple(hv_i_CloseSize.TupleLess(0)))) != 0)
            {
                hv_o_ErrCode = -1;
                hv_o_ErrStr = "i_CloseSize must be greater than 0";
                ho_ConnectedRegions.Dispose();
                ho_RegionDifference.Dispose();
                ho_RegionUnion.Dispose();
                ho__AllRegs.Dispose();
                ho_objRegion.Dispose();
                ho_ObjectSelected.Dispose();
                ho_EmptyObject.Dispose();
                ho_ObjectSelected1.Dispose();
                ho_RegionIntersection.Dispose();
                ho_RegionClosing.Dispose();
                ho_ConnectedRegions1.Dispose();
                ho_SelectedRegions.Dispose();

                return;
            }
            if ((int)((new HTuple((new HTuple(hv_i_MinLength.TupleLength())).TupleEqual(0))).TupleOr(
                new HTuple(((hv_i_MinLength.TupleSelect(0))).TupleLess(0)))) != 0)
            {
                hv_o_ErrCode = -1;
                hv_o_ErrStr = "i_MinLength must be an array and the value be greater than 0";
                ho_ConnectedRegions.Dispose();
                ho_RegionDifference.Dispose();
                ho_RegionUnion.Dispose();
                ho__AllRegs.Dispose();
                ho_objRegion.Dispose();
                ho_ObjectSelected.Dispose();
                ho_EmptyObject.Dispose();
                ho_ObjectSelected1.Dispose();
                ho_RegionIntersection.Dispose();
                ho_RegionClosing.Dispose();
                ho_ConnectedRegions1.Dispose();
                ho_SelectedRegions.Dispose();

                return;
            }
            if ((int)((new HTuple((new HTuple(hv_i_MinWidth.TupleLength())).TupleEqual(0))).TupleOr(
                new HTuple(((hv_i_MinWidth.TupleSelect(0))).TupleLess(0)))) != 0)
            {
                hv_o_ErrCode = -1;
                hv_o_ErrStr = "i_MinWidth must be an array and the value be greater than 0";
                ho_ConnectedRegions.Dispose();
                ho_RegionDifference.Dispose();
                ho_RegionUnion.Dispose();
                ho__AllRegs.Dispose();
                ho_objRegion.Dispose();
                ho_ObjectSelected.Dispose();
                ho_EmptyObject.Dispose();
                ho_ObjectSelected1.Dispose();
                ho_RegionIntersection.Dispose();
                ho_RegionClosing.Dispose();
                ho_ConnectedRegions1.Dispose();
                ho_SelectedRegions.Dispose();

                return;
            }
            if ((int)((new HTuple((new HTuple(hv_i_MinArea_COPY_INP_TMP.TupleLength())).TupleEqual(
                0))).TupleOr(new HTuple(((hv_i_MinArea_COPY_INP_TMP.TupleSelect(0))).TupleLess(
                0)))) != 0)
            {
                hv_o_ErrCode = -1;
                hv_o_ErrStr = "i_MinArea must be an array and the value be greater than 0";
                ho_ConnectedRegions.Dispose();
                ho_RegionDifference.Dispose();
                ho_RegionUnion.Dispose();
                ho__AllRegs.Dispose();
                ho_objRegion.Dispose();
                ho_ObjectSelected.Dispose();
                ho_EmptyObject.Dispose();
                ho_ObjectSelected1.Dispose();
                ho_RegionIntersection.Dispose();
                ho_RegionClosing.Dispose();
                ho_ConnectedRegions1.Dispose();
                ho_SelectedRegions.Dispose();

                return;
            }
            HOperatorSet.TupleIsString(hv_i_SelOperation, out hv_IsString);
            if ((int)(new HTuple(hv_IsString.TupleEqual("false"))) != 0)
            {
                hv_o_ErrCode = -1;
                hv_o_ErrStr = "i_SelOperation must be string";
                ho_ConnectedRegions.Dispose();
                ho_RegionDifference.Dispose();
                ho_RegionUnion.Dispose();
                ho__AllRegs.Dispose();
                ho_objRegion.Dispose();
                ho_ObjectSelected.Dispose();
                ho_EmptyObject.Dispose();
                ho_ObjectSelected1.Dispose();
                ho_RegionIntersection.Dispose();
                ho_RegionClosing.Dispose();
                ho_ConnectedRegions1.Dispose();
                ho_SelectedRegions.Dispose();

                return;
            }

            //算法主体
            ho_ConnectedRegions.Dispose();
            HOperatorSet.Connection(ho_i_SegImage, out ho_ConnectedRegions);
            HOperatorSet.CountObj(ho_i_SubReg, out hv__NumSub);
            hv__Rect2Len1 = hv_i_MinLength / 2.0;
            hv__Rect2Len2 = hv_i_MinWidth / 2.0;
            //确定每个区域的参数,每个重点检测区和非重点检测区分别调用各自的参数,参数不够时，复制最后一个参数
            if ((int)(new HTuple((new HTuple(hv_i_MinLength.TupleLength())).TupleLess(hv__NumSub + 1))) != 0)
            {
                hv_num = (hv__NumSub + 1) - (new HTuple(hv_i_MinLength.TupleLength()));
                HOperatorSet.TupleGenConst(hv_num, hv__Rect2Len1.TupleSelect((new HTuple(hv_i_MinLength.TupleLength()
                    )) - 1), out hv_tmpTup);
                hv__Rect2Len1 = hv__Rect2Len1.TupleConcat(hv_tmpTup);
            }
            if ((int)(new HTuple((new HTuple(hv_i_MinWidth.TupleLength())).TupleLess(hv__NumSub + 1))) != 0)
            {
                hv_num = (hv__NumSub + 1) - (new HTuple(hv_i_MinWidth.TupleLength()));
                HOperatorSet.TupleGenConst(hv_num, hv__Rect2Len2.TupleSelect((new HTuple(hv_i_MinWidth.TupleLength()
                    )) - 1), out hv_tmpTup);
                hv__Rect2Len2 = hv__Rect2Len2.TupleConcat(hv_tmpTup);
            }
            if ((int)(new HTuple((new HTuple(hv_i_MinArea_COPY_INP_TMP.TupleLength())).TupleLess(
                hv__NumSub + 1))) != 0)
            {
                hv_num = (hv__NumSub + 1) - (new HTuple(hv_i_MinArea_COPY_INP_TMP.TupleLength()
                    ));
                HOperatorSet.TupleGenConst(hv_num, hv_i_MinArea_COPY_INP_TMP.TupleSelect((new HTuple(hv_i_MinArea_COPY_INP_TMP.TupleLength()
                    )) - 1), out hv_tmpTup);
                hv_i_MinArea_COPY_INP_TMP = hv_i_MinArea_COPY_INP_TMP.TupleConcat(hv_tmpTup);
            }

            if ((int)(new HTuple(hv__NumSub.TupleGreater(0))) != 0)
            {
                //检测矩形框中除去OK品参考子区域外的部分单独作为一个整体区域
                ho_RegionDifference.Dispose();
                HOperatorSet.Difference(ho_i_InspectReg, ho_i_SubReg, out ho_RegionDifference
                    );
                ho_RegionUnion.Dispose();
                HOperatorSet.Union1(ho_RegionDifference, out ho_RegionUnion);
                //_AllRegs中，第一个区域为非重点区域，其他区域为重点检测区域
                ho__AllRegs.Dispose();
                HOperatorSet.ConcatObj(ho_RegionUnion, ho_i_SubReg, out ho__AllRegs);

                //连通区域个数，为逐次比较内循环次数
                HOperatorSet.CountObj(ho_ConnectedRegions, out hv__Num);
                //不能采用gen_empty_region,空区域在copy_obj时会增加一个计数值,故:没有缺陷的情况下会有报错
                ho_objRegion.Dispose();
                HOperatorSet.GenEmptyObj(out ho_objRegion);
                HTuple end_val93 = hv__NumSub;
                HTuple step_val93 = 1;
                for (hv_i = 0; hv_i.Continue(end_val93, step_val93); hv_i = hv_i.TupleAdd(step_val93))
                {
                    //第一个区域使用非重点检测区域的参数，其他区域使用重点检测区域的参数(可分别设置)
                    ho_ObjectSelected.Dispose();
                    HOperatorSet.SelectObj(ho__AllRegs, out ho_ObjectSelected, hv_i + 1);
                    ho_EmptyObject.Dispose();
                    HOperatorSet.GenEmptyObj(out ho_EmptyObject);
                    HTuple end_val97 = hv__Num;
                    HTuple step_val97 = 1;
                    for (hv_j = 1; hv_j.Continue(end_val97, step_val97); hv_j = hv_j.TupleAdd(step_val97))
                    {
                        ho_ObjectSelected1.Dispose();
                        HOperatorSet.SelectObj(ho_ConnectedRegions, out ho_ObjectSelected1, hv_j);
                        //求两个区域的交集，并计算其面积和中心，，判断缺陷是否在当前检测区域内
                        ho_RegionIntersection.Dispose();
                        HOperatorSet.Intersection(ho_ObjectSelected, ho_ObjectSelected1, out ho_RegionIntersection
                            );
                        HOperatorSet.AreaCenter(ho_RegionIntersection, out hv__Area, out hv__Row,
                            out hv__Column);
                        //由于count_obj作用于RegionIntersection时，对空区域的输出也为1，故增加对面积的判断，只有面积大于0才能确保区域相交
                        if ((int)(new HTuple(hv__Area.TupleGreater(0))) != 0)
                        {
                            //将位于当前检测区域内的缺陷合并在一起
                            {
                                HObject ExpTmpOutVar_0;
                                HOperatorSet.Union2(ho_EmptyObject, ho_RegionIntersection, out ExpTmpOutVar_0
                                    );
                                ho_EmptyObject.Dispose();
                                ho_EmptyObject = ExpTmpOutVar_0;
                            }
                        }
                    }
                    //对当前检测区域内的缺陷进行闭运算，消除内部的空洞
                    ho_RegionClosing.Dispose();
                    HOperatorSet.ClosingCircle(ho_EmptyObject, out ho_RegionClosing, hv_i_CloseSize);
                    //提取连通区域，筛选符合检测要求（超过工艺许可）的缺陷
                    ho_ConnectedRegions1.Dispose();
                    HOperatorSet.Connection(ho_RegionClosing, out ho_ConnectedRegions1);
                    ho_SelectedRegions.Dispose();
                    HOperatorSet.SelectShape(ho_ConnectedRegions1, out ho_SelectedRegions, ((new HTuple("rect2_len1")).TupleConcat(
                        "rect2_len2")).TupleConcat("area"), hv_i_SelOperation, ((((hv__Rect2Len1.TupleSelect(
                        hv_i))).TupleConcat(hv__Rect2Len2.TupleSelect(hv_i)))).TupleConcat(hv_i_MinArea_COPY_INP_TMP.TupleSelect(
                        hv_i)), ((new HTuple(99999)).TupleConcat(99999)).TupleConcat(99999));
                    {
                        HObject ExpTmpOutVar_0;
                        HOperatorSet.ConcatObj(ho_objRegion, ho_SelectedRegions, out ExpTmpOutVar_0
                            );
                        ho_objRegion.Dispose();
                        ho_objRegion = ExpTmpOutVar_0;
                    }
                }
                ho_o_Targets.Dispose();
                HOperatorSet.CopyObj(ho_objRegion, out ho_o_Targets, 1, -1);
            }
            else
            {
                //没有设置重点检测区时，整个检测区都是非重点检测区，直接筛选结果输出
                ho_o_Targets.Dispose();
                HOperatorSet.SelectShape(ho_ConnectedRegions, out ho_o_Targets, ((new HTuple("rect2_len1")).TupleConcat(
                    "rect2_len2")).TupleConcat("area"), hv_i_SelOperation, ((((hv__Rect2Len1.TupleMin()
                    )).TupleConcat(hv__Rect2Len2.TupleMin()))).TupleConcat(hv_i_MinArea_COPY_INP_TMP.TupleMin()
                    ), ((new HTuple(999999)).TupleConcat(999999)).TupleConcat(999999));
            }

            hv_o_ErrCode = 0;
            hv_o_ErrStr = "blob extraction successful!";

            ho_ConnectedRegions.Dispose();
            ho_RegionDifference.Dispose();
            ho_RegionUnion.Dispose();
            ho__AllRegs.Dispose();
            ho_objRegion.Dispose();
            ho_ObjectSelected.Dispose();
            ho_EmptyObject.Dispose();
            ho_ObjectSelected1.Dispose();
            ho_RegionIntersection.Dispose();
            ho_RegionClosing.Dispose();
            ho_ConnectedRegions1.Dispose();
            ho_SelectedRegions.Dispose();

            return;
        }

        //新算法 2020-03
        public static void HTV_Select_DieInspect_Result(HObjectVector/*{eObjectVector,Dim=1}*/ hvec_i_FailRegsFrame,
    HObjectVector/*{eObjectVector,Dim=1}*/ hvec_i_FailRegsPegRack, HObjectVector/*{eObjectVector,Dim=1}*/ hvec_i_FailRegsIc,
    HObjectVector/*{eObjectVector,Dim=1}*/ hvec_i_FailRegsEpoxy, HObjectVector/*{eObjectVector,Dim=1}*/ hvec_i_FailRegsBond1,
    HObjectVector/*{eObjectVector,Dim=1}*/ hvec_i_FailRegsBond2, HObjectVector/*{eObjectVector,Dim=1}*/ hvec_i_FailRegsLead1Wire,
    HObjectVector/*{eObjectVector,Dim=1}*/ hvec_i_FailRegsLead2Wire, out HObject ho_o_FailRegs,
    HTuple hv_i_DefectTypeFrame, HTuple hv_i_DefectTypePegRack, HTuple hv_i_DefectTypeIc,
    HTuple hv_i_DefectTypeEpoxy, HTuple hv_i_DefectTypeBond1, HTuple hv_i_DefectTypeBond2,
    HTuple hv_i_DefectTypeLead1Wire, HTuple hv_i_DefectTypeLead2Wire, out HTuple hv_o_DefectType,
    out HTuple hv_o_OKorNG, out HTuple hv_o_ErrCode, out HTuple hv_o_ErrStr)
        {




            // Stack for temporary objects 
            HObject[] OTemp = new HObject[20];

            // Local iconic variables 

            HObject ho_o_FailRegsFrame, ho_o_FailRegsPegRack;
            HObject ho_o_FailRegsMainIc, ho_o_FailRegsEpoxyMainIc, ho_o_FailRegsBond1;
            HObject ho_o_FailRegsBond2, ho_o_FailRegsLead1Wire, ho_o_FailRegsLead2Wire;

            // Local control variables 

            HTuple hv_temp_Defect = null, hv_Indices = null;
            HTuple hv_Indices1 = null, hv_Reduced = null, hv_o_DefectTypeFrame = null;
            HTuple hv_o_DefectTypePegRack = null, hv_o_DefectTypeMainIc = null;
            HTuple hv_o_DefectTypeEpoxyMainIc = null, hv_o_DefectTypeBond1 = null;
            HTuple hv_o_DefectTypeBond2 = null, hv_o_DefectTypeLead1Wire = null;
            HTuple hv_o_DefectTypeLead2Wire = null, hv_o_ErrCode1 = null;
            HTuple hv_o_ErrStr1 = null, hv_o_ErrCode2 = null, hv_o_ErrStr2 = null;
            HTuple hv_o_ErrCode3 = null, hv_o_ErrStr3 = null, hv_o_ErrCode4 = null;
            HTuple hv_o_ErrStr4 = null, hv_o_ErrCode5 = null, hv_o_ErrStr5 = null;
            HTuple hv_o_ErrCode6 = null, hv_o_ErrStr6 = null, hv_o_ErrCode7 = null;
            HTuple hv_o_ErrStr7 = null, hv_o_ErrCode8 = null, hv_o_ErrStr8 = null;
            // Initialize local and output iconic variables 
            HOperatorSet.GenEmptyObj(out ho_o_FailRegs);
            HOperatorSet.GenEmptyObj(out ho_o_FailRegsFrame);
            HOperatorSet.GenEmptyObj(out ho_o_FailRegsPegRack);
            HOperatorSet.GenEmptyObj(out ho_o_FailRegsMainIc);
            HOperatorSet.GenEmptyObj(out ho_o_FailRegsEpoxyMainIc);
            HOperatorSet.GenEmptyObj(out ho_o_FailRegsBond1);
            HOperatorSet.GenEmptyObj(out ho_o_FailRegsBond2);
            HOperatorSet.GenEmptyObj(out ho_o_FailRegsLead1Wire);
            HOperatorSet.GenEmptyObj(out ho_o_FailRegsLead2Wire);
            //*****************************************
            //i_FailRegsFrame ：输入的Frame检测项目的异常区域
            //i_FailRegsPegRack ：输入的PegRack检测项目的异常区域
            //i_FailRegsIc：输入的Ic检测项目的异常区域
            //i_FailRegsEpoxy：输入的Epoxy检测项目的异常区域
            //i_FailRegsBond1：输入的Bond1检测项目的异常区域
            //i_FailRegsBond2：输入的Bond2检测项目的异常区域
            //i_FailRegsLead1Wire：输入的Lead1Wire检测项目的异常区域
            //i_FailRegsLead2Wire：输入的Lead2Wire检测项目的异常区域
            //o_FailRegs输出的经过整合后的异常区域
            //i_DefectTypeFrame：输入的Frame检测项目的缺陷类型
            //i_DefectTypePegRack：输入的PegRack检测项目的缺陷类型
            //i_DefectTypeIc：输入的MIc检测项目的缺陷类型
            //i_DefectTypeEpoxy：输入的Epoxy检测项目的缺陷类型
            //i_DefectTypeBond1：输入的Bond1检测项目的缺陷类型
            //i_DefectTypeBond2：输入的Bond2检测项目的缺陷类型
            //i_DefectTypeLead1Wire：输入的Lead1Wire检测项目的缺陷类型
            //i_DefectTypeLead2Wire：输入的Lead2Wire检测项目的缺陷类型
            //o_DefectType：输出的经过整合对应的缺陷类型
            //o_OKorNG整个芯片检测后是否okorng的标志
            //o_ErrCode该函数实际执行过程中的异常标志 0-OK,-1-异常，-2-未执行，自然数-错误类型
            //o_ErrStr该函数实际执行过程中的异常信息
            //******************************************************

            //初始化
            hv_o_ErrCode = -2;
            hv_o_ErrStr = "initializing";
            ho_o_FailRegs.Dispose();
            HOperatorSet.GenEmptyObj(out ho_o_FailRegs);
            hv_o_DefectType = new HTuple();
            hv_o_OKorNG = new HTuple();

            //结果整合

            hv_temp_Defect = new HTuple();
            hv_temp_Defect = hv_temp_Defect.TupleConcat(hv_i_DefectTypeFrame);
            hv_temp_Defect = hv_temp_Defect.TupleConcat(hv_i_DefectTypePegRack);
            hv_temp_Defect = hv_temp_Defect.TupleConcat(hv_i_DefectTypeIc);
            hv_temp_Defect = hv_temp_Defect.TupleConcat(hv_i_DefectTypeEpoxy);
            hv_temp_Defect = hv_temp_Defect.TupleConcat(hv_i_DefectTypeBond1);
            hv_temp_Defect = hv_temp_Defect.TupleConcat(hv_i_DefectTypeBond2);
            hv_temp_Defect = hv_temp_Defect.TupleConcat(hv_i_DefectTypeLead1Wire);
            hv_temp_Defect = hv_temp_Defect.TupleConcat(hv_i_DefectTypeLead2Wire);

            HOperatorSet.TupleFind(hv_temp_Defect, -2, out hv_Indices);
            HOperatorSet.TupleRemove(hv_temp_Defect, hv_Indices, out hv_temp_Defect);
            HOperatorSet.TupleFind(hv_temp_Defect, 0, out hv_Indices1);
            HOperatorSet.TupleRemove(hv_temp_Defect, hv_Indices1, out hv_Reduced);

            if ((int)(new HTuple((new HTuple(hv_Reduced.TupleLength())).TupleEqual(0))) != 0)
            {
                hv_o_OKorNG = 1;
            }
            else
            {
                hv_o_OKorNG = 0;
            }

            //筛选Frame
            ho_o_FailRegsFrame.Dispose();
            HTV_Select_Result(hvec_i_FailRegsFrame, out ho_o_FailRegsFrame, hv_i_DefectTypeFrame,
                out hv_o_DefectTypeFrame, out hv_o_ErrCode1, out hv_o_ErrStr1);
            //筛选RegPark
            ho_o_FailRegsPegRack.Dispose();
            HTV_Select_Result(hvec_i_FailRegsPegRack, out ho_o_FailRegsPegRack, hv_i_DefectTypePegRack,
                out hv_o_DefectTypePegRack, out hv_o_ErrCode2, out hv_o_ErrStr2);
            //筛选MianIc
            ho_o_FailRegsMainIc.Dispose();
            HTV_Select_Result(hvec_i_FailRegsIc, out ho_o_FailRegsMainIc, hv_i_DefectTypeIc,
                out hv_o_DefectTypeMainIc, out hv_o_ErrCode3, out hv_o_ErrStr3);
            //筛选银胶检测
            ho_o_FailRegsEpoxyMainIc.Dispose();
            HTV_Select_Result(hvec_i_FailRegsEpoxy, out ho_o_FailRegsEpoxyMainIc, hv_i_DefectTypeEpoxy,
                out hv_o_DefectTypeEpoxyMainIc, out hv_o_ErrCode4, out hv_o_ErrStr4);
            //筛选Bond1
            ho_o_FailRegsBond1.Dispose();
            HTV_Select_Result(hvec_i_FailRegsBond1, out ho_o_FailRegsBond1, hv_i_DefectTypeBond1,
                out hv_o_DefectTypeBond1, out hv_o_ErrCode5, out hv_o_ErrStr5);
            //筛选Bond2
            ho_o_FailRegsBond2.Dispose();
            HTV_Select_Result(hvec_i_FailRegsBond2, out ho_o_FailRegsBond2, hv_i_DefectTypeBond2,
                out hv_o_DefectTypeBond2, out hv_o_ErrCode6, out hv_o_ErrStr6);
            //筛选Lead1Wire
            ho_o_FailRegsLead1Wire.Dispose();
            HTV_Select_Result(hvec_i_FailRegsLead1Wire, out ho_o_FailRegsLead1Wire, hv_i_DefectTypeLead1Wire,
                out hv_o_DefectTypeLead1Wire, out hv_o_ErrCode7, out hv_o_ErrStr7);
            //筛选Lead2Wire
            ho_o_FailRegsLead2Wire.Dispose();
            HTV_Select_Result(hvec_i_FailRegsLead2Wire, out ho_o_FailRegsLead2Wire, hv_i_DefectTypeLead2Wire,
                out hv_o_DefectTypeLead2Wire, out hv_o_ErrCode8, out hv_o_ErrStr8);
            //合并缺陷Type
            hv_o_DefectType = new HTuple();
            hv_o_DefectType = hv_o_DefectType.TupleConcat(hv_o_DefectTypeFrame);
            hv_o_DefectType = hv_o_DefectType.TupleConcat(hv_o_DefectTypePegRack);
            hv_o_DefectType = hv_o_DefectType.TupleConcat(hv_o_DefectTypeMainIc);
            hv_o_DefectType = hv_o_DefectType.TupleConcat(hv_o_DefectTypeEpoxyMainIc);
            hv_o_DefectType = hv_o_DefectType.TupleConcat(hv_o_DefectTypeBond1);
            hv_o_DefectType = hv_o_DefectType.TupleConcat(hv_o_DefectTypeBond2);
            hv_o_DefectType = hv_o_DefectType.TupleConcat(hv_o_DefectTypeLead1Wire);
            hv_o_DefectType = hv_o_DefectType.TupleConcat(hv_o_DefectTypeLead2Wire);

            //合并缺陷区域Failregs
            {
                HObject ExpTmpOutVar_0;
                HOperatorSet.ConcatObj(ho_o_FailRegsFrame, ho_o_FailRegs, out ExpTmpOutVar_0);
                ho_o_FailRegs.Dispose();
                ho_o_FailRegs = ExpTmpOutVar_0;
            }
            {
                HObject ExpTmpOutVar_0;
                HOperatorSet.ConcatObj(ho_o_FailRegsPegRack, ho_o_FailRegs, out ExpTmpOutVar_0
                    );
                ho_o_FailRegs.Dispose();
                ho_o_FailRegs = ExpTmpOutVar_0;
            }
            {
                HObject ExpTmpOutVar_0;
                HOperatorSet.ConcatObj(ho_o_FailRegsMainIc, ho_o_FailRegs, out ExpTmpOutVar_0
                    );
                ho_o_FailRegs.Dispose();
                ho_o_FailRegs = ExpTmpOutVar_0;
            }
            {
                HObject ExpTmpOutVar_0;
                HOperatorSet.ConcatObj(ho_o_FailRegsEpoxyMainIc, ho_o_FailRegs, out ExpTmpOutVar_0
                    );
                ho_o_FailRegs.Dispose();
                ho_o_FailRegs = ExpTmpOutVar_0;
            }
            {
                HObject ExpTmpOutVar_0;
                HOperatorSet.ConcatObj(ho_o_FailRegsBond1, ho_o_FailRegs, out ExpTmpOutVar_0);
                ho_o_FailRegs.Dispose();
                ho_o_FailRegs = ExpTmpOutVar_0;
            }
            {
                HObject ExpTmpOutVar_0;
                HOperatorSet.ConcatObj(ho_o_FailRegsBond2, ho_o_FailRegs, out ExpTmpOutVar_0);
                ho_o_FailRegs.Dispose();
                ho_o_FailRegs = ExpTmpOutVar_0;
            }
            {
                HObject ExpTmpOutVar_0;
                HOperatorSet.ConcatObj(ho_o_FailRegsLead1Wire, ho_o_FailRegs, out ExpTmpOutVar_0
                    );
                ho_o_FailRegs.Dispose();
                ho_o_FailRegs = ExpTmpOutVar_0;
            }
            {
                HObject ExpTmpOutVar_0;
                HOperatorSet.ConcatObj(ho_o_FailRegsLead2Wire, ho_o_FailRegs, out ExpTmpOutVar_0
                    );
                ho_o_FailRegs.Dispose();
                ho_o_FailRegs = ExpTmpOutVar_0;
            }


            hv_o_ErrCode = 0;
            hv_o_ErrStr = "integrate results successful";
            ho_o_FailRegsFrame.Dispose();
            ho_o_FailRegsPegRack.Dispose();
            ho_o_FailRegsMainIc.Dispose();
            ho_o_FailRegsEpoxyMainIc.Dispose();
            ho_o_FailRegsBond1.Dispose();
            ho_o_FailRegsBond2.Dispose();
            ho_o_FailRegsLead1Wire.Dispose();
            ho_o_FailRegsLead2Wire.Dispose();

            return;
        }

        //新算法 2020-03
        public static void HTV_Select_Result(HObjectVector/*{eObjectVector,Dim=1}*/ hvec_i_FailRegs,
    out HObject ho_o_FailRegs, HTuple hv_i_DefectType, out HTuple hv_o_DefectType,
    out HTuple hv_o_ErrCode, out HTuple hv_o_ErrStr)
        {




            // Stack for temporary objects 
            HObject[] OTemp = new HObject[20];

            // Local iconic variables 

            // Local control variables 

            HTuple hv_Idx = null, hv_Indices = null, hv_Indices1 = null;
            HTuple hv_Indices2 = null;
            // Initialize local and output iconic variables 
            HOperatorSet.GenEmptyObj(out ho_o_FailRegs);
            //***************************各项目检测结果筛选并输出
            // i_FailRegs：检测结果错误区域 ：向量类型
            // o_FailRegs：筛选后的错误区域整合
            // i_DefectType：错误类型
            // o_DefectType：筛选后的错误类型
            // o_ErrCode：错误码，显示函数执行结果
            // o_ErrStr：错误描述
            //*********************************
            //初始化
            hv_o_ErrCode = -2;
            hv_o_ErrStr = "initailizing";
            ho_o_FailRegs.Dispose();
            HOperatorSet.GenEmptyObj(out ho_o_FailRegs);
            hv_o_DefectType = new HTuple();

            //开始筛选错误区域
            for (hv_Idx = 0; (int)hv_Idx <= (int)((new HTuple(hv_i_DefectType.TupleLength())) - 1); hv_Idx = (int)hv_Idx + 1)
            {
                if ((int)(new HTuple(((hv_i_DefectType.TupleSelect(hv_Idx))).TupleGreater(0))) != 0)
                {
                    using (HDevDisposeHelper dh = new HDevDisposeHelper())
                    {
                        HObject ExpTmpOutVar_0;
                        HOperatorSet.ConcatObj(ho_o_FailRegs, hvec_i_FailRegs[hv_Idx].O, out ExpTmpOutVar_0
                            );
                        ho_o_FailRegs.Dispose();
                        ho_o_FailRegs = ExpTmpOutVar_0;
                    }
                }
            }

            //筛选错误显示码
            HOperatorSet.TupleFind(hv_i_DefectType, -2, out hv_Indices);
            HOperatorSet.TupleRemove(hv_i_DefectType, hv_Indices, out hv_o_DefectType);

            HOperatorSet.TupleFind(hv_o_DefectType, 0, out hv_Indices1);
            HOperatorSet.TupleRemove(hv_o_DefectType, hv_Indices1, out hv_o_DefectType);

            HOperatorSet.TupleFind(hv_o_DefectType, -1, out hv_Indices2);
            HOperatorSet.TupleRemove(hv_o_DefectType, hv_Indices2, out hv_o_DefectType);

            hv_o_ErrCode = 0;
            hv_o_ErrStr = "select result successful";

            return;
        }

        #region PegRack inspect
        //新算法 2020-03
        public static void HTV_PegRack_Inspect(HObject ho_i_Image, HObject ho_i_InspectReg, HObject ho_i_RejectRegs,
            HObject ho_i_SubReg, out HObjectVector/*{eObjectVector,Dim=1}*/ hvec_o_FailRegs,
            HTuple hv_i_HomMatMod2Img, HTuple hv_i_GrayThresh, HTuple hv_i_CloseOrOpenSize,
            HTuple hv_i_AdaptiveMethod, HTuple hv_i_BlockSize, HTuple hv_i_Contrast, HTuple hv_i_CloseSize,
            HTuple hv_i_MinLength, HTuple hv_i_MinWidth, HTuple hv_i_MinArea, HTuple hv_i_SelOperation,
            HTuple hv_i_LightOrDark, out HTupleVector/*{eTupleVector,Dim=1}*/ hvec_o_DefectValue,
            out HTuple hv_o_DefectType, out HTuple hv_o_ErrCode, out HTuple hv_o_ErrStr)
        {




            // Local iconic variables 

            HObject ho__EmptyFailReg, ho__BridgeTargets;
            HObject ho__PegRackTargets, ho_RegionUnion;

            // Local control variables 

            HTuple hv_Index = null, hv_HomMatSum = null;
            HTuple hv__ErrPegRackCode = null, hv__ErrPegRackStr = null;
            HTuple hv__ErrBridgeCode = null, hv__ErrBridgeStr = null;
            HTuple hv_Area = null, hv_Row = null, hv_Column = null;
            // Initialize local and output iconic variables 
            HOperatorSet.GenEmptyObj(out ho__EmptyFailReg);
            HOperatorSet.GenEmptyObj(out ho__BridgeTargets);
            HOperatorSet.GenEmptyObj(out ho__PegRackTargets);
            HOperatorSet.GenEmptyObj(out ho_RegionUnion);
            hvec_o_FailRegs = new HObjectVector(1);
            hvec_o_DefectValue = new HTupleVector(1);
            hv_o_DefectType = new HTuple();
            //*************************************************************
            //--钉架表面检测、桥接区域检测：1.钉架区域表面检测；2.桥接区域检测
            //--参数说明：wj-2020-03-02 modified
            //*******************图标参数
            //  i_Images：输入图像序列，Object类型
            //  i_InspectReg：检测区域，在该区域中进行表面污染检测
            //  i_RejectRegs：拒绝区域，即免检区域，一般在检测区域内部容易造成干扰的区域或不感兴趣的区域
            //  i_SubReg：重点检测区域，在框架表面检测中不需要检测，为空对象
            //  o_FailRegs：输出检测结果的错误区域的HobjectVector
            //*******************控制参数
            //---钉架表面、桥接区域检测参数
            //  i_AdaptiveMethod：局部阈值分割方法，取值为'mean'  'median'   'gauss'
            //  i_BlockSize: 邻域大小，即局部阈值分割的尺寸
            //  i_Contrast: 灰度对比度，即超过阈值多大的范围视为感兴趣的目标
            //  i_CloseSize：闭运算尺寸
            //  i_MinLength：缺陷最小外接矩形半长,为一个向量，针对各重点检测区和非重点检测区分别设置不同参数
            //　 i_MinWidth：缺陷最小外接矩形半宽,为一个向量，针对各重点检测区和非重点检测区分别设置不同参数
            //  i_MinArea：缺陷最小面积,为一个向量，针对各重点检测区和非重点检测区分别设置不同参数
            //  i_SelOperation：形状选择算子and或or等
            //  o_DefectValue：输出的异常区域实际检测得到的检测值，at[0]:钉架缺陷区域面积大小，at[1]:桥接缺陷区域面积大小
            //  o_DefectType：输出的检测得到的异常区域的缺陷类型
            //  o_ErrCode: 错误码，代表该算子执行过程中产生的错误，0-代表正常执行，-1-代表异常，-2-代表未执行
            //  o_ErrStr: 错误信息，对各种错误的具体描述
            //***************************************************************

            //初始化
            ho__EmptyFailReg.Dispose();
            HOperatorSet.GenEmptyObj(out ho__EmptyFailReg);
            for (hv_Index = 0; (int)hv_Index <= 1; hv_Index = (int)hv_Index + 1)
            {
                hvec_o_DefectValue[hv_Index] = new HTupleVector(new HTuple(-2));
                if (hv_o_DefectType == null)
                    hv_o_DefectType = new HTuple();
                hv_o_DefectType[hv_Index] = -2;
                hvec_o_FailRegs[hv_Index] = new HObjectVector(ho__EmptyFailReg);
            }
            hv_o_ErrCode = -2;
            hv_o_ErrStr = "initializing";

            //传入映射矩阵有效性测试
            HOperatorSet.TupleSum(hv_i_HomMatMod2Img, out hv_HomMatSum);
            if ((int)(new HTuple(hv_HomMatSum.TupleEqual(-12))) != 0)
            {
                hv_o_ErrCode = 1;
                hv_o_ErrStr = "mapping matrix is invalid!";
                ho__EmptyFailReg.Dispose();
                ho__BridgeTargets.Dispose();
                ho__PegRackTargets.Dispose();
                ho_RegionUnion.Dispose();

                return;
            }

            //钉架表面检测
            ho__PegRackTargets.Dispose();
            HTV_PegRack_Surface_ExistRejectReg(ho_i_Image, ho_i_InspectReg, ho_i_RejectRegs,
                ho_i_SubReg, out ho__PegRackTargets, hv_i_HomMatMod2Img, hv_i_GrayThresh,
                hv_i_CloseOrOpenSize, hv_i_LightOrDark, hv_i_AdaptiveMethod, hv_i_BlockSize,
                hv_i_Contrast, hv_i_CloseSize, hv_i_MinLength, hv_i_MinWidth, hv_i_MinArea,
                hv_i_SelOperation, out hv__ErrPegRackCode, out hv__ErrPegRackStr);
            if ((int)(new HTuple(hv__ErrPegRackCode.TupleLess(0))) != 0)
            {
                hv_o_ErrCode = -1;
                hv_o_ErrStr = hv__ErrPegRackStr.Clone();
                ho__EmptyFailReg.Dispose();
                ho__BridgeTargets.Dispose();
                ho__PegRackTargets.Dispose();
                ho_RegionUnion.Dispose();

                return;
            }

            //桥接区域检测
            ho__BridgeTargets.Dispose();
            HTV_PegRack_Bridging_ExistRejectReg(ho_i_Image, ho_i_InspectReg, ho_i_RejectRegs,
                ho_i_SubReg, out ho__BridgeTargets, hv_i_HomMatMod2Img, hv_i_GrayThresh,
                hv_i_CloseOrOpenSize, hv_i_AdaptiveMethod, hv_i_BlockSize, hv_i_Contrast,
                hv_i_CloseSize, hv_i_MinLength, hv_i_MinWidth, hv_i_MinArea, hv_i_SelOperation,
                hv_i_LightOrDark, out hv__ErrBridgeCode, out hv__ErrBridgeStr);
            if ((int)(new HTuple(hv__ErrBridgeCode.TupleLess(1))) != 0)
            {
                hv_o_ErrCode = -1;
                hv_o_ErrStr = hv__ErrBridgeStr.Clone();
                ho__EmptyFailReg.Dispose();
                ho__BridgeTargets.Dispose();
                ho__PegRackTargets.Dispose();
                ho_RegionUnion.Dispose();

                return;
            }

            //钉架区域检测结果
            if ((int)(new HTuple(hv__ErrPegRackCode.TupleGreater(0))) != 0)
            {
                ho_RegionUnion.Dispose();
                HOperatorSet.Union1(ho__PegRackTargets, out ho_RegionUnion);
                HOperatorSet.AreaCenter(ho_RegionUnion, out hv_Area, out hv_Row, out hv_Column);
                hvec_o_DefectValue[0] = new HTupleVector(hv_Area).Clone();
                if (hv_o_DefectType == null)
                    hv_o_DefectType = new HTuple();
                hv_o_DefectType[0] = 31;
                hvec_o_FailRegs[0] = new HObjectVector(ho_RegionUnion);
            }
            else
            {
                hvec_o_DefectValue[0] = new HTupleVector(new HTuple(0));
                if (hv_o_DefectType == null)
                    hv_o_DefectType = new HTuple();
                hv_o_DefectType[0] = 0;
                hvec_o_FailRegs[0] = new HObjectVector(ho__EmptyFailReg);
            }
            //桥接区域检测结果
            if ((int)(new HTuple(hv__ErrBridgeCode.TupleGreater(0))) != 0)
            {
                ho_RegionUnion.Dispose();
                HOperatorSet.Union1(ho__BridgeTargets, out ho_RegionUnion);
                HOperatorSet.AreaCenter(ho_RegionUnion, out hv_Area, out hv_Row, out hv_Column);
                hvec_o_DefectValue[1] = new HTupleVector(hv_Area).Clone();
                if (hv_o_DefectType == null)
                    hv_o_DefectType = new HTuple();
                hv_o_DefectType[1] = 29;
                hvec_o_FailRegs[1] = new HObjectVector(ho_RegionUnion);
            }
            else
            {
                hvec_o_DefectValue[1] = new HTupleVector(new HTuple(0));
                if (hv_o_DefectType == null)
                    hv_o_DefectType = new HTuple();
                hv_o_DefectType[1] = 0;
                hvec_o_FailRegs[1] = new HObjectVector(ho__EmptyFailReg);
            }

            //函数结果输出
            if ((int)((new HTuple(hv__ErrPegRackCode.TupleGreater(0))).TupleOr(new HTuple(hv__ErrBridgeCode.TupleGreater(
                0)))) != 0)
            {
                hv_o_ErrCode = 1;
                hv_o_ErrStr = hv__ErrPegRackStr + hv__ErrBridgeStr;
                ho__EmptyFailReg.Dispose();
                ho__BridgeTargets.Dispose();
                ho__PegRackTargets.Dispose();
                ho_RegionUnion.Dispose();

                return;
            }
            else
            {
                hv_o_ErrCode = 0;
                hv_o_ErrStr = hv__ErrPegRackStr + hv__ErrBridgeStr;
                ho__EmptyFailReg.Dispose();
                ho__BridgeTargets.Dispose();
                ho__PegRackTargets.Dispose();
                ho_RegionUnion.Dispose();

                return;
            }

        }


        public static void HTV_PegRack_Surface_ExistRejectReg(HObject ho_i_Image, HObject ho_i_InspectReg,
    HObject ho_i_RejectRegs, HObject ho_i_SubReg, out HObject ho_o_Targets, HTuple hv_i_HomMatMod2Img,
    HTuple hv_i_GrayThresh, HTuple hv_i_CloseOrOpenSize, HTuple hv_i_LightOrDark,
    HTuple hv_i_AdaptiveMethod, HTuple hv_i_BlockSize, HTuple hv_i_Contrast, HTuple hv_i_CloseSize,
    HTuple hv_i_MinLength, HTuple hv_i_MinWidth, HTuple hv_i_MinArea, HTuple hv_i_SelOperation,
    out HTuple hv_o_ErrCode, out HTuple hv_o_ErrStr)
        {




            // Local iconic variables 

            HObject ho__InspectReg, ho__Image, ho__SubReg;
            HObject ho__RejectRegs, ho_RegUnion, ho_RegionDifference;
            HObject ho_ImageReduced, ho_Region, ho_RegionOpening, ho_RegionClosing;
            HObject ho__PegRackSurfaceReg, ho_RegionErosion, ho__PegRackSurfaceImage;
            HObject ho__SegImage;

            // Local control variables 

            HTuple hv_threshNum = null, hv_lowThresh = new HTuple();
            HTuple hv_highThresh = new HTuple(), hv__ThresholdErrCode = null;
            HTuple hv__ThresholdErrStr = null, hv__BlobErrCode = new HTuple();
            HTuple hv__BlobErrStr = new HTuple(), hv_Number = new HTuple();
            // Initialize local and output iconic variables 
            HOperatorSet.GenEmptyObj(out ho_o_Targets);
            HOperatorSet.GenEmptyObj(out ho__InspectReg);
            HOperatorSet.GenEmptyObj(out ho__Image);
            HOperatorSet.GenEmptyObj(out ho__SubReg);
            HOperatorSet.GenEmptyObj(out ho__RejectRegs);
            HOperatorSet.GenEmptyObj(out ho_RegUnion);
            HOperatorSet.GenEmptyObj(out ho_RegionDifference);
            HOperatorSet.GenEmptyObj(out ho_ImageReduced);
            HOperatorSet.GenEmptyObj(out ho_Region);
            HOperatorSet.GenEmptyObj(out ho_RegionOpening);
            HOperatorSet.GenEmptyObj(out ho_RegionClosing);
            HOperatorSet.GenEmptyObj(out ho__PegRackSurfaceReg);
            HOperatorSet.GenEmptyObj(out ho_RegionErosion);
            HOperatorSet.GenEmptyObj(out ho__PegRackSurfaceImage);
            HOperatorSet.GenEmptyObj(out ho__SegImage);
            //*************************************************************
            //--Frame表面检测：使用自行应阈值分割提取缺陷区域，并进行符合要求的缺陷目标提取
            // i_Image：输入图像，在图像中进行Frame表面污染检测
            // i_InspectReg：检测区域，在该区域中进行表面污染检测
            // i_RejectRegs：拒绝区域，即免检区域，一般在检测区域内部容易造成干扰的区域或不感兴趣的区域
            // i_SubReg：重点检测区域，在框架表面检测中不需要检测，为空对象
            // o_Targets：符合要求的框架缺陷目标
            // i_HomMatMod2Img: Frame模板到图像的映射矩阵--从模板到检测图像的映射关系
            // i_GrayThresh：阈值分割阈值
            // i_CloseOrOpenSize：开运算、闭运算、腐蚀、膨胀尺寸
            // i_AdaptiveMethod：局部阈值分割方法，取值为'mean'  'median'   'gauss'
            // i_BlockSize: 邻域大小，即局部阈值分割的尺寸
            // i_Contrast: 灰度对比度，即超过阈值多大的范围视为感兴趣的目标
            // i_CloseSize：闭运算尺寸
            // i_MinLength：缺陷最小外接矩形半长,为一个向量，针对各重点检测区和非重点检测区分别设置不同参数
            //　i_MinWidth：缺陷最小外接矩形半宽,为一个向量，针对各重点检测区和非重点检测区分别设置不同参数
            // i_MinArea：缺陷最小面积,为一个向量，针对各重点检测区和非重点检测区分别设置不同参数
            // i_SelOperation：形状选择算子and或or等
            // o_ErrCode: 错误码，代表该算子执行过程中产生的错误，0-代表正常执行，正整数-代表错误类型，-1-代表异常，-2-代表未执行
            // o_ErrStr: 错误信息，对各种错误的具体描述
            //***************************************************************

            //初始化
            ho_o_Targets.Dispose();
            HOperatorSet.GenEmptyObj(out ho_o_Targets);
            hv_o_ErrCode = -2;
            hv_o_ErrStr = "initializing";

            //输入参数有效性测试
            if ((int)(new HTuple((new HTuple(hv_i_GrayThresh.TupleLength())).TupleLess(1))) != 0)
            {
                hv_o_ErrCode = -1;
                hv_o_ErrStr = "paras illegal";
                ho__InspectReg.Dispose();
                ho__Image.Dispose();
                ho__SubReg.Dispose();
                ho__RejectRegs.Dispose();
                ho_RegUnion.Dispose();
                ho_RegionDifference.Dispose();
                ho_ImageReduced.Dispose();
                ho_Region.Dispose();
                ho_RegionOpening.Dispose();
                ho_RegionClosing.Dispose();
                ho__PegRackSurfaceReg.Dispose();
                ho_RegionErosion.Dispose();
                ho__PegRackSurfaceImage.Dispose();
                ho__SegImage.Dispose();

                return;
            }

            if ((int)((new HTuple((new HTuple(hv_i_CloseOrOpenSize.TupleLength())).TupleLess(
                1))).TupleOr(new HTuple(hv_i_CloseOrOpenSize.TupleLess(1)))) != 0)
            {
                hv_o_ErrCode = -1;
                hv_o_ErrStr = "the para i_OpeningSize must greater than 0";
                ho__InspectReg.Dispose();
                ho__Image.Dispose();
                ho__SubReg.Dispose();
                ho__RejectRegs.Dispose();
                ho_RegUnion.Dispose();
                ho_RegionDifference.Dispose();
                ho_ImageReduced.Dispose();
                ho_Region.Dispose();
                ho_RegionOpening.Dispose();
                ho_RegionClosing.Dispose();
                ho__PegRackSurfaceReg.Dispose();
                ho_RegionErosion.Dispose();
                ho__PegRackSurfaceImage.Dispose();
                ho__SegImage.Dispose();

                return;
            }

            //阈值分割上下限参数
            hv_threshNum = new HTuple(hv_i_GrayThresh.TupleLength());
            if ((int)(new HTuple(hv_threshNum.TupleEqual(1))) != 0)
            {
                if ((int)(new HTuple(hv_i_LightOrDark.TupleEqual("light"))) != 0)
                {
                    hv_lowThresh = hv_i_GrayThresh.Clone();
                    hv_highThresh = 255;
                }
                else
                {
                    hv_lowThresh = 0;
                    hv_highThresh = hv_i_GrayThresh.Clone();
                }
            }
            else if ((int)(new HTuple(hv_threshNum.TupleEqual(2))) != 0)
            {
                hv_lowThresh = hv_i_GrayThresh[0];
                hv_highThresh = hv_i_GrayThresh[1];
            }


            //变换检测区域并获取检测待处理图像
            ho__InspectReg.Dispose();
            HOperatorSet.AffineTransRegion(ho_i_InspectReg, out ho__InspectReg, hv_i_HomMatMod2Img,
                "nearest_neighbor");
            ho__Image.Dispose();
            HOperatorSet.ReduceDomain(ho_i_Image, ho__InspectReg, out ho__Image);
            //变换重点检测区域
            ho__SubReg.Dispose();
            HOperatorSet.AffineTransRegion(ho_i_SubReg, out ho__SubReg, hv_i_HomMatMod2Img,
                "nearest_neighbor");
            //变换拒绝区域
            ho__RejectRegs.Dispose();
            HOperatorSet.AffineTransRegion(ho_i_RejectRegs, out ho__RejectRegs, hv_i_HomMatMod2Img,
                "nearest_neighbor");
            ho_RegUnion.Dispose();
            HOperatorSet.Union1(ho__RejectRegs, out ho_RegUnion);
            //----钉架表面检测区域获取
            //去掉桥接区域
            ho_RegionDifference.Dispose();
            HOperatorSet.Difference(ho__InspectReg, ho_RegUnion, out ho_RegionDifference);
            ho_ImageReduced.Dispose();
            HOperatorSet.ReduceDomain(ho__Image, ho_RegionDifference, out ho_ImageReduced
                );

            ho_Region.Dispose();
            HOperatorSet.Threshold(ho_ImageReduced, out ho_Region, 0, hv_i_GrayThresh);
            ho_RegionOpening.Dispose();
            HOperatorSet.OpeningCircle(ho_Region, out ho_RegionOpening, hv_i_CloseOrOpenSize);
            ho_RegionClosing.Dispose();
            HOperatorSet.ClosingCircle(ho_RegionOpening, out ho_RegionClosing, hv_i_CloseOrOpenSize);
            //获取钉架检测区域
            ho__PegRackSurfaceReg.Dispose();
            HOperatorSet.Difference(ho_RegionDifference, ho_RegionClosing, out ho__PegRackSurfaceReg
                );
            ho_RegionErosion.Dispose();
            HOperatorSet.ErosionCircle(ho__PegRackSurfaceReg, out ho_RegionErosion, hv_i_CloseOrOpenSize);
            //检测图像获取
            ho__PegRackSurfaceImage.Dispose();
            HOperatorSet.ReduceDomain(ho__Image, ho_RegionErosion, out ho__PegRackSurfaceImage
                );

            //自适应提取检测区域目标
            ho__SegImage.Dispose();
            HTV_Adaptive_Threshold(ho__PegRackSurfaceImage, out ho__SegImage, hv_i_AdaptiveMethod,
                hv_i_BlockSize, hv_i_Contrast, hv_i_LightOrDark, out hv__ThresholdErrCode,
                out hv__ThresholdErrStr);

            if ((int)(new HTuple(hv__ThresholdErrCode.TupleEqual(0))) != 0)
            {
                //对阈值分割后的目标区域图像进行BLOB分析
                ho_o_Targets.Dispose();
                HTV_BLOB_Extract(ho__SegImage, ho__InspectReg, ho__SubReg, out ho_o_Targets,
                    hv_i_CloseSize, hv_i_MinLength, hv_i_MinWidth, hv_i_MinArea, hv_i_SelOperation,
                    out hv__BlobErrCode, out hv__BlobErrStr);


                //对Blob分析后的结果进行缺陷判断
                HOperatorSet.CountObj(ho_o_Targets, out hv_Number);
                if ((int)((new HTuple(hv__BlobErrCode.TupleEqual(0))).TupleAnd(new HTuple(hv_Number.TupleGreaterEqual(
                    1)))) != 0)
                {
                    hv_o_ErrCode = 1;
                    hv_o_ErrStr = "PegRack-Surface is dirty";
                    ho__InspectReg.Dispose();
                    ho__Image.Dispose();
                    ho__SubReg.Dispose();
                    ho__RejectRegs.Dispose();
                    ho_RegUnion.Dispose();
                    ho_RegionDifference.Dispose();
                    ho_ImageReduced.Dispose();
                    ho_Region.Dispose();
                    ho_RegionOpening.Dispose();
                    ho_RegionClosing.Dispose();
                    ho__PegRackSurfaceReg.Dispose();
                    ho_RegionErosion.Dispose();
                    ho__PegRackSurfaceImage.Dispose();
                    ho__SegImage.Dispose();

                    return;
                }
                else if ((int)((new HTuple(hv__BlobErrCode.TupleEqual(0))).TupleAnd(
                    new HTuple(hv_Number.TupleEqual(0)))) != 0)
                {
                    hv_o_ErrCode = 0;
                    hv_o_ErrStr = "PegRack-Surface is clear";
                    ho__InspectReg.Dispose();
                    ho__Image.Dispose();
                    ho__SubReg.Dispose();
                    ho__RejectRegs.Dispose();
                    ho_RegUnion.Dispose();
                    ho_RegionDifference.Dispose();
                    ho_ImageReduced.Dispose();
                    ho_Region.Dispose();
                    ho_RegionOpening.Dispose();
                    ho_RegionClosing.Dispose();
                    ho__PegRackSurfaceReg.Dispose();
                    ho_RegionErosion.Dispose();
                    ho__PegRackSurfaceImage.Dispose();
                    ho__SegImage.Dispose();

                    return;
                }
                else
                {
                    //异常处理
                    hv_o_ErrCode = -1;
                    hv_o_ErrStr = "Fail to PegRack-Surface Blob_Extract--" + hv__BlobErrStr;
                }

            }
            else
            {
                //异常处理
                hv_o_ErrCode = -1;
                hv_o_ErrStr = "Fail to PegRack-Surface threshold" + hv__ThresholdErrStr;
                ho__InspectReg.Dispose();
                ho__Image.Dispose();
                ho__SubReg.Dispose();
                ho__RejectRegs.Dispose();
                ho_RegUnion.Dispose();
                ho_RegionDifference.Dispose();
                ho_ImageReduced.Dispose();
                ho_Region.Dispose();
                ho_RegionOpening.Dispose();
                ho_RegionClosing.Dispose();
                ho__PegRackSurfaceReg.Dispose();
                ho_RegionErosion.Dispose();
                ho__PegRackSurfaceImage.Dispose();
                ho__SegImage.Dispose();

                return;
            }

        }


        public static void HTV_PegRack_Bridging_ExistRejectReg(HObject ho_i_Image, HObject ho_i_InspectReg,
    HObject ho_i_RejectRegs, HObject ho_i_SubReg, out HObject ho_o_Targets, HTuple hv_i_HomMatMod2Img,
    HTuple hv_i_GrayThresh, HTuple hv_i_CloseOrOpenSize, HTuple hv_i_AdaptiveMethod,
    HTuple hv_i_BlockSize, HTuple hv_i_Contrast, HTuple hv_i_CloseSize, HTuple hv_i_MinLength,
    HTuple hv_i_MinWidth, HTuple hv_i_MinArea, HTuple hv_i_SelOperation, HTuple hv_i_LightOrDark,
    out HTuple hv_o_ErrCode, out HTuple hv_o_ErrStr)
        {




            // Local iconic variables 

            HObject ho__InspectReg, ho__Image, ho__SubReg;
            HObject ho__RejectRegs, ho_RegUnion, ho_RegionDifference;
            HObject ho_ImageReduced, ho__BridgeReg, ho_RegionOpening;
            HObject ho_RegionErosion, ho__BridgeImage, ho__SegImage;

            // Local control variables 

            HTuple hv__ThresholdErrCode = null, hv__ThresholdErrStr = null;
            HTuple hv__BlobErrCode = new HTuple(), hv__BlobErrStr = new HTuple();
            HTuple hv_Number = new HTuple();
            // Initialize local and output iconic variables 
            HOperatorSet.GenEmptyObj(out ho_o_Targets);
            HOperatorSet.GenEmptyObj(out ho__InspectReg);
            HOperatorSet.GenEmptyObj(out ho__Image);
            HOperatorSet.GenEmptyObj(out ho__SubReg);
            HOperatorSet.GenEmptyObj(out ho__RejectRegs);
            HOperatorSet.GenEmptyObj(out ho_RegUnion);
            HOperatorSet.GenEmptyObj(out ho_RegionDifference);
            HOperatorSet.GenEmptyObj(out ho_ImageReduced);
            HOperatorSet.GenEmptyObj(out ho__BridgeReg);
            HOperatorSet.GenEmptyObj(out ho_RegionOpening);
            HOperatorSet.GenEmptyObj(out ho_RegionErosion);
            HOperatorSet.GenEmptyObj(out ho__BridgeImage);
            HOperatorSet.GenEmptyObj(out ho__SegImage);
            //*************************************************************
            //--Frame表面检测：使用自行应阈值分割提取缺陷区域，并进行符合要求的缺陷目标提取
            // i_Image：输入图像，在图像中进行Frame表面污染检测
            // i_InspectReg：检测区域，在该区域中进行表面污染检测
            // i_RejectRegs：拒绝区域，即免检区域，一般在检测区域内部容易造成干扰的区域或不感兴趣的区域
            // i_SubReg：重点检测区域，在框架表面检测中不需要检测，为空对象
            // o_Targets：符合要求的框架缺陷目标
            // i_HomMatMod2Img: Frame模板到图像的映射矩阵--从模板到检测图像的映射关系
            // i_AdaptiveMethod：局部阈值分割方法，取值为'mean'  'median'   'gauss'
            // i_BlockSize: 邻域大小，即局部阈值分割的尺寸
            // i_Contrast: 灰度对比度，即超过阈值多大的范围视为感兴趣的目标
            // i_CloseSize：闭运算尺寸
            // i_MinLength：缺陷最小外接矩形半长,为一个向量，针对各重点检测区和非重点检测区分别设置不同参数
            //　i_MinWidth：缺陷最小外接矩形半宽,为一个向量，针对各重点检测区和非重点检测区分别设置不同参数
            // i_MinArea：缺陷最小面积,为一个向量，针对各重点检测区和非重点检测区分别设置不同参数
            // i_SelOperation：形状选择算子and或or等
            // o_ErrCode: 错误码，代表该算子执行过程中产生的错误，0-代表正常执行，正整数-代表错误类型，-1-代表异常，-2-代表未执行
            // o_ErrStr: 错误信息，对各种错误的具体描述
            //***************************************************************

            //初始化
            ho_o_Targets.Dispose();
            HOperatorSet.GenEmptyObj(out ho_o_Targets);
            hv_o_ErrCode = -2;
            hv_o_ErrStr = "initializing";

            //变换检测区域并获取检测待处理图像
            ho__InspectReg.Dispose();
            HOperatorSet.AffineTransRegion(ho_i_InspectReg, out ho__InspectReg, hv_i_HomMatMod2Img,
                "nearest_neighbor");
            ho__Image.Dispose();
            HOperatorSet.ReduceDomain(ho_i_Image, ho__InspectReg, out ho__Image);
            //变换重点检测区域
            ho__SubReg.Dispose();
            HOperatorSet.AffineTransRegion(ho_i_SubReg, out ho__SubReg, hv_i_HomMatMod2Img,
                "nearest_neighbor");
            //变换拒绝区域
            ho__RejectRegs.Dispose();
            HOperatorSet.AffineTransRegion(ho_i_RejectRegs, out ho__RejectRegs, hv_i_HomMatMod2Img,
                "nearest_neighbor");
            ho_RegUnion.Dispose();
            HOperatorSet.Union1(ho__RejectRegs, out ho_RegUnion);
            //桥接区域检测获取
            ho_RegionDifference.Dispose();
            HOperatorSet.Difference(ho__InspectReg, ho_RegUnion, out ho_RegionDifference);
            ho_ImageReduced.Dispose();
            HOperatorSet.ReduceDomain(ho__Image, ho_RegionDifference, out ho_ImageReduced
                );

            ho__BridgeReg.Dispose();
            HOperatorSet.Threshold(ho_ImageReduced, out ho__BridgeReg, 0, hv_i_GrayThresh);
            ho_RegionOpening.Dispose();
            HOperatorSet.OpeningCircle(ho__BridgeReg, out ho_RegionOpening, hv_i_CloseOrOpenSize);
            ho_RegionErosion.Dispose();
            HOperatorSet.ErosionCircle(ho_RegionOpening, out ho_RegionErosion, hv_i_CloseOrOpenSize);
            ho__BridgeImage.Dispose();
            HOperatorSet.ReduceDomain(ho__Image, ho_RegionErosion, out ho__BridgeImage);

            //自适应提取检测区域目标
            ho__SegImage.Dispose();
            HTV_Adaptive_Threshold(ho__BridgeImage, out ho__SegImage, hv_i_AdaptiveMethod,
                hv_i_BlockSize, hv_i_Contrast, hv_i_LightOrDark, out hv__ThresholdErrCode,
                out hv__ThresholdErrStr);


            if ((int)(new HTuple(hv__ThresholdErrCode.TupleEqual(0))) != 0)
            {
                //对阈值分割后的目标区域图像进行BLOB分析
                ho_o_Targets.Dispose();
                HTV_BLOB_Extract(ho__SegImage, ho__InspectReg, ho__SubReg, out ho_o_Targets,
                    hv_i_CloseSize, hv_i_MinLength, hv_i_MinWidth, hv_i_MinArea, hv_i_SelOperation,
                    out hv__BlobErrCode, out hv__BlobErrStr);


                //对Blob分析后的结果进行缺陷判断
                HOperatorSet.CountObj(ho_o_Targets, out hv_Number);
                if ((int)((new HTuple(hv__BlobErrCode.TupleEqual(0))).TupleAnd(new HTuple(hv_Number.TupleGreaterEqual(
                    1)))) != 0)
                {
                    hv_o_ErrCode = 1;
                    hv_o_ErrStr = "Bridging-Surface is dirty";
                    ho__InspectReg.Dispose();
                    ho__Image.Dispose();
                    ho__SubReg.Dispose();
                    ho__RejectRegs.Dispose();
                    ho_RegUnion.Dispose();
                    ho_RegionDifference.Dispose();
                    ho_ImageReduced.Dispose();
                    ho__BridgeReg.Dispose();
                    ho_RegionOpening.Dispose();
                    ho_RegionErosion.Dispose();
                    ho__BridgeImage.Dispose();
                    ho__SegImage.Dispose();

                    return;
                }
                else if ((int)((new HTuple(hv__BlobErrCode.TupleEqual(0))).TupleAnd(
                    new HTuple(hv_Number.TupleEqual(0)))) != 0)
                {
                    hv_o_ErrCode = 0;
                    hv_o_ErrStr = "Bridging-Surface is clear";
                    ho__InspectReg.Dispose();
                    ho__Image.Dispose();
                    ho__SubReg.Dispose();
                    ho__RejectRegs.Dispose();
                    ho_RegUnion.Dispose();
                    ho_RegionDifference.Dispose();
                    ho_ImageReduced.Dispose();
                    ho__BridgeReg.Dispose();
                    ho_RegionOpening.Dispose();
                    ho_RegionErosion.Dispose();
                    ho__BridgeImage.Dispose();
                    ho__SegImage.Dispose();

                    return;
                }
                else
                {
                    hv_o_ErrCode = -1;
                    hv_o_ErrStr = "Fail to Bridging-Surface Blob_Extract" + hv__BlobErrStr;
                }

            }
            else
            {
                hv_o_ErrCode = -1;
                hv_o_ErrStr = "Fail to Bridging-Surface threshold" + hv__ThresholdErrStr;
                ho__InspectReg.Dispose();
                ho__Image.Dispose();
                ho__SubReg.Dispose();
                ho__RejectRegs.Dispose();
                ho_RegUnion.Dispose();
                ho_RegionDifference.Dispose();
                ho_ImageReduced.Dispose();
                ho__BridgeReg.Dispose();
                ho_RegionOpening.Dispose();
                ho_RegionErosion.Dispose();
                ho__BridgeImage.Dispose();
                ho__SegImage.Dispose();

                return;
            }

        }

        public static void HTV_Arrange_Pos(HTuple hv_i_ModelID, HTuple hv_i_ModelType, HTuple hv_i_Rows,
    HTuple hv_i_Cols, HTuple hv_i_Angles, out HTuple hv_o_Rows, out HTuple hv_o_Cols)
        {



            // Local control variables 

            HTuple hv__Row = new HTuple(), hv__Col = new HTuple();
            HTuple hv_i = null, hv_HomMat2D = new HTuple(), hv_Row = new HTuple();
            HTuple hv_Col = new HTuple();
            // Initialize local and output iconic variables 
            hv_o_Rows = new HTuple();
            hv_o_Cols = new HTuple();



            if ((int)(new HTuple(hv_i_ModelType.TupleEqual("ncc"))) != 0)
            {
                HOperatorSet.GetNccModelOrigin(hv_i_ModelID, out hv__Row, out hv__Col);
            }
            else if ((int)(new HTuple(hv_i_ModelType.TupleEqual("shape"))) != 0)
            {
                HOperatorSet.GetShapeModelOrigin(hv_i_ModelID, out hv__Row, out hv__Col);
            }
            else
            {
                throw new HalconException("Wrong argument [ModelType]=" + hv_i_ModelType);

                return;
            }

            for (hv_i = 0; (int)hv_i <= (int)((new HTuple(hv_i_Rows.TupleLength())) - 1); hv_i = (int)hv_i + 1)
            {
                HOperatorSet.VectorAngleToRigid(0, 0, 0, hv_i_Rows.TupleSelect(hv_i), hv_i_Cols.TupleSelect(
                    hv_i), hv_i_Angles.TupleSelect(hv_i), out hv_HomMat2D);
                HOperatorSet.AffineTransPoint2d(hv_HomMat2D, -hv__Row, -hv__Col, out hv_Row,
                    out hv_Col);
                if (hv_o_Rows == null)
                    hv_o_Rows = new HTuple();
                hv_o_Rows[hv_i] = hv_Row;
                if (hv_o_Cols == null)
                    hv_o_Cols = new HTuple();
                hv_o_Cols[hv_i] = hv_Col;
            }


            return;
        }
        #endregion

        public static void fread_xml_to_vector(HTuple hv_FileName, out HTupleVector/*{eTupleVector,Dim=2}*/ hvec_Elements)
        {



            // Local iconic variables 

            // Local control variables 

            HTuple hv_FileExists = null, hv_TextSE = new HTuple();
            HTuple hv_S = new HTuple(), hv_NameStrt = new HTuple();
            HTuple hv_NameChar = new HTuple(), hv_Name = new HTuple();
            HTuple hv_ElementTagRE = new HTuple(), hv_EndTagSE = new HTuple();
            HTuple hv_EndTagRE = new HTuple(), hv_ElementValueRE = new HTuple();
            HTuple hv_FileHandle = new HTuple(), hv_IsEof = new HTuple();
            HTuple hv_XmlElement = new HTuple(), hv_Matches = new HTuple();
            HTuple hv_Length = new HTuple(), hv_ElementTag = new HTuple();
            HTuple hv_curElementsLen = new HTuple();

            HTupleVector hvec_vector = new HTupleVector(1);
            HTupleVector hvec_curElement = new HTupleVector(1);
            // Initialize local and output iconic variables 
            hvec_Elements = new HTupleVector(2);
            HOperatorSet.FileExists(hv_FileName, out hv_FileExists);
            if ((int)(hv_FileExists) != 0)
            {
                hv_TextSE = "[^<>]+";
                hv_S = "[ \\n\\t\\r]?";
                hv_NameStrt = "[A-Za-z]";
                hv_NameChar = "[A-Za-z0-9_:.-]";
                hv_Name = ((("(?:" + hv_NameStrt) + ")(?:") + hv_NameChar) + ")*";
                hv_ElementTagRE = ("<" + hv_Name) + ">";
                hv_EndTagSE = "</";
                hv_EndTagRE = ((hv_EndTagSE + hv_Name) + hv_S) + ">+";
                hv_ElementValueRE = ">(.*?)" + hv_EndTagSE;
                HOperatorSet.OpenFile(hv_FileName, "input", out hv_FileHandle);
                hv_IsEof = 0;
                hvec_Elements = new HTupleVector(2);
                hvec_Elements.Clear();
                while ((int)(hv_IsEof.TupleNot()) != 0)
                {
                    HOperatorSet.FreadLine(hv_FileHandle, out hv_XmlElement, out hv_IsEof);
                    if ((int)(hv_IsEof) != 0)
                    {
                        break;
                    }
                    HOperatorSet.TupleRegexpMatch(hv_XmlElement, (((((((((("(?:(" + hv_ElementTagRE) + ")(.*)") + "(") + hv_EndTagRE) + "))|") + "(") + hv_ElementTagRE) + ")|") + "(") + hv_EndTagRE) + ")",
                        out hv_Matches);
                    HOperatorSet.TupleStrlen(hv_Matches, out hv_Length);
                    if ((int)(new HTuple(((hv_Length.TupleSelect(3))).TupleGreater(0))) != 0)
                    {
                        HOperatorSet.TupleRegexpMatch(hv_Matches.TupleSelect(3), hv_TextSE, out hv_ElementTag);
                        hvec_vector = (new HTupleVector(1).Insert(0, new HTupleVector(hv_ElementTag)));
                        hvec_Elements.Insert(new HTuple(hvec_Elements.Length), hvec_vector);
                    }
                    else if ((int)(new HTuple(((hv_Length.TupleSelect(4))).TupleGreater(
                        0))) != 0)
                    {
                        HOperatorSet.TupleRegexpMatch(hv_Matches.TupleSelect(4), hv_TextSE, out hv_ElementTag);
                        hvec_vector = (new HTupleVector(1).Insert(0, new HTupleVector(hv_ElementTag)));
                        hvec_Elements.Insert(new HTuple(hvec_Elements.Length), hvec_vector);
                    }
                    else if ((int)(new HTuple(((hv_Length.TupleSelect(0))).TupleGreater(
                        0))) != 0)
                    {
                        if ((int)(new HTuple(((hv_Matches.TupleSelect(0))).TupleEqual("<para>"))) != 0)
                        {
                            hv_curElementsLen = new HTuple(hvec_Elements.Length);
                            hvec_curElement = hvec_Elements[hv_curElementsLen - 1];
                            hvec_curElement.Insert(new HTuple(hvec_curElement.Length), new HTupleVector(new HTuple(hv_Matches.TupleSelect(
                                1))));
                            hvec_Elements.Remove(hv_curElementsLen - 1);
                            hvec_Elements.Insert(new HTuple(hvec_Elements.Length), hvec_curElement);
                        }
                        else
                        {
                            HOperatorSet.TupleRegexpMatch(hv_Matches.TupleSelect(0), hv_TextSE, out hv_ElementTag);
                            hvec_vector = ((new HTupleVector(1).Insert(0, new HTupleVector(hv_ElementTag))).Insert(
                                1, new HTupleVector(new HTuple(hv_Matches.TupleSelect(1)))));
                            hvec_Elements.Insert(new HTuple(hvec_Elements.Length), hvec_vector);
                        }
                    }
                }
                HOperatorSet.CloseFile(hv_FileHandle);
            }
            else
            {
            }

            return;
        }



        #region  ic inspect  2020新算法
        public static void HTV_Ic_Inspect_GoldenModel(HObject ho_i_Image, HObject ho_i_MeanImg,
    HObject ho_i_StdImg, HObject ho_i_InspectReg, HObject ho_i_MatchReg, HObject ho_i_RejectRegs,
    HObject ho_i_SubReg, out HObjectVector/*{eObjectVector,Dim=1}*/ hvec_o_FailRegs,
    HTuple hv_i_HomMatMod2Img, HTuple hv_i_ThreshGray, HTuple hv_i_LightOrDark,
    HTuple hv_i_CloseSize, HTuple hv_i_IcSizeTh, HTuple hv_i_DilationSize, HTuple hv_i_ModelType,
    HTuple hv_i_ModelID, HTuple hv_i_Score, HTuple hv_i_AngleStart, HTuple hv_i_AngleExt,
    HTuple hv_i_MatchNum, HTuple hv_i_RefRow, HTuple hv_i_RefCol, HTuple hv_i_RefAngle,
    HTuple hv_i_RowDiffTh, HTuple hv_i_ColDiffTh, HTuple hv_i_AngleDiffTh, HTuple hv_i_SobelScaleFactors,
    HTuple hv_i_DarkScaleFactors, HTuple hv_i_LightScaleFactors, HTuple hv_i_GrayContrast,
    HTuple hv_i_MinLength, HTuple hv_i_MinWidth, HTuple hv_i_MinArea, HTuple hv_i_SelOperation,
    out HTuple hv_o_HomMatMod2Img, out HTupleVector/*{eTupleVector,Dim=1}*/ hvec_o_DefectValue,
    out HTuple hv_o_DefectType, out HTuple hv_o_ErrCode, out HTuple hv_o_ErrStr)
        {




            // Local iconic variables 

            HObject ho__EmptyFailReg, ho__InspectReg, ho__MatchReg;
            HObject ho__IcInspectReg = null, ho__Targets = null, ho_RegionUnion = null;
            HObject ho__SubFailReg = null, ho_SubFailReg = null, ho__ChippingFailReg = null;
            HObject ho_ChippingFailReg = null;

            // Local control variables 

            HTuple hv_inspectIdx = null, hv_HomMatSum = null;
            HTuple hv__ErrExistCode = null, hv__ErrExistStr = null;
            HTuple hv__LocPara = new HTuple(), hv__DiffPara = new HTuple();
            HTuple hv__ErrLocCode = new HTuple(), hv__ErrLocStr = new HTuple();
            HTuple hv__ReverseLocPara = new HTuple(), hv__ErrErrorCode = new HTuple();
            HTuple hv__ErrErrorStr = new HTuple(), hv__ErrSurfaceCode = new HTuple();
            HTuple hv__ErrSurfaceStr = new HTuple(), hv_Area = new HTuple();
            HTuple hv_Row = new HTuple(), hv_Column = new HTuple();
            HTuple hv_Area1 = new HTuple(), hv_Row1 = new HTuple();
            HTuple hv_Column1 = new HTuple(), hv_TypeSum = null;
            // Initialize local and output iconic variables 
            HOperatorSet.GenEmptyObj(out ho__EmptyFailReg);
            HOperatorSet.GenEmptyObj(out ho__InspectReg);
            HOperatorSet.GenEmptyObj(out ho__MatchReg);
            HOperatorSet.GenEmptyObj(out ho__IcInspectReg);
            HOperatorSet.GenEmptyObj(out ho__Targets);
            HOperatorSet.GenEmptyObj(out ho_RegionUnion);
            HOperatorSet.GenEmptyObj(out ho__SubFailReg);
            HOperatorSet.GenEmptyObj(out ho_SubFailReg);
            HOperatorSet.GenEmptyObj(out ho__ChippingFailReg);
            HOperatorSet.GenEmptyObj(out ho_ChippingFailReg);
            hvec_o_FailRegs = new HObjectVector(1);
            hvec_o_DefectValue = new HTupleVector(1);
            hv_o_DefectType = new HTuple();
            //**********************Ic区域检测算子：1）IC是否存在，2）IC定位、旋转、偏移，3）Ic 错误检测 4）表面检测
            //*******************图标参数
            //  i_Image：输入图像
            //  i_MeanImg：Ic均值图
            //  i_StdImg：Ic方差图
            //  i_InspectReg：Ic检测区域，在该区域中进行表面污染检测
            //  i_MatchReg：Ic匹配区域
            //  i_RejectRegs：拒绝区域，即免检区域，一般在检测区域内部容易造成干扰的区域或不感兴趣的区域
            //  i_SubReg：重点检测区域，在Ic表面检测中需要检测，需要输入
            //  o_FailRegs：输出检测结果的错误区域的HobjectVector
            //********************控制参数
            //---传入映射矩阵
            //  i_HomMatMod2Img: Frame模板到图像的映射矩阵--从模板到检测图像的映射关系
            //---Ic存在检测参数
            //  i_ThreshGray: 阈值分割的灰度阈值，可以为1个参数（灰度上限或下限）或2个参数（灰度上下限）
            //  i_LightOrDark：IC为亮目标或暗目标
            //  i_CloseSize: 为去除孔洞干扰进行闭运算的尺寸
            //  i_IcSizeTh: Ic目标的面积阈值，可以为1个参数（面积下限）或2个参数（面积上下限）
            //---模板匹配定位、偏移、旋转检测参数
            //  i_DilationSize：膨胀匹配区域获取搜索区域所需要的膨胀尺寸
            //  i_ModelType：模板类型，一般使用ncc和shape作为定位模板，该参数为整数类型，0-ncc，1-shape
            //  i_ModelID：模板ID号，创建匹配模板时返回值，通常由模板文件读入
            //  i_Score：最小匹配分数
            //  i_AngleStart：匹配定位起始角度
            //  i_AngleExt：匹配定位起角度范围
            //  i_MatchNum：需要匹配的目标个数
            //  i_RefRow：判断IC是否偏移行参考
            //  i_RefCol：判断IC是否偏移列参考
            //  i_RefAngle：判断IC是否旋转角度参考
            //  i_RowDiffTh: 行方向偏移阈值
            //  i_ColDiffTh: 列方向偏移阈值
            //  i_AngleDiffTh: 角度偏移阈值
            //---Ic表面检测参数：使用动态阈值分割方法
            //  i_SobelScaleFactors:边缘提取系数
            //  i_DarkScaleFactors:生成暗图系数
            //  i_LightScaleFactors：生成亮图系数
            //  i_GrayContrast: 灰度对比度，即超过阈值多大的范围视为感兴趣的目标
            //  i_MinLength：缺陷最小外接矩形半长,为一个向量，针对各重点检测区和非重点检测区分别设置不同参数
            //  i_MinWidth：缺陷最小外接矩形半宽,为一个向量，针对各重点检测区和非重点检测区分别设置不同参数
            //  i_MinArea：缺陷最小面积,为一个向量，针对各重点检测区和非重点检测区分别设置不同参数
            //  i_SelOperation：形状选择算子and或or等
            //---Ic反转错误检测参数
            //  同Ic定位、旋转、偏移参数
            //----输出
            //  o_HomMatMod2Img：输出Ic定位到的映射矩阵
            //  o_DefectValue：输出的异常区域实际检测得到的检测值
            //  o_DefectType：输出的检测得到的异常区域的缺陷类型
            //  o_ErrCode: 错误码，代表该算子执行过程中产生的错误，0-代表正常执行，-1-代表异常，-2-代表未执行
            //  o_ErrStr: 错误信息，对各种错误的具体描述
            //**********************************************************************************
            //Ic检测结果初始化

            ho__EmptyFailReg.Dispose();
            HOperatorSet.GenEmptyObj(out ho__EmptyFailReg);
            for (hv_inspectIdx = 0; (int)hv_inspectIdx <= 3; hv_inspectIdx = (int)hv_inspectIdx + 1)
            {
                if ((int)(new HTuple(hv_inspectIdx.TupleGreater(1))) != 0)
                {
                    hvec_o_DefectValue[hv_inspectIdx] = new HTupleVector(new HTuple(-2));
                }
                else
                {
                    hvec_o_DefectValue[hv_inspectIdx] = new HTupleVector(((new HTuple(-2)).TupleConcat(
                        -2)).TupleConcat(-2));
                }
                if (hv_o_DefectType == null)
                    hv_o_DefectType = new HTuple();
                hv_o_DefectType[hv_inspectIdx] = -2;
                hvec_o_FailRegs[hv_inspectIdx] = new HObjectVector(ho__EmptyFailReg) ;
            }
            //ic定位映射矩阵
            hv_o_HomMatMod2Img = new HTuple();
            hv_o_HomMatMod2Img[0] = -2;
            hv_o_HomMatMod2Img[1] = -2;
            hv_o_HomMatMod2Img[2] = -2;
            hv_o_HomMatMod2Img[3] = -2;
            hv_o_HomMatMod2Img[4] = -2;
            hv_o_HomMatMod2Img[5] = -2;
            hv_o_ErrCode = -2;
            hv_o_ErrStr = "initializing";

            //传入映射矩阵有效性测试
            HOperatorSet.TupleSum(hv_i_HomMatMod2Img, out hv_HomMatSum);
            if ((int)(new HTuple(hv_HomMatSum.TupleEqual(-12))) != 0)
            {
                hv_o_ErrCode = 1;
                hv_o_ErrStr = "mapping matrix is invalid!";
                ho__EmptyFailReg.Dispose();
                ho__InspectReg.Dispose();
                ho__MatchReg.Dispose();
                ho__IcInspectReg.Dispose();
                ho__Targets.Dispose();
                ho_RegionUnion.Dispose();
                ho__SubFailReg.Dispose();
                ho_SubFailReg.Dispose();
                ho__ChippingFailReg.Dispose();
                ho_ChippingFailReg.Dispose();

                return;
            }

            //-----映射各区域
            //检测区域
            ho__InspectReg.Dispose();
            HOperatorSet.AffineTransRegion(ho_i_InspectReg, out ho__InspectReg, hv_i_HomMatMod2Img,"nearest_neighbor");

            //匹配区域
            ho__MatchReg.Dispose();
            HOperatorSet.AffineTransRegion(ho_i_MatchReg, out ho__MatchReg, hv_i_HomMatMod2Img,
                "nearest_neighbor");
            //-----IC检测
            //Ic 存在
            HTV_Ic_Exist(ho_i_Image, ho__InspectReg, hv_i_DilationSize, hv_i_ThreshGray,
                hv_i_LightOrDark, hv_i_CloseSize, hv_i_IcSizeTh, out hv__ErrExistCode, out hv__ErrExistStr);
            //异常处理
            if ((int)(new HTuple(hv__ErrExistCode.TupleLess(0))) != 0)
            {
                hv_o_ErrCode = -1;
                hv_o_ErrStr = "fail to HTV_Ic_Exist" + hv__ErrExistStr;
                ho__EmptyFailReg.Dispose();
                ho__InspectReg.Dispose();
                ho__MatchReg.Dispose();
                ho__IcInspectReg.Dispose();
                ho__Targets.Dispose();
                ho_RegionUnion.Dispose();
                ho__SubFailReg.Dispose();
                ho_SubFailReg.Dispose();
                ho__ChippingFailReg.Dispose();
                ho_ChippingFailReg.Dispose();

                return;
            }
            //结果判断
            if ((int)(new HTuple(hv__ErrExistCode.TupleGreater(0))) != 0)
            {
                if (hv_o_DefectType == null)
                    hv_o_DefectType = new HTuple();
                hv_o_DefectType[0] = 1;
                hvec_o_DefectValue[0] = new HTupleVector(((new HTuple(-1)).TupleConcat(-1)).TupleConcat(
                    -1));
                hvec_o_FailRegs[0] = new HObjectVector(ho__InspectReg) ;
                hv_o_ErrCode = 1;
                hv_o_ErrStr = hv__ErrExistStr.Clone();
                ho__EmptyFailReg.Dispose();
                ho__InspectReg.Dispose();
                ho__MatchReg.Dispose();
                ho__IcInspectReg.Dispose();
                ho__Targets.Dispose();
                ho_RegionUnion.Dispose();
                ho__SubFailReg.Dispose();
                ho_SubFailReg.Dispose();
                ho__ChippingFailReg.Dispose();
                ho_ChippingFailReg.Dispose();

                return;
            }
            else
            {
                //Ic定位、偏移、旋转检测
                HTV_Ic_Location(ho_i_Image, ho__MatchReg, hv_i_DilationSize, hv_i_ModelType,
                    hv_i_ModelID, hv_i_Score, hv_i_AngleStart, hv_i_AngleExt, hv_i_MatchNum,
                    hv_i_RefRow, hv_i_RefCol, hv_i_RefAngle, hv_i_RowDiffTh, hv_i_ColDiffTh,
                    hv_i_AngleDiffTh, out hv__LocPara, out hv__DiffPara, out hv__ErrLocCode,
                    out hv__ErrLocStr);
                //异常处理
                if ((int)(new HTuple(hv__ErrLocCode.TupleLess(0))) != 0)
                {
                    hv_o_ErrCode = -1;
                    hv_o_ErrStr = "fail to HTV_Ic_Location" + hv__ErrExistStr;
                    ho__EmptyFailReg.Dispose();
                    ho__InspectReg.Dispose();
                    ho__MatchReg.Dispose();
                    ho__IcInspectReg.Dispose();
                    ho__Targets.Dispose();
                    ho_RegionUnion.Dispose();
                    ho__SubFailReg.Dispose();
                    ho_SubFailReg.Dispose();
                    ho__ChippingFailReg.Dispose();
                    ho_ChippingFailReg.Dispose();

                    return;
                }
                //结果判断
                if ((int)(new HTuple(hv__ErrLocCode.TupleEqual(1))) != 0)
                {
                    //Ic反向检测
                    HTV_Ic_Error(ho_i_Image, ho__InspectReg, ho__MatchReg, hv_i_HomMatMod2Img,
                        hv_i_DilationSize, hv_i_ModelType, hv_i_ModelID, hv_i_Score, hv_i_AngleStart,
                        hv_i_AngleExt, hv_i_MatchNum, out hv__ReverseLocPara, out hv__ErrErrorCode,
                        out hv__ErrErrorStr);
                    //异常处理
                    if ((int)(new HTuple(hv__ErrErrorCode.TupleLess(0))) != 0)
                    {
                        hv_o_ErrCode = -1;
                        hv_o_ErrStr = "fail to HTV_Ic_Error" + hv__ErrErrorStr;
                        ho__EmptyFailReg.Dispose();
                        ho__InspectReg.Dispose();
                        ho__MatchReg.Dispose();
                        ho__IcInspectReg.Dispose();
                        ho__Targets.Dispose();
                        ho_RegionUnion.Dispose();
                        ho__SubFailReg.Dispose();
                        ho_SubFailReg.Dispose();
                        ho__ChippingFailReg.Dispose();
                        ho_ChippingFailReg.Dispose();

                        return;
                    }
                    //结果判断
                    if ((int)(new HTuple(hv__ErrErrorCode.TupleGreater(0))) != 0)
                    {
                        if (hv_o_DefectType == null)
                            hv_o_DefectType = new HTuple();
                        hv_o_DefectType[0] = 6;
                        hvec_o_DefectValue[0] = new HTupleVector(((new HTuple(-1)).TupleConcat(
                            -1)).TupleConcat(-1));
                        hvec_o_FailRegs[0] = new HObjectVector(ho__InspectReg) ;
                        hv_o_ErrCode = 1;
                        hv_o_ErrStr = hv__ErrErrorStr.Clone();
                        ho__EmptyFailReg.Dispose();
                        ho__InspectReg.Dispose();
                        ho__MatchReg.Dispose();
                        ho__IcInspectReg.Dispose();
                        ho__Targets.Dispose();
                        ho_RegionUnion.Dispose();
                        ho__SubFailReg.Dispose();
                        ho_SubFailReg.Dispose();
                        ho__ChippingFailReg.Dispose();
                        ho_ChippingFailReg.Dispose();

                        return;
                    }
                    else
                    {
                        if (hv_o_DefectType == null)
                            hv_o_DefectType = new HTuple();
                        hv_o_DefectType[0] = 4;
                        hvec_o_DefectValue[0] = new HTupleVector(hv__ReverseLocPara).Clone();
                        hvec_o_FailRegs[0] = new HObjectVector(ho__InspectReg) ;
                        hv_o_ErrCode = 1;
                        hv_o_ErrStr = hv__ErrErrorStr.Clone();
                        ho__EmptyFailReg.Dispose();
                        ho__InspectReg.Dispose();
                        ho__MatchReg.Dispose();
                        ho__IcInspectReg.Dispose();
                        ho__Targets.Dispose();
                        ho_RegionUnion.Dispose();
                        ho__SubFailReg.Dispose();
                        ho_SubFailReg.Dispose();
                        ho__ChippingFailReg.Dispose();
                        ho_ChippingFailReg.Dispose();

                        return;
                    }
                }
                else if ((int)(new HTuple(hv__ErrLocCode.TupleEqual(2))) != 0)
                {
                    HOperatorSet.VectorAngleToRigid(0, 0, 0, hv__LocPara.TupleSelect(0), hv__LocPara.TupleSelect(
                        1), hv__LocPara.TupleSelect(2), out hv_o_HomMatMod2Img);
                    if (hv_o_DefectType == null)
                        hv_o_DefectType = new HTuple();
                    hv_o_DefectType[1] = 2;
                    hvec_o_DefectValue[1] = new HTupleVector(hv__DiffPara).Clone();
                    //变换偏移的Ic检测区域
                    ho__IcInspectReg.Dispose();
                    HOperatorSet.AffineTransRegion(ho_i_InspectReg, out ho__IcInspectReg, hv_o_HomMatMod2Img,
                        "nearest_neighbor");
                    hvec_o_FailRegs[1] = new HObjectVector(ho__IcInspectReg) ;
                }
                else
                {
                    HOperatorSet.VectorAngleToRigid(0, 0, 0, hv__LocPara.TupleSelect(0), hv__LocPara.TupleSelect(
                        1), hv__LocPara.TupleSelect(2), out hv_o_HomMatMod2Img);
                    //
                    if (hv_o_DefectType == null)
                        hv_o_DefectType = new HTuple();
                    hv_o_DefectType[0] = 0;
                    hvec_o_DefectValue[0] = new HTupleVector(hv__LocPara).Clone();
                    hvec_o_FailRegs[0] = new HObjectVector(ho__EmptyFailReg) ;
                    //
                    if (hv_o_DefectType == null)
                        hv_o_DefectType = new HTuple();
                    hv_o_DefectType[1] = 0;
                    hvec_o_DefectValue[1] = new HTupleVector(((new HTuple(0)).TupleConcat(0)).TupleConcat(
                        0));
                    hvec_o_FailRegs[1] = new HObjectVector(ho__EmptyFailReg) ;
                    //
                    //Ic表面检测
                    ho__Targets.Dispose();
                    HTV_Ic_Surface_GoldenModel(ho_i_Image, ho_i_InspectReg, ho_i_RejectRegs,
                        ho_i_SubReg, ho_i_MeanImg, ho_i_StdImg, out ho__Targets, hv_o_HomMatMod2Img,
                        hv_i_SobelScaleFactors, hv_i_DarkScaleFactors, hv_i_LightScaleFactors,
                        hv_i_GrayContrast, hv_i_CloseSize, hv_i_MinLength, hv_i_MinWidth, hv_i_MinArea,
                        hv_i_SelOperation, out hv__ErrSurfaceCode, out hv__ErrSurfaceStr);

                    //异常处理
                    if ((int)(new HTuple(hv__ErrSurfaceCode.TupleLess(0))) != 0)
                    {
                        hv_o_ErrCode = -1;
                        hv_o_ErrStr = "fail to HTV_Ic_Surface_Threshold" + hv__ErrSurfaceStr;
                        ho__EmptyFailReg.Dispose();
                        ho__InspectReg.Dispose();
                        ho__MatchReg.Dispose();
                        ho__IcInspectReg.Dispose();
                        ho__Targets.Dispose();
                        ho_RegionUnion.Dispose();
                        ho__SubFailReg.Dispose();
                        ho_SubFailReg.Dispose();
                        ho__ChippingFailReg.Dispose();
                        ho_ChippingFailReg.Dispose();

                        return;
                    }
                    //结果判断
                    if ((int)(new HTuple(hv__ErrSurfaceCode.TupleGreater(0))) != 0)
                    {
                        ho_RegionUnion.Dispose();
                        HOperatorSet.Union1(ho__Targets, out ho_RegionUnion);
                        //Ic表面
                        ho__SubFailReg.Dispose();
                        HOperatorSet.Intersection(ho_RegionUnion, ho_i_SubReg, out ho__SubFailReg
                            );
                        HOperatorSet.AreaCenter(ho__SubFailReg, out hv_Area, out hv_Row, out hv_Column);
                        if ((int)(new HTuple(hv_Area.TupleGreater(0))) != 0)
                        {
                            if (hv_o_DefectType == null)
                                hv_o_DefectType = new HTuple();
                            hv_o_DefectType[2] = 7;
                            ho_SubFailReg.Dispose();
                            HOperatorSet.AffineTransRegion(ho__SubFailReg, out ho_SubFailReg, hv_o_HomMatMod2Img,
                                "nearest_neighbor");
                            hvec_o_DefectValue[2] = new HTupleVector(hv_Area).Clone();
                            hvec_o_FailRegs[2] = new HObjectVector(ho_SubFailReg) ;
                        }
                        else
                        {
                            if (hv_o_DefectType == null)
                                hv_o_DefectType = new HTuple();
                            hv_o_DefectType[2] = 0;
                            hvec_o_DefectValue[2] = new HTupleVector(new HTuple(0));
                            hvec_o_FailRegs[2] = new HObjectVector(ho__EmptyFailReg) ;
                        }
                        //崩边
                        ho__ChippingFailReg.Dispose();
                        HOperatorSet.Difference(ho_RegionUnion, ho__SubFailReg, out ho__ChippingFailReg
                            );
                        HOperatorSet.AreaCenter(ho__ChippingFailReg, out hv_Area1, out hv_Row1,
                            out hv_Column1);
                        if ((int)(hv_Area1) != 0)
                        {
                            if (hv_o_DefectType == null)
                                hv_o_DefectType = new HTuple();
                            hv_o_DefectType[3] = 8;
                            ho_ChippingFailReg.Dispose();
                            HOperatorSet.AffineTransRegion(ho__ChippingFailReg, out ho_ChippingFailReg,
                                hv_o_HomMatMod2Img, "nearest_neighbor");
                            hvec_o_DefectValue[3] = new HTupleVector(hv_Area).Clone();
                            hvec_o_FailRegs[3] = new HObjectVector(ho_ChippingFailReg) ;
                        }
                        else
                        {
                            if (hv_o_DefectType == null)
                                hv_o_DefectType = new HTuple();
                            hv_o_DefectType[3] = 0;
                            hvec_o_DefectValue[3] = new HTupleVector(new HTuple(0));
                            hvec_o_FailRegs[3] = new HObjectVector(ho__EmptyFailReg) ;
                        }
                    }
                    else
                    {
                        //Ic表面
                        if (hv_o_DefectType == null)
                            hv_o_DefectType = new HTuple();
                        hv_o_DefectType[2] = 0;
                        hvec_o_DefectValue[2] = new HTupleVector(new HTuple(0));
                        hvec_o_FailRegs[2] = new HObjectVector(ho__EmptyFailReg) ;
                        //崩边
                        if (hv_o_DefectType == null)
                            hv_o_DefectType = new HTuple();
                        hv_o_DefectType[3] = 0;
                        hvec_o_DefectValue[3] = new HTupleVector(new HTuple(0));
                        hvec_o_FailRegs[3] = new HObjectVector(ho__EmptyFailReg) ;
                    }
                }
            }
            HOperatorSet.TupleSum(hv_o_DefectType, out hv_TypeSum);
            if ((int)(new HTuple(hv_TypeSum.TupleGreater(0))) != 0)
            {
                hv_o_ErrCode = 1;
                hv_o_ErrStr = "ic has defect";
                ho__EmptyFailReg.Dispose();
                ho__InspectReg.Dispose();
                ho__MatchReg.Dispose();
                ho__IcInspectReg.Dispose();
                ho__Targets.Dispose();
                ho_RegionUnion.Dispose();
                ho__SubFailReg.Dispose();
                ho_SubFailReg.Dispose();
                ho__ChippingFailReg.Dispose();
                ho_ChippingFailReg.Dispose();

                return;
            }
            else
            {
                hv_o_ErrCode = 0;
                hv_o_ErrStr = "ic is OK";
                ho__EmptyFailReg.Dispose();
                ho__InspectReg.Dispose();
                ho__MatchReg.Dispose();
                ho__IcInspectReg.Dispose();
                ho__Targets.Dispose();
                ho_RegionUnion.Dispose();
                ho__SubFailReg.Dispose();
                ho_SubFailReg.Dispose();
                ho__ChippingFailReg.Dispose();
                ho_ChippingFailReg.Dispose();

                return;
            }










        }

        public static void HTV_Ic_Exist(HObject ho_i_Image, HObject ho_i_InspectReg, HTuple hv_i_DilationSize,
    HTuple hv_i_ThreshGray, HTuple hv_i_LightOrDark, HTuple hv_i_ClosingSize, HTuple hv_i_IcSizeTh,
    out HTuple hv_o_ErrCode, out HTuple hv_o_ErrStr)
        {




            // Local iconic variables 

            HObject ho__InspectReg, ho_InspectImg, ho_Region;
            HObject ho_RegionOpening1, ho_RegionOpening, ho_ConnectedRegions;
            HObject ho__IcReg;

            // Local control variables 

            HTuple hv_imgNum = null, hv_regNum = null;
            HTuple hv_IsString = null, hv_threshNum = null, hv_lowThresh = new HTuple();
            HTuple hv_highThresh = new HTuple(), hv_minSize = null;
            HTuple hv_maxSize = new HTuple(), hv_Width = new HTuple();
            HTuple hv_Height = new HTuple(), hv__ErrCode = null, hv__ErrStr = null;
            HTuple hv_IcNum = null;
            // Initialize local and output iconic variables 
            HOperatorSet.GenEmptyObj(out ho__InspectReg);
            HOperatorSet.GenEmptyObj(out ho_InspectImg);
            HOperatorSet.GenEmptyObj(out ho_Region);
            HOperatorSet.GenEmptyObj(out ho_RegionOpening1);
            HOperatorSet.GenEmptyObj(out ho_RegionOpening);
            HOperatorSet.GenEmptyObj(out ho_ConnectedRegions);
            HOperatorSet.GenEmptyObj(out ho__IcReg);
            //***********************************采用阈值分割的方式进行IC检测区域有无IC进行存在检测
            //i_Image：输入图像
            //i_InspectReg：矩形搜索区域
            //i_DilationSize：区域膨胀因子
            //i_ThreshGray: 阈值分割的灰度阈值，可以为1个参数（灰度上限或下限）或2个参数（灰度上下限）
            //i_LightOrDark：IC为亮目标或暗目标
            //i_ClosingSize: 为去除孔洞干扰进行闭运算的尺寸
            //i_EpoxySizeTh: 银胶目标的面积阈值，可以为1个参数（面积下限）或2个参数（面积上下限）
            //o_ErrCode: 错误码，代表该算子执行过程中产生的错误，0-代表正常执行，自然数-代表错误类型，-1-代表异常，-2-代表未执行
            //o_ErrStr: 错误信息，对各种错误的具体描述


            //初始化
            hv_o_ErrCode = -2;
            hv_o_ErrStr = "initializing";
            //输入有效性测试
            HOperatorSet.CountObj(ho_i_Image, out hv_imgNum);
            if ((int)(new HTuple(hv_imgNum.TupleEqual(0))) != 0)
            {
                hv_o_ErrCode = -1;
                hv_o_ErrStr = "input image is null";
                ho__InspectReg.Dispose();
                ho_InspectImg.Dispose();
                ho_Region.Dispose();
                ho_RegionOpening1.Dispose();
                ho_RegionOpening.Dispose();
                ho_ConnectedRegions.Dispose();
                ho__IcReg.Dispose();

                return;
            }
            if ((int)(new HTuple((new HTuple(hv_i_ThreshGray.TupleLength())).TupleLess(1))) != 0)
            {
                hv_o_ErrCode = -1;
                hv_o_ErrStr = "paras illegal";
                ho__InspectReg.Dispose();
                ho_InspectImg.Dispose();
                ho_Region.Dispose();
                ho_RegionOpening1.Dispose();
                ho_RegionOpening.Dispose();
                ho_ConnectedRegions.Dispose();
                ho__IcReg.Dispose();

                return;
            }
            HOperatorSet.CountObj(ho_i_InspectReg, out hv_regNum);
            if ((int)(new HTuple(hv_regNum.TupleLess(1))) != 0)
            {
                hv_o_ErrCode = -1;
                hv_o_ErrStr = "Epoxy inspect region empty";
                ho__InspectReg.Dispose();
                ho_InspectImg.Dispose();
                ho_Region.Dispose();
                ho_RegionOpening1.Dispose();
                ho_RegionOpening.Dispose();
                ho_ConnectedRegions.Dispose();
                ho__IcReg.Dispose();

                return;
            }
            HOperatorSet.TupleIsString(hv_i_LightOrDark, out hv_IsString);
            if ((int)(new HTuple(hv_IsString.TupleEqual("false"))) != 0)
            {
                hv_o_ErrCode = -1;
                hv_o_ErrStr = "the para i_LightOrDark must be a string";
                ho__InspectReg.Dispose();
                ho_InspectImg.Dispose();
                ho_Region.Dispose();
                ho_RegionOpening1.Dispose();
                ho_RegionOpening.Dispose();
                ho_ConnectedRegions.Dispose();
                ho__IcReg.Dispose();

                return;
            }
            if ((int)((new HTuple((new HTuple(hv_i_ClosingSize.TupleLength())).TupleLess(
                1))).TupleOr(new HTuple(hv_i_ClosingSize.TupleLess(1)))) != 0)
            {
                hv_o_ErrCode = -1;
                hv_o_ErrStr = "the para i_OpeningSize must greater than 0";
                ho__InspectReg.Dispose();
                ho_InspectImg.Dispose();
                ho_Region.Dispose();
                ho_RegionOpening1.Dispose();
                ho_RegionOpening.Dispose();
                ho_ConnectedRegions.Dispose();
                ho__IcReg.Dispose();

                return;
            }
            if ((int)((new HTuple((new HTuple(hv_i_IcSizeTh.TupleLength())).TupleLess(1))).TupleOr(
                new HTuple(((hv_i_IcSizeTh.TupleSelect(0))).TupleLess(1)))) != 0)
            {
                hv_o_ErrCode = -1;
                hv_o_ErrStr = "the para i_EpoxySizeTh must be one integer greater than 0 at least";
                ho__InspectReg.Dispose();
                ho_InspectImg.Dispose();
                ho_Region.Dispose();
                ho_RegionOpening1.Dispose();
                ho_RegionOpening.Dispose();
                ho_ConnectedRegions.Dispose();
                ho__IcReg.Dispose();

                return;
            }
            //阈值分割上下限参数
            hv_threshNum = new HTuple(hv_i_ThreshGray.TupleLength());
            if ((int)(new HTuple(hv_threshNum.TupleEqual(1))) != 0)
            {
                if ((int)(new HTuple(hv_i_LightOrDark.TupleEqual("light"))) != 0)
                {
                    hv_lowThresh = hv_i_ThreshGray.Clone();
                    hv_highThresh = 255;
                }
                else
                {
                    hv_lowThresh = 0;
                    hv_highThresh = hv_i_ThreshGray.Clone();
                }
            }
            else if ((int)(new HTuple(hv_threshNum.TupleEqual(2))) != 0)
            {
                hv_lowThresh = hv_i_ThreshGray[0];
                hv_highThresh = hv_i_ThreshGray[1];
            }
            //目标区域面积上下限
            hv_minSize = hv_i_IcSizeTh[0];
            if ((int)(new HTuple((new HTuple(hv_i_IcSizeTh.TupleLength())).TupleGreater(1))) != 0)
            {
                hv_maxSize = hv_i_IcSizeTh[1];
            }
            else
            {
                HOperatorSet.GetImageSize(ho_i_Image, out hv_Width, out hv_Height);
                hv_maxSize = hv_Width * hv_Height;
            }
            //对区域进行膨胀
            ho__InspectReg.Dispose();
            HTV_region_dilation(ho_i_InspectReg, out ho__InspectReg, hv_i_DilationSize, out hv__ErrCode,
                out hv__ErrStr);
            //异常处理
            if ((int)(new HTuple(hv__ErrCode.TupleLess(0))) != 0)
            {
                hv_o_ErrCode = -1;
                hv_o_ErrStr = hv__ErrStr.Clone();
                ho__InspectReg.Dispose();
                ho_InspectImg.Dispose();
                ho_Region.Dispose();
                ho_RegionOpening1.Dispose();
                ho_RegionOpening.Dispose();
                ho_ConnectedRegions.Dispose();
                ho__IcReg.Dispose();

                return;
            }
            //对Ic检测区域进行阈值分割
            ho_InspectImg.Dispose();
            HOperatorSet.ReduceDomain(ho_i_Image, ho__InspectReg, out ho_InspectImg);
            ho_Region.Dispose();
            HOperatorSet.Threshold(ho_InspectImg, out ho_Region, hv_lowThresh, hv_highThresh);
            //形态学处理：去除金线、孔洞干扰
            ho_RegionOpening1.Dispose();
            HOperatorSet.OpeningCircle(ho_Region, out ho_RegionOpening1, hv_i_ClosingSize);
            ho_RegionOpening.Dispose();
            HOperatorSet.ClosingCircle(ho_RegionOpening1, out ho_RegionOpening, hv_i_ClosingSize);
            ho_ConnectedRegions.Dispose();
            HOperatorSet.Connection(ho_RegionOpening, out ho_ConnectedRegions);
            ho__IcReg.Dispose();
            HOperatorSet.SelectShape(ho_ConnectedRegions, out ho__IcReg, "area", "and", hv_minSize,
                hv_maxSize);

            //判断IC检测区域有无IC
            HOperatorSet.CountObj(ho__IcReg, out hv_IcNum);
            if ((int)(hv_IcNum) != 0)
            {
                hv_o_ErrCode = 0;
                hv_o_ErrStr = "ic exist";
                ho__InspectReg.Dispose();
                ho_InspectImg.Dispose();
                ho_Region.Dispose();
                ho_RegionOpening1.Dispose();
                ho_RegionOpening.Dispose();
                ho_ConnectedRegions.Dispose();
                ho__IcReg.Dispose();

                return;
            }
            else
            {
                hv_o_ErrCode = 1;
                hv_o_ErrStr = "ic does not exist!";
                ho__InspectReg.Dispose();
                ho_InspectImg.Dispose();
                ho_Region.Dispose();
                ho_RegionOpening1.Dispose();
                ho_RegionOpening.Dispose();
                ho_ConnectedRegions.Dispose();
                ho__IcReg.Dispose();

                return;
            }
        }

        public static void HTV_Ic_Error(HObject ho_i_Image, HObject ho_i_InspectReg, HObject ho_i_MatchReg,
    HTuple hv_i_HomMatMod2Img, HTuple hv_i_DilationSize, HTuple hv_i_ModelType,
    HTuple hv_i_ModelID, HTuple hv_i_Score, HTuple hv_i_AngleStart, HTuple hv_i_AngleExt,
    HTuple hv_i_MatchNum, out HTuple hv_o_LocPara, out HTuple hv_o_ErrCode, out HTuple hv_o_ErrStr)
        {




            // Local iconic variables 

            HObject ho__InspectReg, ho__IcMatchImage, ho_ImageAffinTrans;
            HObject ho__SearchReg;

            // Local control variables 

            HTuple hv_Area = null, hv_Row = null, hv_Column = null;
            HTuple hv_HomMat2D = null, hv_HomMat2DRotate = null, hv__ErrInspectRegDilCode = null;
            HTuple hv__ErrInspectRegDilStr = null, hv__ErrDilCode = null;
            HTuple hv__ErrDilStr = null, hv__ErrLocCode = null, hv__ErrLocStr = null;
            // Initialize local and output iconic variables 
            HOperatorSet.GenEmptyObj(out ho__InspectReg);
            HOperatorSet.GenEmptyObj(out ho__IcMatchImage);
            HOperatorSet.GenEmptyObj(out ho_ImageAffinTrans);
            HOperatorSet.GenEmptyObj(out ho__SearchReg);
            //*************测试IC是否反向：使用旋转图像，再次进行匹配的定位的方法
            // i_Image：输入图像，在图像中寻找匹配对象
            // i_InspectReg：Ic检测区域
            // i_MatchReg: Ic匹配区域
            // i_HomMatMod2Img: Frame模板到图像的映射矩阵--从模板到检测图像的映射关系
            // i_DilationSize：膨胀匹配区域获取搜索区域所需要的膨胀尺寸
            // i_ModelType: 模板类型，一般使用ncc和shape定位模板，该参数为整型类型，0-ncc，1-shape
            // i_ModelID: 模板ID号，创建匹配模板时返回值，通常由模板文件读入
            // i_Score: 最小匹配分数
            // i_AngleStart: 匹配定位起始角度
            // i_AngleExt: 匹配定位角度范围
            // i_MatchNum: 需要匹配的目标个数
            // o_LocPara：Ic反向定位结果
            // o_ErrCode: 错误码，代表该算子执行过程中产生的错误，0-代表正常执行，正整数-代表错误类型，-1-代表异常，-2-代表未执行
            // o_ErrStr: 错误信息，对各种错误的具体描述
            //***************************************************************
            //初始化
            hv_o_ErrCode = -2;
            hv_o_ErrStr = "initializing";
            hv_o_LocPara = new HTuple();
            //计算芯片中心,应该传入芯片外接矩形框
            HOperatorSet.AreaCenter(ho_i_InspectReg, out hv_Area, out hv_Row, out hv_Column);
            HOperatorSet.HomMat2dIdentity(out hv_HomMat2D);
            HOperatorSet.HomMat2dRotate(hv_HomMat2D, (new HTuple(180)).TupleRad(), hv_Row,
                hv_Column, out hv_HomMat2DRotate);
            //检测图像区域膨胀
            ho__InspectReg.Dispose();
            HTV_region_dilation(ho_i_InspectReg, out ho__InspectReg, hv_i_DilationSize, out hv__ErrInspectRegDilCode,
                out hv__ErrInspectRegDilStr);
            //异常处理
            if ((int)(new HTuple(hv__ErrInspectRegDilCode.TupleLess(0))) != 0)
            {
                hv_o_ErrCode = -1;
                hv_o_ErrStr = "fail to dilation ic inspect region dilation";
                ho__InspectReg.Dispose();
                ho__IcMatchImage.Dispose();
                ho_ImageAffinTrans.Dispose();
                ho__SearchReg.Dispose();

                return;
            }

            //获取区域图像
            ho__IcMatchImage.Dispose();
            HOperatorSet.ReduceDomain(ho_i_Image, ho__InspectReg, out ho__IcMatchImage);
            //反转匹配图像
            ho_ImageAffinTrans.Dispose();
            HOperatorSet.AffineTransImage(ho__IcMatchImage, out ho_ImageAffinTrans, hv_HomMat2DRotate,
                "constant", "false");
            //IC搜索区域获取
            ho__SearchReg.Dispose();
            HTV_region_dilation(ho_i_MatchReg, out ho__SearchReg, hv_i_DilationSize, out hv__ErrDilCode,
                out hv__ErrDilStr);
            //异常处理
            if ((int)(new HTuple(hv__ErrDilCode.TupleLess(0))) != 0)
            {
                hv_o_ErrCode = -1;
                hv_o_ErrStr = "fail to dilation ic match region dilation";
                ho__InspectReg.Dispose();
                ho__IcMatchImage.Dispose();
                ho_ImageAffinTrans.Dispose();
                ho__SearchReg.Dispose();

                return;
            }
            HTV_Loc_Match(ho_ImageAffinTrans, ho__SearchReg, hv_i_ModelType, hv_i_ModelID,
                hv_i_Score, hv_i_AngleStart, hv_i_AngleExt, hv_i_MatchNum, out hv_o_LocPara,
                out hv__ErrLocCode, out hv__ErrLocStr);
            //出现异常
            if ((int)(new HTuple(hv__ErrLocCode.TupleLess(0))) != 0)
            {
                hv_o_ErrCode = -1;
                hv_o_ErrStr = hv__ErrLocStr.Clone();
                ho__InspectReg.Dispose();
                ho__IcMatchImage.Dispose();
                ho_ImageAffinTrans.Dispose();
                ho__SearchReg.Dispose();

                return;
            }
            if ((int)(new HTuple(hv__ErrLocCode.TupleGreater(0))) != 0)
            {
                hv_o_ErrCode = 1;
                hv_o_ErrStr = "fail to reverse locate Ic !";
                ho__InspectReg.Dispose();
                ho__IcMatchImage.Dispose();
                ho_ImageAffinTrans.Dispose();
                ho__SearchReg.Dispose();

                return;
            }
            else
            {
                hv_o_ErrCode = 0;
                hv_o_ErrStr = "succeed to reverse locate Ic";
                ho__InspectReg.Dispose();
                ho__IcMatchImage.Dispose();
                ho_ImageAffinTrans.Dispose();
                ho__SearchReg.Dispose();

                return;
            }









        }

        public static void HTV_region_dilation(HObject ho_i_MatchReg, out HObject ho_o_MatchReDilation,
    HTuple hv_i_DilationSize, out HTuple hv_o_ErrCode, out HTuple hv_o_ErrStr)
        {




            // Local iconic variables 

            HObject ho_RegionUnion, ho_RegionTrans;
            // Initialize local and output iconic variables 
            HOperatorSet.GenEmptyObj(out ho_o_MatchReDilation);
            HOperatorSet.GenEmptyObj(out ho_RegionUnion);
            HOperatorSet.GenEmptyObj(out ho_RegionTrans);
            //****  对匹配区域进行膨胀
            //i_MatchReg输入的区域变量，即待膨胀区域；
            //o_MatchRegDilation输出的膨胀结果的区域；
            //i_DilationSize控制膨胀大小的输入控制参数；
            //o_ErrCode输出的错误信号码；
            //o_ErrString输出的错误信息；

            //初始化
            hv_o_ErrCode = 0;
            hv_o_ErrStr = "initializing";
            //输入参数有效性判断
            if ((int)((new HTuple((new HTuple(hv_i_DilationSize.TupleLength())).TupleEqual(
                0))).TupleOr(new HTuple(hv_i_DilationSize.TupleLess(0)))) != 0)
            {
                hv_o_ErrCode = -1;
                hv_o_ErrStr = "i_DilationSize is illegal";
                ho_RegionUnion.Dispose();
                ho_RegionTrans.Dispose();

                return;
            }

            //对输入的匹配区域进行膨胀处理

            ho_RegionUnion.Dispose();
            HOperatorSet.Union1(ho_i_MatchReg, out ho_RegionUnion);
            ho_RegionTrans.Dispose();
            HOperatorSet.ShapeTrans(ho_RegionUnion, out ho_RegionTrans, "rectangle1");
            if ((int)(new HTuple(hv_i_DilationSize.TupleNotEqual(0))) != 0)
            {
                ho_o_MatchReDilation.Dispose();
                HOperatorSet.DilationRectangle1(ho_RegionTrans, out ho_o_MatchReDilation, hv_i_DilationSize,
                    hv_i_DilationSize);
            }
            else
            {
                ho_o_MatchReDilation.Dispose();
                ho_o_MatchReDilation = ho_RegionTrans.CopyObj(1, -1);
            }

            hv_o_ErrCode = 0;
            hv_o_ErrStr = "match region dilation successful";
            ho_RegionUnion.Dispose();
            ho_RegionTrans.Dispose();

            return;
        }

            

        public static void HTV_Ic_Location(HObject ho_i_Image, HObject ho_i_MatchReg, HTuple hv_i_DilationSize,
    HTuple hv_i_ModelType, HTuple hv_i_ModelID, HTuple hv_i_Score, HTuple hv_i_AngleStart,
    HTuple hv_i_AngleExt, HTuple hv_i_MatchNum, HTuple hv_i_RefRow, HTuple hv_i_RefCol,
    HTuple hv_i_RefAngle, HTuple hv_i_RowDiffTh, HTuple hv_i_ColDiffTh, HTuple hv_i_AngleDiffTh,
    out HTuple hv_o_LocPara, out HTuple hv_o_DiffPara, out HTuple hv_o_ErrCode,
    out HTuple hv_o_ErrStr)
        {




            // Local iconic variables 

            HObject ho__SearchReg;

            // Local control variables 

            HTuple hv__ErrDilCode = null, hv__ErrDilStr = null;
            HTuple hv__ErrLocCode = null, hv__ErrLocStr = null, hv_IcRow = new HTuple();
            HTuple hv_IcCol = new HTuple(), hv_IcAngle = new HTuple();
            HTuple hv__RowDiff = new HTuple(), hv__ColDiff = new HTuple();
            HTuple hv__AngleDiff = new HTuple(), hv_AngleDiff = new HTuple();
            // Initialize local and output iconic variables 
            HOperatorSet.GenEmptyObj(out ho__SearchReg);
            //**********     通过模板匹配的方式定位目标
            // i_Image: 输入图像，在图像中寻找匹配对象
            // i_MatchReg: 搜索区域，在区域内匹配目标对象
            // i_DilationSize：膨胀匹配区域获取搜索区域所需要的膨胀尺寸
            // i_ModelType: 模板类型，一般使用ncc和shape定位模板，该参数为整型类型，0-ncc，1-shape
            // i_ModelID: 模板ID号，创建匹配模板时返回值，通常由模板文件读入
            // i_Score: 最小匹配分数
            // i_AngleStart: 匹配定位起始角度
            // i_AngleExt: 匹配定位角度范围
            // i_MatchNum: 需要匹配的目标个数
            // i_RefRow：判断IC是否偏移行参考
            // i_RefCol：判断IC是否偏移列参考
            // i_RefAngle：判断IC是否旋转角度参考
            // i_RowDiffTh: 行方向偏移阈值
            // i_ColDiffTh: 列方向偏移阈值
            // i_AngleDiffTh: 角度偏移阈值
            // o_DiffPara：Ic实际偏移量
            // o_LocPara：Ic实际定位结果
            // o_ErrCode: 错误码，代表该算子执行过程中产生的错误，0-代表正常执行，正整数-代表错误类型，-1-代表异常，-2-代表未执行
            // o_ErrStr: 错误信息，对各种错误的具体描述

            //初始化
            hv_o_ErrCode = -2;
            hv_o_ErrStr = "initializing";
            hv_o_LocPara = new HTuple();
            hv_o_DiffPara = new HTuple();
            //输入参数合理性判断
            if ((int)((new HTuple((new HTuple(hv_i_RowDiffTh.TupleLength())).TupleEqual(0))).TupleOr(
                new HTuple(hv_i_RowDiffTh.TupleLess(0)))) != 0)
            {
                hv_o_ErrCode = -1;
                hv_o_ErrStr = "i_RowDiffTh is illegal";
                ho__SearchReg.Dispose();

                return;
            }
            if ((int)((new HTuple((new HTuple(hv_i_ColDiffTh.TupleLength())).TupleEqual(0))).TupleOr(
                new HTuple(hv_i_ColDiffTh.TupleLess(0)))) != 0)
            {
                hv_o_ErrCode = -1;
                hv_o_ErrStr = "i_ColDiffTh is illegal";
                ho__SearchReg.Dispose();

                return;
            }
            if ((int)((new HTuple((new HTuple(hv_i_AngleDiffTh.TupleLength())).TupleEqual(
                0))).TupleOr(new HTuple(hv_i_AngleDiffTh.TupleLess(0)))) != 0)
            {
                hv_o_ErrCode = -1;
                hv_o_ErrStr = "i_AngleDiffTh is illegal";
                ho__SearchReg.Dispose();

                return;
            }
            //
            //----------进行IC定位、偏移、旋转检测
            //IC搜索区域获取
            ho__SearchReg.Dispose();
            HTV_region_dilation(ho_i_MatchReg, out ho__SearchReg, hv_i_DilationSize, out hv__ErrDilCode,
                out hv__ErrDilStr);
            //异常处理
            if ((int)(new HTuple(hv__ErrDilCode.TupleLess(0))) != 0)
            {
                hv_o_ErrCode = -1;
                hv_o_ErrStr = hv__ErrDilStr.Clone();
                ho__SearchReg.Dispose();

                return;
            }
            //
            //IC定位
            HTV_Loc_Match(ho_i_Image, ho__SearchReg, hv_i_ModelType, hv_i_ModelID, hv_i_Score,
                hv_i_AngleStart, hv_i_AngleExt, hv_i_MatchNum, out hv_o_LocPara, out hv__ErrLocCode,
                out hv__ErrLocStr);
            //出现异常
            if ((int)(new HTuple(hv__ErrLocCode.TupleLess(0))) != 0)
            {
                hv_o_ErrCode = -1;
                hv_o_ErrStr = hv__ErrLocStr.Clone();
                ho__SearchReg.Dispose();

                return;
            }
            //
            if ((int)(new HTuple(hv__ErrLocCode.TupleGreater(0))) != 0)
            {
                hv_o_ErrCode = 1;
                hv_o_ErrStr = "fail to locate Ic !";
                ho__SearchReg.Dispose();

                return;
            }
            else
            {
                //Ic偏移、旋转检测
                //输出IC映射矩阵
                hv_IcRow = hv_o_LocPara[0];
                hv_IcCol = hv_o_LocPara[1];
                hv_IcAngle = hv_o_LocPara[2];
                //计算偏移量
                hv__RowDiff = ((hv_i_RefRow - hv_IcRow)).TupleAbs();
                hv__ColDiff = ((hv_i_RefCol - hv_IcCol)).TupleAbs();
                hv__AngleDiff = ((hv_i_RefAngle - hv_IcAngle)).TupleAbs();
                hv_o_DiffPara = ((((hv_o_DiffPara.TupleConcat(hv__RowDiff))).TupleConcat(hv__ColDiff))).TupleConcat(
                    hv__AngleDiff);
                //转换角度
                if ((int)(new HTuple(hv__AngleDiff.TupleGreater((new HTuple(180)).TupleRad()
                    ))) != 0)
                {
                    hv_AngleDiff = ((new HTuple(360)).TupleRad()) - hv_AngleDiff;
                }
                //判断IC是否偏移或旋转
                if ((int)((new HTuple((new HTuple(hv__RowDiff.TupleGreater(hv_i_RowDiffTh))).TupleOr(
                    new HTuple(hv__ColDiff.TupleGreater(hv_i_ColDiffTh))))).TupleOr(new HTuple(hv__AngleDiff.TupleGreater(
                    hv_i_AngleDiffTh)))) != 0)
                {
                    hv_o_ErrCode = 2;
                    hv_o_ErrStr = "is is shift!";
                    ho__SearchReg.Dispose();

                    return;
                }
                else
                {
                    hv_o_ErrCode = 0;
                    hv_o_ErrStr = "ic location successful";
                    ho__SearchReg.Dispose();

                    return;
                }
            }
        }

        public static void HTV_Ic_Surface_GoldenModel(HObject ho_i_Image, HObject ho_i_InspectReg,
    HObject ho_i_RejectRegs, HObject ho_i_SubReg, HObject ho_i_MeanImg, HObject ho_i_StdImg,
    out HObject ho_o_Targets, HTuple hv_i_HomMatMod2Img, HTuple hv_i_SobelScaleFactors,
    HTuple hv_i_DarkScaleFactors, HTuple hv_i_LightScaleFactors, HTuple hv_i_GrayContrast,
    HTuple hv_i_CloseSize, HTuple hv_i_MinLength, HTuple hv_i_MinWidth, HTuple hv_i_MinArea,
    HTuple hv_i_SelOperation, out HTuple hv_o_ErrCode, out HTuple hv_o_ErrStr)
        {




            // Local iconic variables 

            HObject ho_o_LightImage, ho_o_DarkImage, ho_RegionUnion;
            HObject ho__InspectReg, ho_ImageAffinTrans, ho__IcSurfaceImg;
            HObject ho__SegImage;

            // Local control variables 

            HTuple hv__ErrGenImgCode = null, hv__ErrGenImgStr = null;
            HTuple hv_HomMatImg2Model = null, hv__ThresholdErrCode = null;
            HTuple hv__ThresholdErrStr = null, hv__BlobErrCode = new HTuple();
            HTuple hv__BlobErrStr = new HTuple(), hv_Number = new HTuple();
            // Initialize local and output iconic variables 
            HOperatorSet.GenEmptyObj(out ho_o_Targets);
            HOperatorSet.GenEmptyObj(out ho_o_LightImage);
            HOperatorSet.GenEmptyObj(out ho_o_DarkImage);
            HOperatorSet.GenEmptyObj(out ho_RegionUnion);
            HOperatorSet.GenEmptyObj(out ho__InspectReg);
            HOperatorSet.GenEmptyObj(out ho_ImageAffinTrans);
            HOperatorSet.GenEmptyObj(out ho__IcSurfaceImg);
            HOperatorSet.GenEmptyObj(out ho__SegImage);
            //***************************使用亮暗图像进行IC动态阈值分割提取IC表面被污染的区域，并进行符合要求的缺陷目标进行提取
            //i_Image: 输入图像
            //i_InspectReg：检测区域，在该区域中进行表面污染检测
            //i_RejectRegs: 拒绝区域，即免检区域，一般在检测区域内部容易造成干扰的区域或不感兴趣的区域
            //i_SubReg：重点检测区域，在IC表面检测中需要进行检测，需要输入
            //i_MeanImg：Ic均值图
            //i_StdImg：Ic方差图
            //o_Targets：符合要求的IC缺陷目标
            //i_HomMatMod2Img: Ic模板到图像的映射矩阵--从模板到检测图像的映射关系
            //i_SobelScaleFactors:边缘提取系数
            //i_DarkScaleFactors:生成暗图系数
            //i_LightScaleFactors：生成亮图系数
            //i_GrayContrast: 灰度对比度，即超过阈值多大的范围视为感兴趣的目标
            //i_CloseSize: 闭运算尺寸，对图像分割的原始结果进行形态学处理，消除内部的干扰成分
            //i_MinLength：缺陷最小外接矩形半长,为一个向量，针对各重点检测区和非重点检测区分别设置不同参数
            //i_MinWidth：缺陷最小外接矩形半宽,为一个向量，针对各重点检测区和非重点检测区分别设置不同参数
            //i_MinArea：缺陷最小面积,为一个向量，针对各重点检测区和非重点检测区分别设置不同参数
            //i_SelOperation：形状选择算子and或or等
            //o_ErrCode: 错误码，代表该算子执行过程中产生的错误，0-代表正常执行，正整数-代表错误类型，-1-代表异常，-2-代表未执行
            //o_ErrStr: 错误信息，对各种错误的具体描述

            //初始化

            ho_o_Targets.Dispose();
            HOperatorSet.GenEmptyObj(out ho_o_Targets);
            hv_o_ErrCode = -2;
            hv_o_ErrStr = "initializing";

            //获取亮图、暗图
            ho_o_LightImage.Dispose(); ho_o_DarkImage.Dispose();
            HTV_CreateGoldenImage(ho_i_MeanImg, ho_i_StdImg, ho_i_InspectReg, ho_i_SubReg,
                out ho_o_LightImage, out ho_o_DarkImage, hv_i_LightScaleFactors, hv_i_DarkScaleFactors,
                hv_i_SobelScaleFactors, out hv__ErrGenImgCode, out hv__ErrGenImgStr);
            //异常
            if ((int)(new HTuple(hv__ErrGenImgCode.TupleLess(0))) != 0)
            {
                hv_o_ErrCode = -1;
                hv_o_ErrStr = hv__ErrGenImgStr.Clone();
                ho_o_LightImage.Dispose();
                ho_o_DarkImage.Dispose();
                ho_RegionUnion.Dispose();
                ho__InspectReg.Dispose();
                ho_ImageAffinTrans.Dispose();
                ho__IcSurfaceImg.Dispose();
                ho__SegImage.Dispose();

                return;
            }

            //获取检测区域、图像
            ho_RegionUnion.Dispose();
            HOperatorSet.Union1(ho_i_RejectRegs, out ho_RegionUnion);
            ho__InspectReg.Dispose();
            HOperatorSet.Difference(ho_i_InspectReg, ho_RegionUnion, out ho__InspectReg);
            //align image(affine trans image to model)
            HOperatorSet.HomMat2dInvert(hv_i_HomMatMod2Img, out hv_HomMatImg2Model);
            //将检测区域图像映射到model
            ho_ImageAffinTrans.Dispose();
            HOperatorSet.AffineTransImage(ho_i_Image, out ho_ImageAffinTrans, hv_HomMatImg2Model,
                "constant", "false");
            //获取检测区域图像
            ho__IcSurfaceImg.Dispose();
            HOperatorSet.ReduceDomain(ho_ImageAffinTrans, ho__InspectReg, out ho__IcSurfaceImg
                );


            ho__SegImage.Dispose();
            HTV_GlodenModel_Threshold(ho__IcSurfaceImg, ho_o_LightImage, ho_o_DarkImage,
                out ho__SegImage, hv_i_GrayContrast, hv_i_CloseSize, out hv__ThresholdErrCode,
                out hv__ThresholdErrStr);

            //异常处理
            if ((int)(new HTuple(hv__ThresholdErrCode.TupleLess(0))) != 0)
            {
                hv_o_ErrCode = -1;
                hv_o_ErrStr = hv__ThresholdErrStr.Clone();
                ho_o_LightImage.Dispose();
                ho_o_DarkImage.Dispose();
                ho_RegionUnion.Dispose();
                ho__InspectReg.Dispose();
                ho_ImageAffinTrans.Dispose();
                ho__IcSurfaceImg.Dispose();
                ho__SegImage.Dispose();

                return;
            }
            //
            if ((int)(new HTuple(hv__ThresholdErrCode.TupleEqual(0))) != 0)
            {
                //对阈值分割后的目标区域图像进行BLOB分析
                ho_o_Targets.Dispose();
                HTV_BLOB_Extract(ho__SegImage, ho__InspectReg, ho_i_SubReg, out ho_o_Targets,
                    hv_i_CloseSize, hv_i_MinLength, hv_i_MinWidth, hv_i_MinArea, hv_i_SelOperation,
                    out hv__BlobErrCode, out hv__BlobErrStr);
                //异常
                if ((int)(new HTuple(hv__BlobErrCode.TupleLess(0))) != 0)
                {
                    hv_o_ErrCode = -1;
                    hv_o_ErrStr = hv__BlobErrStr.Clone();
                    ho_o_LightImage.Dispose();
                    ho_o_DarkImage.Dispose();
                    ho_RegionUnion.Dispose();
                    ho__InspectReg.Dispose();
                    ho_ImageAffinTrans.Dispose();
                    ho__IcSurfaceImg.Dispose();
                    ho__SegImage.Dispose();

                    return;
                }

                //对Blob分析后的结果进行缺陷判断
                HOperatorSet.CountObj(ho_o_Targets, out hv_Number);
                if ((int)(new HTuple(hv_Number.TupleEqual(0))) != 0)
                {
                    hv_o_ErrCode = 0;
                    hv_o_ErrStr = "ic-Surface is clear";
                    ho_o_LightImage.Dispose();
                    ho_o_DarkImage.Dispose();
                    ho_RegionUnion.Dispose();
                    ho__InspectReg.Dispose();
                    ho_ImageAffinTrans.Dispose();
                    ho__IcSurfaceImg.Dispose();
                    ho__SegImage.Dispose();

                    return;
                }
                else
                {
                    hv_o_ErrCode = 1;
                    hv_o_ErrStr = "ic-Surface is dirty";
                    ho_o_LightImage.Dispose();
                    ho_o_DarkImage.Dispose();
                    ho_RegionUnion.Dispose();
                    ho__InspectReg.Dispose();
                    ho_ImageAffinTrans.Dispose();
                    ho__IcSurfaceImg.Dispose();
                    ho__SegImage.Dispose();

                    return;
                }
            }


        }

        public static void HTV_CreateGoldenImage(HObject ho_i_MeanImage, HObject ho_i_StdImage,
    HObject ho_i_InspectRegs, HObject ho_i_SubRegs, out HObject ho_o_LightImage,
    out HObject ho_o_DarkImage, HTuple hv_i_LightFactor, HTuple hv_i_DarkFactor,
    HTuple hv_i_SobelFactor, out HTuple hv_o_ErrCode, out HTuple hv_o_ErrStr)
        {




            // Stack for temporary objects 
            HObject[] OTemp = new HObject[20];

            // Local iconic variables 

            HObject ho_RegionDifference, ho_usualReg;
            HObject ho_AllRegs, ho_EdgeAmplitude, ho__ImgDark, ho__ImgLight;
            HObject ho_curReg = null, ho_ImageScaled = null, ho__NewStd = null;
            HObject ho_ImageScaled_D = null, ho_ImageSub_D = null, ho__sub_dark_thresh_image = null;
            HObject ho_ImageScaled_L = null, ho_ImageSub_L = null, ho__sub_light_thresh_image = null;
            HObject ho_dark_image_reduce = null, ho_light_image_reduce = null;

            // Local control variables 

            HTuple hv__stdNum = null, hv_meanNum = null;
            HTuple hv_regNum = null, hv_subNum = null, hv_factorNum1 = null;
            HTuple hv_factorNum2 = null, hv_factorNum3 = null, hv_num = new HTuple();
            HTuple hv_tmpTup = new HTuple(), hv_allNum = null, hv_idxReg = null;
            HTuple hv_i_DarkFactor_COPY_INP_TMP = hv_i_DarkFactor.Clone();
            HTuple hv_i_LightFactor_COPY_INP_TMP = hv_i_LightFactor.Clone();
            HTuple hv_i_SobelFactor_COPY_INP_TMP = hv_i_SobelFactor.Clone();

            // Initialize local and output iconic variables 
            HOperatorSet.GenEmptyObj(out ho_o_LightImage);
            HOperatorSet.GenEmptyObj(out ho_o_DarkImage);
            HOperatorSet.GenEmptyObj(out ho_RegionDifference);
            HOperatorSet.GenEmptyObj(out ho_usualReg);
            HOperatorSet.GenEmptyObj(out ho_AllRegs);
            HOperatorSet.GenEmptyObj(out ho_EdgeAmplitude);
            HOperatorSet.GenEmptyObj(out ho__ImgDark);
            HOperatorSet.GenEmptyObj(out ho__ImgLight);
            HOperatorSet.GenEmptyObj(out ho_curReg);
            HOperatorSet.GenEmptyObj(out ho_ImageScaled);
            HOperatorSet.GenEmptyObj(out ho__NewStd);
            HOperatorSet.GenEmptyObj(out ho_ImageScaled_D);
            HOperatorSet.GenEmptyObj(out ho_ImageSub_D);
            HOperatorSet.GenEmptyObj(out ho__sub_dark_thresh_image);
            HOperatorSet.GenEmptyObj(out ho_ImageScaled_L);
            HOperatorSet.GenEmptyObj(out ho_ImageSub_L);
            HOperatorSet.GenEmptyObj(out ho__sub_light_thresh_image);
            HOperatorSet.GenEmptyObj(out ho_dark_image_reduce);
            HOperatorSet.GenEmptyObj(out ho_light_image_reduce);
            //**********   针对一个匹配模板生成黄金模板所需的均值图像和方差图像
            //i_MeanImage: 均值图像
            //i_StdImage： 方差图像
            //i_InspectRegs: 检测区域，允许一个检测区域
            //i_SubRegs： 重点检测区域，允许多个重点检测区域
            //o_LightImage: 黄金模板亮图像
            //o_DarkImage：黄金模板暗图像
            //i_LightFactor：生成亮图像的比例系数，为一个数组，非重点检测区系数在前，重点检测区系数在后，至少应该有一个数值
            //i_DarkFactor：生成暗图像的比例系数，为一个数组，非重点检测区系数在前，重点检测区系数在后，至少应该有一个数值
            //i_SobelFactor：用于调节方差图像的边缘比例系数，为一个数组，非重点检测区系数在前，重点检测区系数在后，至少应该有一个数值
            //o_ErrCode: 错误码，代表该算子执行过程中产生的错误，0-代表正常执行，自然数-代表错误类型，-1-代表异常，-2-代表未执行
            //o_ErrStr: 错误信息，对各种错误的具体描述

            //初始化
            ho_o_LightImage.Dispose();
            HOperatorSet.GenEmptyObj(out ho_o_LightImage);
            ho_o_DarkImage.Dispose();
            HOperatorSet.GenEmptyObj(out ho_o_DarkImage);
            hv_o_ErrCode = -2;
            hv_o_ErrStr = "initializing";

            //输入有效性测试
            //方差图像
            HOperatorSet.CountObj(ho_i_StdImage, out hv__stdNum);
            if ((int)(new HTuple(hv__stdNum.TupleEqual(0))) != 0)
            {
                hv_o_ErrCode = -1;
                hv_o_ErrStr = "std image is null";
                ho_RegionDifference.Dispose();
                ho_usualReg.Dispose();
                ho_AllRegs.Dispose();
                ho_EdgeAmplitude.Dispose();
                ho__ImgDark.Dispose();
                ho__ImgLight.Dispose();
                ho_curReg.Dispose();
                ho_ImageScaled.Dispose();
                ho__NewStd.Dispose();
                ho_ImageScaled_D.Dispose();
                ho_ImageSub_D.Dispose();
                ho__sub_dark_thresh_image.Dispose();
                ho_ImageScaled_L.Dispose();
                ho_ImageSub_L.Dispose();
                ho__sub_light_thresh_image.Dispose();
                ho_dark_image_reduce.Dispose();
                ho_light_image_reduce.Dispose();

                return;
            }
            //均值图像
            HOperatorSet.CountObj(ho_i_MeanImage, out hv_meanNum);
            if ((int)(new HTuple(hv_meanNum.TupleEqual(0))) != 0)
            {
                hv_o_ErrCode = -1;
                hv_o_ErrStr = "mean image is null";
                ho_RegionDifference.Dispose();
                ho_usualReg.Dispose();
                ho_AllRegs.Dispose();
                ho_EdgeAmplitude.Dispose();
                ho__ImgDark.Dispose();
                ho__ImgLight.Dispose();
                ho_curReg.Dispose();
                ho_ImageScaled.Dispose();
                ho__NewStd.Dispose();
                ho_ImageScaled_D.Dispose();
                ho_ImageSub_D.Dispose();
                ho__sub_dark_thresh_image.Dispose();
                ho_ImageScaled_L.Dispose();
                ho_ImageSub_L.Dispose();
                ho__sub_light_thresh_image.Dispose();
                ho_dark_image_reduce.Dispose();
                ho_light_image_reduce.Dispose();

                return;
            }
            //检测区域
            HOperatorSet.CountObj(ho_i_InspectRegs, out hv_regNum);
            if ((int)(new HTuple(hv_regNum.TupleEqual(0))) != 0)
            {
                hv_o_ErrCode = -1;
                hv_o_ErrStr = "inspect regions is null";
                ho_RegionDifference.Dispose();
                ho_usualReg.Dispose();
                ho_AllRegs.Dispose();
                ho_EdgeAmplitude.Dispose();
                ho__ImgDark.Dispose();
                ho__ImgLight.Dispose();
                ho_curReg.Dispose();
                ho_ImageScaled.Dispose();
                ho__NewStd.Dispose();
                ho_ImageScaled_D.Dispose();
                ho_ImageSub_D.Dispose();
                ho__sub_dark_thresh_image.Dispose();
                ho_ImageScaled_L.Dispose();
                ho_ImageSub_L.Dispose();
                ho__sub_light_thresh_image.Dispose();
                ho_dark_image_reduce.Dispose();
                ho_light_image_reduce.Dispose();

                return;
            }
            HOperatorSet.CountObj(ho_i_SubRegs, out hv_subNum);
            //参数
            hv_factorNum1 = new HTuple(hv_i_LightFactor_COPY_INP_TMP.TupleLength());
            if ((int)(new HTuple(hv_factorNum1.TupleEqual(0))) != 0)
            {
                hv_o_ErrCode = -1;
                hv_o_ErrStr = "para i_LightFactor is illegal";
                ho_RegionDifference.Dispose();
                ho_usualReg.Dispose();
                ho_AllRegs.Dispose();
                ho_EdgeAmplitude.Dispose();
                ho__ImgDark.Dispose();
                ho__ImgLight.Dispose();
                ho_curReg.Dispose();
                ho_ImageScaled.Dispose();
                ho__NewStd.Dispose();
                ho_ImageScaled_D.Dispose();
                ho_ImageSub_D.Dispose();
                ho__sub_dark_thresh_image.Dispose();
                ho_ImageScaled_L.Dispose();
                ho_ImageSub_L.Dispose();
                ho__sub_light_thresh_image.Dispose();
                ho_dark_image_reduce.Dispose();
                ho_light_image_reduce.Dispose();

                return;
            }
            hv_factorNum2 = new HTuple(hv_i_DarkFactor_COPY_INP_TMP.TupleLength());
            if ((int)(new HTuple(hv_factorNum2.TupleEqual(0))) != 0)
            {
                hv_o_ErrCode = -1;
                hv_o_ErrStr = "para i_DarkFactor is illegal";
                ho_RegionDifference.Dispose();
                ho_usualReg.Dispose();
                ho_AllRegs.Dispose();
                ho_EdgeAmplitude.Dispose();
                ho__ImgDark.Dispose();
                ho__ImgLight.Dispose();
                ho_curReg.Dispose();
                ho_ImageScaled.Dispose();
                ho__NewStd.Dispose();
                ho_ImageScaled_D.Dispose();
                ho_ImageSub_D.Dispose();
                ho__sub_dark_thresh_image.Dispose();
                ho_ImageScaled_L.Dispose();
                ho_ImageSub_L.Dispose();
                ho__sub_light_thresh_image.Dispose();
                ho_dark_image_reduce.Dispose();
                ho_light_image_reduce.Dispose();

                return;
            }
            hv_factorNum3 = new HTuple(hv_i_SobelFactor_COPY_INP_TMP.TupleLength());
            if ((int)(new HTuple(hv_factorNum3.TupleEqual(0))) != 0)
            {
                hv_o_ErrCode = -1;
                hv_o_ErrStr = "para i_SobelFactor is illegal";
                ho_RegionDifference.Dispose();
                ho_usualReg.Dispose();
                ho_AllRegs.Dispose();
                ho_EdgeAmplitude.Dispose();
                ho__ImgDark.Dispose();
                ho__ImgLight.Dispose();
                ho_curReg.Dispose();
                ho_ImageScaled.Dispose();
                ho__NewStd.Dispose();
                ho_ImageScaled_D.Dispose();
                ho_ImageSub_D.Dispose();
                ho__sub_dark_thresh_image.Dispose();
                ho_ImageScaled_L.Dispose();
                ho_ImageSub_L.Dispose();
                ho__sub_light_thresh_image.Dispose();
                ho_dark_image_reduce.Dispose();
                ho_light_image_reduce.Dispose();

                return;
            }
            //确定每个区域的参数,每个重点检测区和非重点检测区分别调用各自的参数
            if ((int)(new HTuple(hv_factorNum1.TupleLess(hv_subNum + 1))) != 0)
            {
                hv_num = (hv_subNum + 1) - hv_factorNum1;
                HOperatorSet.TupleGenConst(hv_num, hv_i_LightFactor_COPY_INP_TMP.TupleSelect(
                    hv_factorNum1 - 1), out hv_tmpTup);
                hv_i_LightFactor_COPY_INP_TMP = hv_i_LightFactor_COPY_INP_TMP.TupleConcat(hv_tmpTup);
            }
            if ((int)(new HTuple(hv_factorNum2.TupleLess(hv_subNum + 1))) != 0)
            {
                hv_num = (hv_subNum + 1) - hv_factorNum2;
                HOperatorSet.TupleGenConst(hv_num, hv_i_DarkFactor_COPY_INP_TMP.TupleSelect(
                    hv_factorNum2 - 1), out hv_tmpTup);
                hv_i_DarkFactor_COPY_INP_TMP = hv_i_DarkFactor_COPY_INP_TMP.TupleConcat(hv_tmpTup);
            }
            if ((int)(new HTuple(hv_factorNum3.TupleLess(hv_subNum + 1))) != 0)
            {
                hv_num = (hv_subNum + 1) - hv_factorNum3;
                HOperatorSet.TupleGenConst(hv_num, hv_i_SobelFactor_COPY_INP_TMP.TupleSelect(
                    hv_factorNum3 - 1), out hv_tmpTup);
                hv_i_SobelFactor_COPY_INP_TMP = hv_i_SobelFactor_COPY_INP_TMP.TupleConcat(hv_tmpTup);
            }

            //区分重点检测区和非重点检测区，未指定重点检测区，则整个检测区都作为非重点检测区
            //非重点检测区
            ho_RegionDifference.Dispose();
            HOperatorSet.Difference(ho_i_InspectRegs, ho_i_SubRegs, out ho_RegionDifference
                );
            ho_usualReg.Dispose();
            HOperatorSet.Union1(ho_RegionDifference, out ho_usualReg);
            //所有检测区域，非重点检测区在前，重点检测区在后
            ho_AllRegs.Dispose();
            HOperatorSet.ConcatObj(ho_usualReg, ho_i_SubRegs, out ho_AllRegs);
            hv_allNum = hv_subNum + 1;
            //对均值图进行sobel边缘检测，提取边缘幅度
            ho_EdgeAmplitude.Dispose();
            HOperatorSet.SobelAmp(ho_i_MeanImage, out ho_EdgeAmplitude, "sum_abs", 5);
            //亮图像和暗图像初始化为0图像
            ho__ImgDark.Dispose();
            HTV_gen_image_type_recipe(ho_i_MeanImage, out ho__ImgDark, "byte");
            ho__ImgLight.Dispose();
            HTV_gen_image_type_recipe(ho_i_MeanImage, out ho__ImgLight, "byte");
            //对每个检测区域分别计算亮阈值和暗阈值
            HTuple end_val91 = hv_allNum - 1;
            HTuple step_val91 = 1;
            for (hv_idxReg = 0; hv_idxReg.Continue(end_val91, step_val91); hv_idxReg = hv_idxReg.TupleAdd(step_val91))
            {
                //选取当前检测区域
                ho_curReg.Dispose();
                HOperatorSet.SelectObj(ho_AllRegs, out ho_curReg, hv_idxReg + 1);
                //由边缘系数i_SobelScaleFactor计算边缘增强的部分，叠加到方差信息中
                ho_ImageScaled.Dispose();
                HOperatorSet.ScaleImage(ho_EdgeAmplitude, out ho_ImageScaled, hv_i_SobelFactor_COPY_INP_TMP.TupleSelect(
                    hv_idxReg), 0);
                ho__NewStd.Dispose();
                HOperatorSet.AddImage(ho_i_StdImage, ho_ImageScaled, out ho__NewStd, 1.0, 0);
                //暗图像生成：均值-方差系数*方差
                ho_ImageScaled_D.Dispose();
                HOperatorSet.ScaleImage(ho__NewStd, out ho_ImageScaled_D, hv_i_DarkFactor_COPY_INP_TMP.TupleSelect(
                    hv_idxReg), 0);
                ho_ImageSub_D.Dispose();
                HOperatorSet.SubImage(ho_i_MeanImage, ho_ImageScaled_D, out ho_ImageSub_D,
                    1.0, 0);
                ho__sub_dark_thresh_image.Dispose();
                HOperatorSet.ConvertImageType(ho_ImageSub_D, out ho__sub_dark_thresh_image,
                    "byte");
                //亮图像生成：均值+方差系数*方差
                ho_ImageScaled_L.Dispose();
                HOperatorSet.ScaleImage(ho__NewStd, out ho_ImageScaled_L, hv_i_LightFactor_COPY_INP_TMP.TupleSelect(
                    hv_idxReg), 0);
                ho_ImageSub_L.Dispose();
                HOperatorSet.AddImage(ho_i_MeanImage, ho_ImageScaled_L, out ho_ImageSub_L,
                    1.0, 0);
                ho__sub_light_thresh_image.Dispose();
                HOperatorSet.ConvertImageType(ho_ImageSub_L, out ho__sub_light_thresh_image,
                    "byte");
                //截取当前检测区域的部分填充到结果图像中
                ho_dark_image_reduce.Dispose();
                HOperatorSet.ReduceDomain(ho__sub_dark_thresh_image, ho_curReg, out ho_dark_image_reduce
                    );
                {
                    HObject ExpTmpOutVar_0;
                    HOperatorSet.PaintGray(ho_dark_image_reduce, ho__ImgDark, out ExpTmpOutVar_0
                        );
                    ho__ImgDark.Dispose();
                    ho__ImgDark = ExpTmpOutVar_0;
                }
                ho_light_image_reduce.Dispose();
                HOperatorSet.ReduceDomain(ho__sub_light_thresh_image, ho_curReg, out ho_light_image_reduce
                    );
                {
                    HObject ExpTmpOutVar_0;
                    HOperatorSet.PaintGray(ho_light_image_reduce, ho__ImgLight, out ExpTmpOutVar_0
                        );
                    ho__ImgLight.Dispose();
                    ho__ImgLight = ExpTmpOutVar_0;
                }
            }

            {
                HObject ExpTmpOutVar_0;
                HOperatorSet.ConcatObj(ho_o_LightImage, ho__ImgLight, out ExpTmpOutVar_0);
                ho_o_LightImage.Dispose();
                ho_o_LightImage = ExpTmpOutVar_0;
            }
            {
                HObject ExpTmpOutVar_0;
                HOperatorSet.ConcatObj(ho_o_DarkImage, ho__ImgDark, out ExpTmpOutVar_0);
                ho_o_DarkImage.Dispose();
                ho_o_DarkImage = ExpTmpOutVar_0;
            }

            hv_o_ErrCode = 0;
            hv_o_ErrStr = "golden images created";

            ho_RegionDifference.Dispose();
            ho_usualReg.Dispose();
            ho_AllRegs.Dispose();
            ho_EdgeAmplitude.Dispose();
            ho__ImgDark.Dispose();
            ho__ImgLight.Dispose();
            ho_curReg.Dispose();
            ho_ImageScaled.Dispose();
            ho__NewStd.Dispose();
            ho_ImageScaled_D.Dispose();
            ho_ImageSub_D.Dispose();
            ho__sub_dark_thresh_image.Dispose();
            ho_ImageScaled_L.Dispose();
            ho_ImageSub_L.Dispose();
            ho__sub_light_thresh_image.Dispose();
            ho_dark_image_reduce.Dispose();
            ho_light_image_reduce.Dispose();

            return;
        }

        public static void HTV_GlodenModel_Threshold(HObject ho_i_Image, HObject ho_i_ImageLight,
    HObject ho_i_ImageDark, out HObject ho_o_SegImage, HTuple hv_i_GrayContrast,
    HTuple hv_i_ClosingSize, out HTuple hv_o_ErrCode, out HTuple hv_o_ErrStr)
        {




            // Stack for temporary objects 
            HObject[] OTemp = new HObject[20];

            // Local iconic variables 

            HObject ho__darkRegion, ho__lightRegion;

            // Local control variables 

            HTuple hv_imgNum = null, hv_lightNum = null;
            HTuple hv_darkNum = null;
            // Initialize local and output iconic variables 
            HOperatorSet.GenEmptyObj(out ho_o_SegImage);
            HOperatorSet.GenEmptyObj(out ho__darkRegion);
            HOperatorSet.GenEmptyObj(out ho__lightRegion);
            //**********    基于黄金模板图像进行动态阈值分割
            //i_Image: 待处理图像，要求时reduce_domain之后的目标区域图像
            //i_ImageLight: 亮图像，黄金模板比对阈值分割的阈值上限图像
            //i_ImageDark: 暗图像，黄金模板比对阈值分割的阈值下限图像
            //i_RejectRegs: 拒绝区域，即免检区域，一般在检测区域内部容易造成干扰的区域或不感兴趣的区域
            //o_SegImage: 阈值分割后的目标区域图像，常用于接下来的BLOB分析
            //i_GrayContrast: 灰度对比度，即超过阈值多大的范围视为感兴趣的目标
            //i_ClosingSize: 闭运算尺寸，对图像分割的原始结果进行形态学处理，消除内部的干扰成分
            //o_ErrCode: 错误码，代表该算子执行过程中产生的错误，0-代表正常执行，自然数-代表错误类型，-1-代表异常，-2-代表未执行
            //o_ErrStr: 错误信息，对各种错误的具体描述

            //初始化
            ho_o_SegImage.Dispose();
            HOperatorSet.GenEmptyObj(out ho_o_SegImage);
            hv_o_ErrCode = -2;
            hv_o_ErrStr = "initializing";

            //输入合法性分析
            //输入图像
            HOperatorSet.CountObj(ho_i_Image, out hv_imgNum);
            if ((int)(new HTuple(hv_imgNum.TupleEqual(0))) != 0)
            {
                hv_o_ErrCode = -1;
                hv_o_ErrStr = "input image is null";
                ho__darkRegion.Dispose();
                ho__lightRegion.Dispose();

                return;
            }
            //亮图像
            HOperatorSet.CountObj(ho_i_ImageLight, out hv_lightNum);
            if ((int)(new HTuple(hv_lightNum.TupleEqual(0))) != 0)
            {
                hv_o_ErrCode = -1;
                hv_o_ErrStr = "Light image is null";
                ho__darkRegion.Dispose();
                ho__lightRegion.Dispose();

                return;
            }
            //暗图像
            HOperatorSet.CountObj(ho_i_ImageDark, out hv_darkNum);
            if ((int)(new HTuple(hv_darkNum.TupleEqual(0))) != 0)
            {
                hv_o_ErrCode = -1;
                hv_o_ErrStr = "dark image is null";
                ho__darkRegion.Dispose();
                ho__lightRegion.Dispose();

                return;
            }
            //其他参数
            if ((int)((new HTuple((new HTuple(hv_i_GrayContrast.TupleLength())).TupleEqual(
                0))).TupleOr(new HTuple(hv_i_GrayContrast.TupleLess(0)))) != 0)
            {
                hv_o_ErrCode = -1;
                hv_o_ErrStr = "i_GrayContrast must be greater than 0";
                ho__darkRegion.Dispose();
                ho__lightRegion.Dispose();

                return;
            }
            if ((int)((new HTuple((new HTuple(hv_i_ClosingSize.TupleLength())).TupleEqual(
                0))).TupleOr(new HTuple(hv_i_ClosingSize.TupleLess(0)))) != 0)
            {
                hv_o_ErrCode = -1;
                hv_o_ErrStr = "i_ClosingSize must be greater than 0";
                ho__darkRegion.Dispose();
                ho__lightRegion.Dispose();

                return;
            }

            //算法主体
            //逐像素进行比较，保留亮暗图像限定的图像区域
            ho__darkRegion.Dispose();
            HOperatorSet.DynThreshold(ho_i_Image, ho_i_ImageDark, out ho__darkRegion, hv_i_GrayContrast[0],
                "dark");
            ho__lightRegion.Dispose();
            HOperatorSet.DynThreshold(ho_i_Image, ho_i_ImageLight, out ho__lightRegion, hv_i_GrayContrast[1],
                "light");
            ho_o_SegImage.Dispose();
            HOperatorSet.Union2(ho__darkRegion, ho__lightRegion, out ho_o_SegImage);
            //形态学处理：闭运算
            {
                HObject ExpTmpOutVar_0;
                HOperatorSet.ClosingCircle(ho_o_SegImage, out ExpTmpOutVar_0, hv_i_ClosingSize.TupleMin()
                    );
                ho_o_SegImage.Dispose();
                ho_o_SegImage = ExpTmpOutVar_0;
            }

            hv_o_ErrCode = 0;
            hv_o_ErrStr = "Golden Model threshold successful";

            ho__darkRegion.Dispose();
            ho__lightRegion.Dispose();

            return;
        }

        public static void HTV_gen_image_type_recipe(HObject ho_i_Image, out HObject ho_o_Image,
    HTuple hv_i_Type)
        {




            // Local iconic variables 

            HObject ho_ImageCleared;
            // Initialize local and output iconic variables 
            HOperatorSet.GenEmptyObj(out ho_o_Image);
            HOperatorSet.GenEmptyObj(out ho_ImageCleared);
            //******  根据输入图像,生成指定数值类型的对应0值图像
            //******  参数说明:
            //******      i_Image: 输入图像
            //******      o_Image: 输出0值图像
            //******      i_Type: 输出图像数值类型

            ho_ImageCleared.Dispose();
            HOperatorSet.GenImageProto(ho_i_Image, out ho_ImageCleared, 0);
            ho_o_Image.Dispose();
            HOperatorSet.ConvertImageType(ho_ImageCleared, out ho_o_Image, hv_i_Type);
            ho_ImageCleared.Dispose();

            return;
        }

        #endregion




        #region 測量模板  检测验证
        public static void HTV_Create_Metrology_Model(HTuple hv_i_MetrologyType, HTuple hv_i_MeasureContrast,
            HTuple hv_i_MeasureExpand, HTuple hv_i_MetrologyWideth, HTuple hv_i_MetrologyTransition,
            HTuple hv_i_MetrologyPara, out HTuple hv_o_MetrologyHandle, out HTuple hv_o_ErrCode,
            out HTuple hv_o_ErrStr)
        {



            // Local iconic variables 

            // Local control variables 

            HTuple hv__MeasureToolNum = null, hv_Greater = null;
            HTuple hv_Less = null, hv_sum1 = null, hv_sum2 = null;
            HTuple hv_paraIdx = null, hv_parasNum = null, hv_toolIdx = null;
            HTuple hv_Index = new HTuple();
            // Initialize local and output iconic variables 
            //*********     创建测量模板工具，返回测量句柄
            // i_MetrologyType: 测量工具类型，允许对同一句柄添加多个测量工具，并分别指定类型，支持4类测量工具————1-直线工具，2-矩形工具，3-圆工具，4-椭圆工具
            // i_MetrologyPara: 创建测量工具需要的参数，每一个测量工具对应一组参数，所有测量工具的参数均包含在该输入变量中
            // i_MeasureExpand: 在测量工具附近延伸多大范围进行测量，为一个距离值
            // i_MeasureContrast: 测量边界处的对比度，大于该值时才能测量出边界位置。
            // o_MetrologyHandle: 测量模板句柄，返回值为整数，创建模板成功时为整数，初始为-1。
            // o_ErrCode: 错误码，代表该算子执行过程中产生的错误，0-代表正常执行，自然数-代表错误类型，-1-代表异常，-2-代表未执行
            // o_ErrStr: 错误信息，对各种错误的具体描述

            //初始化
            hv_o_ErrCode = -2;
            hv_o_ErrStr = "Initializing!";
            hv_o_MetrologyHandle = -1;

            //输入合法性验证
            hv__MeasureToolNum = new HTuple(hv_i_MetrologyType.TupleLength());
            if ((int)(new HTuple(hv__MeasureToolNum.TupleLess(1))) != 0)
            {
                hv_o_ErrCode = -1;
                hv_o_ErrStr = "no measure tools input!";

                return;
            }
            //测量工具类型不属于支持的4类，异常退出
            HOperatorSet.TupleGreaterElem(hv_i_MetrologyType, 4, out hv_Greater);
            HOperatorSet.TupleLessElem(hv_i_MetrologyType, 1, out hv_Less);
            hv_sum1 = ((hv_Greater.TupleSum())).TupleAbs();
            hv_sum2 = ((hv_Less.TupleSum())).TupleAbs();
            if ((int)((new HTuple(hv_sum1.TupleGreater(0))).TupleOr(new HTuple(hv_sum2.TupleGreater(
                0)))) != 0)
            {
                hv_o_ErrCode = -1;
                hv_o_ErrStr = "measure tools unsupport!";

                return;
            }

            //创建测量模板
            HOperatorSet.CreateMetrologyModel(out hv_o_MetrologyHandle);
            //添加测量工具
            hv_paraIdx = 0;
            hv_parasNum = new HTuple(hv_i_MetrologyPara.TupleLength());
            HTuple end_val37 = hv__MeasureToolNum - 1;
            HTuple step_val37 = 1;
            for (hv_toolIdx = 0; hv_toolIdx.Continue(end_val37, step_val37); hv_toolIdx = hv_toolIdx.TupleAdd(step_val37))
            {
                switch ((hv_i_MetrologyType.TupleSelect(
                    hv_toolIdx)).I)
                {
                    case 1:
                        //添加直线测量工具，需要4个参数，分别为端点1横坐标和纵坐标，端点2横坐标和纵坐标
                        if ((int)(new HTuple(((hv_paraIdx + 4)).TupleGreater(hv_parasNum))) != 0)
                        {
                            hv_o_ErrCode = -1;
                            hv_o_ErrStr = "paras not enough!";

                            return;
                        }
                        HOperatorSet.AddMetrologyObjectLineMeasure(hv_o_MetrologyHandle, hv_i_MetrologyPara.TupleSelect(
                            hv_paraIdx), hv_i_MetrologyPara.TupleSelect(hv_paraIdx + 1), hv_i_MetrologyPara.TupleSelect(
                            hv_paraIdx + 2), hv_i_MetrologyPara.TupleSelect(hv_paraIdx + 3), hv_i_MeasureExpand.TupleSelect(
                            hv_toolIdx), hv_i_MetrologyWideth.TupleSelect(hv_toolIdx), 1, hv_i_MeasureContrast.TupleSelect(
                            hv_toolIdx), ((new HTuple("measure_transition")).TupleConcat("measure_distance")).TupleConcat(
                            "min_score"), ((((hv_i_MetrologyTransition.TupleSelect(hv_toolIdx))).TupleConcat(
                            hv_i_MetrologyWideth.TupleSelect(hv_toolIdx)))).TupleConcat(0.5), out hv_Index);
                        hv_paraIdx = hv_paraIdx + 4;
                        break;
                    case 2:
                        //添加矩形测量工具，需要5个参数，分别为矩形中心点横坐标、纵坐标、半长、半宽、长边方向
                        if ((int)(new HTuple(((hv_paraIdx + 5)).TupleGreater(hv_parasNum))) != 0)
                        {
                            hv_o_ErrCode = -1;
                            hv_o_ErrStr = "paras not enough!";

                            return;
                        }
                        HOperatorSet.AddMetrologyObjectRectangle2Measure(hv_o_MetrologyHandle, hv_i_MetrologyPara.TupleSelect(
                            hv_paraIdx), hv_i_MetrologyPara.TupleSelect(hv_paraIdx + 1), hv_i_MetrologyPara.TupleSelect(
                            hv_paraIdx + 2), hv_i_MetrologyPara.TupleSelect(hv_paraIdx + 3), hv_i_MetrologyPara.TupleSelect(
                            hv_paraIdx + 4), hv_i_MeasureExpand.TupleSelect(hv_toolIdx), hv_i_MetrologyWideth.TupleSelect(
                            hv_toolIdx), 1, hv_i_MeasureContrast.TupleSelect(hv_toolIdx), ((new HTuple("measure_transition")).TupleConcat(
                            "measure_distance")).TupleConcat("min_score"), ((((hv_i_MetrologyTransition.TupleSelect(
                            hv_toolIdx))).TupleConcat(hv_i_MetrologyWideth.TupleSelect(hv_toolIdx)))).TupleConcat(
                            0.5), out hv_Index);
                        hv_paraIdx = hv_paraIdx + 5;
                        break;
                    case 3:
                        //添加圆形测量工具，需要3个参数，分别为圆心横坐标、纵坐标、半径
                        if ((int)(new HTuple(((hv_paraIdx + 3)).TupleGreater(hv_parasNum))) != 0)
                        {
                            hv_o_ErrCode = -1;
                            hv_o_ErrStr = "paras not enough!";

                            return;
                        }
                        HOperatorSet.AddMetrologyObjectCircleMeasure(hv_o_MetrologyHandle, hv_i_MetrologyPara.TupleSelect(
                            hv_paraIdx), hv_i_MetrologyPara.TupleSelect(hv_paraIdx + 1), hv_i_MetrologyPara.TupleSelect(
                            hv_paraIdx + 2), hv_i_MeasureExpand.TupleSelect(hv_toolIdx), hv_i_MetrologyWideth.TupleSelect(
                            hv_toolIdx), 1, hv_i_MeasureContrast.TupleSelect(hv_toolIdx), ((new HTuple("measure_transition")).TupleConcat(
                            "measure_distance")).TupleConcat("min_score"), ((((hv_i_MetrologyTransition.TupleSelect(
                            hv_toolIdx))).TupleConcat(hv_i_MetrologyWideth.TupleSelect(hv_toolIdx)))).TupleConcat(
                            0.5), out hv_Index);
                        hv_paraIdx = hv_paraIdx + 3;
                        break;
                    case 4:
                        //添加椭圆测量工具，需要5个参数，分别为椭圆中心横坐标、纵坐标、半长轴长、半短轴长、长轴方向
                        if ((int)(new HTuple(((hv_paraIdx + 5)).TupleGreater(hv_parasNum))) != 0)
                        {
                            hv_o_ErrCode = -1;
                            hv_o_ErrStr = "paras not enough!";

                            return;
                        }
                        HOperatorSet.AddMetrologyObjectEllipseMeasure(hv_o_MetrologyHandle, hv_i_MetrologyPara.TupleSelect(
                            hv_paraIdx), hv_i_MetrologyPara.TupleSelect(hv_paraIdx + 1), hv_i_MetrologyPara.TupleSelect(
                            hv_paraIdx + 2), hv_i_MetrologyPara.TupleSelect(hv_paraIdx + 3), hv_i_MetrologyPara.TupleSelect(
                            hv_paraIdx + 4), hv_i_MeasureExpand.TupleSelect(hv_toolIdx), hv_i_MetrologyWideth.TupleSelect(
                            hv_toolIdx), 1, hv_i_MeasureContrast.TupleSelect(hv_toolIdx), ((new HTuple("measure_transition")).TupleConcat(
                            "measure_distance")).TupleConcat("min_score"), ((((hv_i_MetrologyTransition.TupleSelect(
                            hv_toolIdx))).TupleConcat(hv_i_MetrologyWideth.TupleSelect(hv_toolIdx)))).TupleConcat(
                            0.5), out hv_Index);
                        hv_paraIdx = hv_paraIdx + 5;
                        break;
                }
            }
            //设置模板的参考坐标系
            HOperatorSet.SetMetrologyModelParam(hv_o_MetrologyHandle, "reference_system",
                ((new HTuple(0)).TupleConcat(0)).TupleConcat(0));

            hv_o_ErrCode = 0;
            hv_o_ErrStr = "Create Metrology Handle successful!";

            return;
        }

        public static void HTV_Bond_Inspect_measure(HObject ho_i_Image, HObject ho_i_BondRegs,
    out HObject ho_o_BondContours, out HObjectVector/*{eObjectVector,Dim=1}*/ hvec_o_FailRegs,
    HTuple hv_i_MetrologyHandle, HTuple hv_i_HomMatMod2Img, HTuple hv_i_MeasureType,
    HTuple hv_i_BondOffsetFactor, out HTuple hv_o_BondParas, out HTupleVector/*{eTupleVector,Dim=1}*/ hvec_o_DefectValue,
    out HTuple hv_o_DefectType, out HTuple hv_o_ErrCode, out HTuple hv_o_ErrStr)
        {




            // Stack for temporary objects 
            HObject[] OTemp = new HObject[20];

            // Local iconic variables 

            HObject ho_EmptyFailReg, ho__BondRegs, ho__BondContours;
            HObject ho__BondReg = null, ho__BondContour = null;

            // Local control variables 

            HTuple hv__Bond1RegNum = null, hv_idx = null;
            HTuple hv_HomMatSum = null, hv__RefBondParas = null, hv__MeasureResult = null;
            HTuple hv__BondParas = null, hv__ErrBondMeasureCode = null;
            HTuple hv__ErrBondMeasureStr = null, hv__RefBondRow = new HTuple();
            HTuple hv__RefBondCol = new HTuple(), hv_RefBondRadius = new HTuple();
            HTuple hv_RefBondRow = new HTuple(), hv_RefBondCol = new HTuple();
            HTuple hv_BondRow = new HTuple(), hv_BondCol = new HTuple();
            HTuple hv_BondRadius = new HTuple(), hv__DiffRow = new HTuple();
            HTuple hv__DiffCol = new HTuple(), hv_Sum = null;
            // Initialize local and output iconic variables 
            HOperatorSet.GenEmptyObj(out ho_o_BondContours);
            HOperatorSet.GenEmptyObj(out ho_EmptyFailReg);
            HOperatorSet.GenEmptyObj(out ho__BondRegs);
            HOperatorSet.GenEmptyObj(out ho__BondContours);
            HOperatorSet.GenEmptyObj(out ho__BondReg);
            HOperatorSet.GenEmptyObj(out ho__BondContour);
            hvec_o_FailRegs = new HObjectVector(1);
            hv_o_BondParas = new HTuple();
            hvec_o_DefectValue = new HTupleVector(1);
            hv_o_DefectType = new HTuple();
            hv_o_ErrCode = new HTuple();
            hv_o_ErrStr = new HTuple();
            //****使用阈值分割的方法进行Bond1检测：1.先判断Bond1是否存在，2.再阈值分割判定Bond1的检测结果
            //----------图标参数
            //i_Image：输入图像
            //i_BondRegs：焊点检测区域（焊盘区域）
            //o_BondContours：检测到的Bond轮廓
            //o_FailRegs：未检测到Bond的缺陷区域
            //-----------控制参数
            //i_MetrologyHandle: 测量模板句柄
            //i_HomMatMod2Img: 测量区域的映射矩阵
            //i_MeasureType: 测量工具类型，允许对同一句柄添加多个测量工具，并分别指定类型，支持4类测量工具————1-直线工具，2-矩形工具，3-圆工具，4-椭圆工具
            //i_RefBondParas：测量结果判断参考
            //i_BondOffsetFactor: 焊点偏出参考点比例阈值
            //o_BondParas：检测到的Bond位置及半径信息
            //o_DefectValue：输出的实际检测得到的检测值
            //o_DefectType：输出的检测得到缺陷类型
            //o_ErrCode: 错误码，代表该算子执行过程中产生的错误，0-代表正常执行，正整数-代表错误类型(1-未检测到焊点，2-焊点太小，3-焊点太大，4-焊点偏出焊盘)，-1-代表异常，-2-代表未执行
            //o_ErrStr: 错误信息，对各种错误的具体描述
            //*****

            //初始化
            //输入有效性测试
            HOperatorSet.CountObj(ho_i_BondRegs, out hv__Bond1RegNum);
            if ((int)(new HTuple(hv__Bond1RegNum.TupleEqual(0))) != 0)
            {
                hv_o_ErrCode = -1;
                hv_o_ErrStr = "bond region is empty";
                ho_EmptyFailReg.Dispose();
                ho__BondRegs.Dispose();
                ho__BondContours.Dispose();
                ho__BondReg.Dispose();
                ho__BondContour.Dispose();

                return;
            }
            //
            ho_EmptyFailReg.Dispose();
            HOperatorSet.GenEmptyObj(out ho_EmptyFailReg);
            HTuple end_val29 = hv__Bond1RegNum - 1;
            HTuple step_val29 = 1;
            for (hv_idx = 0; hv_idx.Continue(end_val29, step_val29); hv_idx = hv_idx.TupleAdd(step_val29))
            {
                if (hv_o_DefectType == null)
                    hv_o_DefectType = new HTuple();
                hv_o_DefectType[hv_idx] = -2;
                hvec_o_DefectValue[hv_idx] = new HTupleVector(((new HTuple(-2)).TupleConcat(
                    -2)).TupleConcat(-2));
                hvec_o_FailRegs[hv_idx] = new HObjectVector(ho_EmptyFailReg);
            }
            //
            ho_o_BondContours.Dispose();
            ho_o_BondContours = ho_EmptyFailReg.CopyObj(1, -1);
            hv_o_BondParas = new HTuple();
            hv_o_ErrCode = -2;
            hv_o_ErrStr = "Initializing";

            //传入映射矩阵有效性测试
            HOperatorSet.TupleSum(hv_i_HomMatMod2Img, out hv_HomMatSum);
            if ((int)(new HTuple(hv_HomMatSum.TupleEqual(-12))) != 0)
            {
                hv_o_ErrCode = 1;
                hv_o_ErrStr = "mapping matrix is invalid!";
                ho_EmptyFailReg.Dispose();
                ho__BondRegs.Dispose();
                ho__BondContours.Dispose();
                ho__BondReg.Dispose();
                ho__BondContour.Dispose();

                return;
            }

            //检测区域映射
            ho__BondRegs.Dispose();
            HOperatorSet.AffineTransRegion(ho_i_BondRegs, out ho__BondRegs, hv_i_HomMatMod2Img,
                "nearest_neighbor");
            //Bond参考信息获取
            HOperatorSet.GetMetrologyObjectParam(hv_i_MetrologyHandle, "all", ((new HTuple("row")).TupleConcat(
                "column")).TupleConcat("radius"), out hv__RefBondParas);

            //------应用测量工具方式进行Bond1检测
            ho__BondContours.Dispose();
            HTV_Bond_Measure(ho_i_Image, ho_i_BondRegs, out ho__BondContours, hv_i_MetrologyHandle,
                hv_i_HomMatMod2Img, hv_i_MeasureType, out hv__MeasureResult, out hv__BondParas,
                out hv__ErrBondMeasureCode, out hv__ErrBondMeasureStr);
            if ((int)(new HTuple(hv__ErrBondMeasureCode.TupleLess(0))) != 0)
            {
                hv_o_ErrCode = -1;
                hv_o_ErrStr = hv__ErrBondMeasureStr.Clone();
                ho_EmptyFailReg.Dispose();
                ho__BondRegs.Dispose();
                ho__BondContours.Dispose();
                ho__BondReg.Dispose();
                ho__BondContour.Dispose();

                return;
            }

            HTuple end_val61 = hv__Bond1RegNum - 1;
            HTuple step_val61 = 1;
            for (hv_idx = 0; hv_idx.Continue(end_val61, step_val61); hv_idx = hv_idx.TupleAdd(step_val61))
            {
                ho__BondReg.Dispose();
                HOperatorSet.SelectObj(ho__BondRegs, out ho__BondReg, hv_idx + 1);
                ho__BondContour.Dispose();
                HOperatorSet.SelectObj(ho__BondContours, out ho__BondContour, hv_idx + 1);
                if ((int)(new HTuple(((hv__MeasureResult.TupleSelect(hv_idx))).TupleGreater(
                    0))) != 0)
                {
                    if (hv_o_DefectType == null)
                        hv_o_DefectType = new HTuple();
                    hv_o_DefectType[hv_idx] = 22;
                    hvec_o_DefectValue[hv_idx] = new HTupleVector(((new HTuple(-1)).TupleConcat(
                        -1)).TupleConcat(-1));
                    hvec_o_FailRegs[hv_idx] = new HObjectVector(ho__BondContour);
                }
                else if ((int)(new HTuple(((hv__MeasureResult.TupleSelect(hv_idx))).TupleEqual(
                    0))) != 0)
                {
                    //Bond参考位置及半径
                    hv__RefBondRow = hv__RefBondParas.TupleSelect((hv_idx * 3) + 0);
                    hv__RefBondCol = hv__RefBondParas.TupleSelect((hv_idx * 3) + 1);
                    hv_RefBondRadius = hv__RefBondParas.TupleSelect((hv_idx * 3) + 2);
                    //Bond参考区域映射
                    HOperatorSet.AffineTransPoint2d(hv_i_HomMatMod2Img, hv__RefBondRow, hv__RefBondCol,
                        out hv_RefBondRow, out hv_RefBondCol);
                    //Bond实际测量
                    hv_BondRow = hv__BondParas.TupleSelect((hv_idx * 3) + 0);
                    hv_BondCol = hv__BondParas.TupleSelect((hv_idx * 3) + 1);
                    hv_BondRadius = hv__BondParas.TupleSelect((hv_idx * 3) + 2);
                    //焊点位置偏移
                    hv__DiffRow = ((hv_RefBondRow - hv_BondRow)).TupleAbs();
                    hv__DiffCol = ((hv_RefBondCol - hv_BondCol)).TupleAbs();
                    if ((int)(new HTuple(hv_BondRadius.TupleGreater(hv_RefBondRadius * 1.5))) != 0)
                    {
                        //焊点过大
                        if (hv_o_DefectType == null)
                            hv_o_DefectType = new HTuple();
                        hv_o_DefectType[hv_idx] = 10;
                        hvec_o_DefectValue[hv_idx] = new HTupleVector(((new HTuple(-1)).TupleConcat(
                            -1)).TupleConcat(-1));
                        hvec_o_FailRegs[hv_idx] = new HObjectVector(ho__BondReg);
                        //输出位置、焊点轮廓
                        hv_o_BondParas = hv_o_BondParas.TupleConcat(((new HTuple(-1)).TupleConcat(
                            -1)).TupleConcat(-1));
                        {
                            HObject ExpTmpOutVar_0;
                            HOperatorSet.ConcatObj(ho_o_BondContours, ho_EmptyFailReg, out ExpTmpOutVar_0
                                );
                            ho_o_BondContours.Dispose();
                            ho_o_BondContours = ExpTmpOutVar_0;
                        }
                    }
                    else if ((int)(new HTuple(hv_BondRadius.TupleLess(hv_RefBondRadius * 0.5))) != 0)
                    {
                        //焊点过小
                        if (hv_o_DefectType == null)
                            hv_o_DefectType = new HTuple();
                        hv_o_DefectType[hv_idx] = 10;
                        hvec_o_DefectValue[hv_idx] = new HTupleVector(((new HTuple(-1)).TupleConcat(
                            -1)).TupleConcat(-1));
                        hvec_o_FailRegs[hv_idx] = new HObjectVector(ho__BondReg);
                        hv_o_BondParas = hv_o_BondParas.TupleConcat(((new HTuple(-1)).TupleConcat(
                            -1)).TupleConcat(-1));
                        //输出位置、焊点轮廓
                        {
                            HObject ExpTmpOutVar_0;
                            HOperatorSet.ConcatObj(ho_o_BondContours, ho_EmptyFailReg, out ExpTmpOutVar_0
                                );
                            ho_o_BondContours.Dispose();
                            ho_o_BondContours = ExpTmpOutVar_0;
                        }
                    }
                    else if ((int)((new HTuple(((hv__DiffRow / hv_RefBondRadius)).TupleGreater(
                        hv_i_BondOffsetFactor))).TupleOr(new HTuple(((hv__DiffCol / hv_RefBondRadius)).TupleGreater(
                        hv_i_BondOffsetFactor)))) != 0)
                    {
                        //焊点偏移
                        if (hv_o_DefectType == null)
                            hv_o_DefectType = new HTuple();
                        hv_o_DefectType[hv_idx] = 11;
                        hvec_o_DefectValue[hv_idx] = new HTupleVector(((new HTuple(-1)).TupleConcat(
                            -1)).TupleConcat(-1));
                        hvec_o_FailRegs[hv_idx] = new HObjectVector(ho__BondReg);
                        //输出位置、焊点轮廓
                        hv_o_BondParas = hv_o_BondParas.TupleConcat(((new HTuple(-1)).TupleConcat(
                            -1)).TupleConcat(-1));
                        {
                            HObject ExpTmpOutVar_0;
                            HOperatorSet.ConcatObj(ho_o_BondContours, ho_EmptyFailReg, out ExpTmpOutVar_0
                                );
                            ho_o_BondContours.Dispose();
                            ho_o_BondContours = ExpTmpOutVar_0;
                        }
                    }
                    else
                    {
                        //焊点正常
                        if (hv_o_DefectType == null)
                            hv_o_DefectType = new HTuple();
                        hv_o_DefectType[hv_idx] = 0;
                        hvec_o_DefectValue[hv_idx] = new HTupleVector(((hv_BondRow.TupleConcat(
                            hv_BondCol))).TupleConcat(hv_BondRadius));
                        hvec_o_FailRegs[hv_idx] = new HObjectVector(ho_EmptyFailReg);
                        //输出位置、焊点轮廓
                        hv_o_BondParas = hv_o_BondParas.TupleConcat(((hv_BondRow.TupleConcat(hv_BondCol))).TupleConcat(
                            hv_BondRadius));
                        {
                            HObject ExpTmpOutVar_0;
                            HOperatorSet.ConcatObj(ho_o_BondContours, ho__BondContour, out ExpTmpOutVar_0
                                );
                            ho_o_BondContours.Dispose();
                            ho_o_BondContours = ExpTmpOutVar_0;
                        }
                    }
                }
            }

            //输出结果
            HOperatorSet.TupleSum(hv_o_DefectType, out hv_Sum);
            if ((int)(new HTuple(hv_Sum.TupleNotEqual(0))) != 0)
            {
                hv_o_ErrCode = 1;
                hv_o_ErrStr = "Fail to one or more Bond";
                ho_EmptyFailReg.Dispose();
                ho__BondRegs.Dispose();
                ho__BondContours.Dispose();
                ho__BondReg.Dispose();
                ho__BondContour.Dispose();

                return;
            }
            else
            {
                hv_o_ErrCode = 0;
                hv_o_ErrStr = "Bond Location is successful";
                ho_EmptyFailReg.Dispose();
                ho__BondRegs.Dispose();
                ho__BondContours.Dispose();
                ho__BondReg.Dispose();
                ho__BondContour.Dispose();

                return;
            }

        }

        public static void HTV_Bond_Measure(HObject ho_i_Image, HObject ho_i_BondRegs, out HObject ho_o_BondContours,
    HTuple hv_i_MetrologyHandle, HTuple hv_i_HomMatMod2Img, HTuple hv_i_MeasureType,
    out HTuple hv_o_MeasureResult, out HTuple hv_o_BondParas, out HTuple hv_o_ErrCode,
    out HTuple hv_o_ErrStr)
        {




            // Local iconic variables 

            // Local control variables 

            HTuple hv__ErrMeasureCode = null, hv__ErrMeasureStr = null;
            // Initialize local and output iconic variables 
            HOperatorSet.GenEmptyObj(out ho_o_BondContours);
            //***********   基于应用测量测方法定位焊点
            // i_Image：待处理图像
            // i_BondRegs：焊点检测区域（焊盘区域）
            // o_BondContours：检测到的焊点轮廓
            // i_MetrologyHandle: 测量模板句柄
            // i_HomMatMod2Img: 测量区域的映射矩阵
            // i_MeasureType: 测量工具类型，允许对同一句柄添加多个测量工具，并分别指定类型，支持4类测量工具————1-直线工具，2-矩形工具，3-圆工具，4-椭圆工具
            // o_MeasureResult：应用测量测量的结果
            // o_BondParas: 测量结果，每一个测量工具对应一组结果参数，所有测量工具的参数均包含在该变量中
            // o_ErrCode: 错误码，代表该算子执行过程中产生的错误，0-代表正常执行，正整数-代表错误类型，-1-代表异常，-2-代表未执行
            // o_ErrStr: 错误信息，对各种错误的具体描述
            //************************************************

            //初始化
            ho_o_BondContours.Dispose();
            HOperatorSet.GenEmptyObj(out ho_o_BondContours);
            hv_o_MeasureResult = new HTuple();
            hv_o_BondParas = new HTuple();
            hv_o_ErrCode = -2;
            hv_o_ErrStr = "initializing";

            //应用测量

            ho_o_BondContours.Dispose();
            HTV_Apply_Measurement(ho_i_Image, ho_i_BondRegs, out ho_o_BondContours, hv_i_MetrologyHandle,
                hv_i_HomMatMod2Img, hv_i_MeasureType, out hv_o_MeasureResult, out hv_o_BondParas,
                out hv__ErrMeasureCode, out hv__ErrMeasureStr);

            //对测量结果进行判断
            if ((int)(new HTuple(hv__ErrMeasureCode.TupleGreater(0))) != 0)
            {
                hv_o_ErrCode = 1;
                hv_o_ErrStr = "Fail to measure one bondreg" + hv__ErrMeasureStr;

                return;
            }
            else if ((int)(new HTuple(hv__ErrMeasureCode.TupleEqual(0))) != 0)
            {
                hv_o_ErrCode = 0;
                hv_o_ErrStr = "Success to measure bondreg" + hv__ErrMeasureStr;

                return;
            }
            else
            {
                hv_o_ErrCode = -1;
                hv_o_ErrStr = "Fail to apply measurement" + hv__ErrMeasureStr;

                return;
            }

        }

        public static void HTV_Apply_Measurement(HObject ho_i_Image, HObject ho_i_InspectRegs,
    out HObject ho_o_MeasureContours, HTuple hv_i_MetrologyHandle, HTuple hv_i_HomMatMod2Img,
    HTuple hv_i_MeasureType, out HTuple hv_o_MeasureFlag, out HTuple hv_o_MeasureParas,
    out HTuple hv_o_ErrCode, out HTuple hv_o_ErrStr)
        {




            // Stack for temporary objects 
            HObject[] OTemp = new HObject[20];

            // Local iconic variables 

            HObject ho__InspectRegs, ho__InspectReg = null;
            HObject ho_inspectImage = null, ho_Contour = null;

            // Local control variables 

            HTuple hv_imgNum = null, hv_regNum = null;
            HTuple hv_Greater = null, hv_Less = null, hv_sum1 = null;
            HTuple hv_sum2 = null, hv_MetrologyHandle = null, hv_Sx = null;
            HTuple hv_Sy = null, hv_PhiAffine = null, hv_Theta = null;
            HTuple hv_TxAffine = null, hv_TyAffine = null, hv_Indices = null;
            HTuple hv_toolNum = null, hv_idx = null, hv_Parameter = new HTuple();
            HTuple hv_Index = null;
            // Initialize local and output iconic variables 
            HOperatorSet.GenEmptyObj(out ho_o_MeasureContours);
            HOperatorSet.GenEmptyObj(out ho__InspectRegs);
            HOperatorSet.GenEmptyObj(out ho__InspectReg);
            HOperatorSet.GenEmptyObj(out ho_inspectImage);
            HOperatorSet.GenEmptyObj(out ho_Contour);
            //***********   运用测量模板检测区域内的目标
            // i_Image: 待处理图像
            // i_InspectRegs: 测量所在区域
            // o_MeasureContours：测量结果显示
            // i_MetrologyHandle: 测量模板句柄
            // i_HomMatMod2Img: 测量区域的映射矩阵
            // i_MeasureType: 测量工具类型，允许对同一句柄添加多个测量工具，并分别指定类型，支持4类测量工具————1-直线工具，2-矩形工具，3-圆工具，4-椭圆工具
            // o_MeasureFlag：测量结果标志
            // o_MeasureParas: 测量结果，每一个测量工具对应一组结果参数，所有测量工具的参数均包含在该变量中
            // o_ErrCode: 错误码，代表该算子执行过程中产生的错误，0-代表正常执行，自然数-代表错误类型，-1-代表异常，-2-代表未执行
            // o_ErrStr: 错误信息，对各种错误的具体描述

            //初始化
            hv_o_ErrCode = -2;
            hv_o_ErrStr = "initializing";
            hv_o_MeasureParas = new HTuple();
            ho_o_MeasureContours.Dispose();
            HOperatorSet.GenEmptyObj(out ho_o_MeasureContours);
            //测量结果Flag
            hv_o_MeasureFlag = new HTuple();
            //输入有效性测试
            HOperatorSet.CountObj(ho_i_Image, out hv_imgNum);
            if ((int)(new HTuple(hv_imgNum.TupleEqual(0))) != 0)
            {
                hv_o_ErrCode = -1;
                hv_o_ErrStr = "input image is null";
                ho__InspectRegs.Dispose();
                ho__InspectReg.Dispose();
                ho_inspectImage.Dispose();
                ho_Contour.Dispose();

                return;
            }
            HOperatorSet.CountObj(ho_i_InspectRegs, out hv_regNum);
            if ((int)(new HTuple(hv_regNum.TupleLess(1))) != 0)
            {
                hv_o_ErrCode = -1;
                hv_o_ErrStr = "inspect region is empty";
                ho__InspectRegs.Dispose();
                ho__InspectReg.Dispose();
                ho_inspectImage.Dispose();
                ho_Contour.Dispose();

                return;
            }
            if ((int)((new HTuple((new HTuple(hv_i_MetrologyHandle.TupleLength())).TupleEqual(
                0))).TupleOr(new HTuple(hv_i_MetrologyHandle.TupleLess(0)))) != 0)
            {
                hv_o_ErrCode = -1;
                hv_o_ErrStr = "para i_MetrologyHandle is illegal";
                ho__InspectRegs.Dispose();
                ho__InspectReg.Dispose();
                ho_inspectImage.Dispose();
                ho_Contour.Dispose();

                return;
            }
            if ((int)(new HTuple((new HTuple(hv_i_HomMatMod2Img.TupleLength())).TupleLess(
                6))) != 0)
            {
                hv_o_ErrCode = -1;
                hv_o_ErrStr = "para i_HomMatMod2Img is illegal";
                ho__InspectRegs.Dispose();
                ho__InspectReg.Dispose();
                ho_inspectImage.Dispose();
                ho_Contour.Dispose();

                return;
            }

            //测量工具类型不属于支持的4类，异常退出
            HOperatorSet.TupleGreaterElem(hv_i_MeasureType, 4, out hv_Greater);
            HOperatorSet.TupleLessElem(hv_i_MeasureType, 1, out hv_Less);
            hv_sum1 = hv_Greater.TupleSum();
            hv_sum2 = hv_Less.TupleSum();
            if ((int)((new HTuple(hv_sum1.TupleGreater(0))).TupleOr(new HTuple(hv_sum2.TupleGreater(
                0)))) != 0)
            {
                hv_o_ErrCode = -1;
                hv_o_ErrStr = "measure tools unsupport!";
                ho__InspectRegs.Dispose();
                ho__InspectReg.Dispose();
                ho_inspectImage.Dispose();
                ho_Contour.Dispose();

                return;
            }

            //复制测量模板，并映射到当前图像中
            HOperatorSet.CopyMetrologyModel(hv_i_MetrologyHandle, "all", out hv_MetrologyHandle);
            //测量模板映射
            HOperatorSet.HomMat2dToAffinePar(hv_i_HomMatMod2Img, out hv_Sx, out hv_Sy, out hv_PhiAffine,
                out hv_Theta, out hv_TxAffine, out hv_TyAffine);
            HOperatorSet.AlignMetrologyModel(hv_MetrologyHandle, hv_TxAffine, hv_TyAffine,
                hv_PhiAffine);
            //获取测量工具索引
            HOperatorSet.GetMetrologyObjectIndices(hv_MetrologyHandle, out hv_Indices);
            //映检测区域到当前图像中
            ho__InspectRegs.Dispose();
            HOperatorSet.AffineTransRegion(ho_i_InspectRegs, out ho__InspectRegs, hv_i_HomMatMod2Img,
                "nearest_neighbor");

            //根据测量工具索引及类型，获取测量结果
            hv_toolNum = new HTuple(hv_Indices.TupleLength());
            HTuple end_val66 = hv_toolNum - 1;
            HTuple step_val66 = 1;
            for (hv_idx = 0; hv_idx.Continue(end_val66, step_val66); hv_idx = hv_idx.TupleAdd(step_val66))
            {
                ho__InspectReg.Dispose();
                HOperatorSet.SelectObj(ho__InspectRegs, out ho__InspectReg, hv_idx + 1);
                //应用测量工具
                ho_inspectImage.Dispose();
                HOperatorSet.ReduceDomain(ho_i_Image, ho__InspectReg, out ho_inspectImage);
                HOperatorSet.ApplyMetrologyModel(ho_inspectImage, hv_MetrologyHandle);
                HOperatorSet.GetMetrologyObjectResult(hv_MetrologyHandle, hv_Indices.TupleSelect(
                    hv_idx), "all", "result_type", "all_param", out hv_Parameter);
                switch ((hv_i_MeasureType.TupleSelect(
                    hv_idx)).I)
                {
                    case 1:
                        //直线
                        if ((int)(new HTuple((new HTuple(hv_Parameter.TupleLength())).TupleLess(4))) != 0)
                        {
                            hv_o_MeasureFlag = hv_o_MeasureFlag.TupleConcat(1);
                            hv_Parameter = new HTuple();
                            hv_Parameter[0] = -1;
                            hv_Parameter[1] = -1;
                            hv_Parameter[2] = -1;
                            hv_Parameter[3] = -1;
                            ho_Contour.Dispose();
                            ho_Contour = ho__InspectReg.CopyObj(1, -1);
                        }
                        else
                        {
                            hv_o_MeasureFlag = hv_o_MeasureFlag.TupleConcat(0);
                        }
                        hv_o_MeasureParas = hv_o_MeasureParas.TupleConcat(hv_Parameter);
                        {
                            HObject ExpTmpOutVar_0;
                            HOperatorSet.ConcatObj(ho_o_MeasureContours, ho_Contour, out ExpTmpOutVar_0
                                );
                            ho_o_MeasureContours.Dispose();
                            ho_o_MeasureContours = ExpTmpOutVar_0;
                        }
                        break;
                    case 2:
                        //矩形
                        if ((int)(new HTuple((new HTuple(hv_Parameter.TupleLength())).TupleLess(5))) != 0)
                        {
                            hv_o_MeasureFlag = hv_o_MeasureFlag.TupleConcat(1);
                            hv_Parameter = new HTuple();
                            hv_Parameter[0] = -1;
                            hv_Parameter[1] = -1;
                            hv_Parameter[2] = -1;
                            hv_Parameter[3] = -1;
                            hv_Parameter[4] = -1;
                            ho_Contour.Dispose();
                            ho_Contour = ho__InspectReg.CopyObj(1, -1);
                        }
                        else
                        {
                            hv_o_MeasureFlag = hv_o_MeasureFlag.TupleConcat(0);
                        }
                        hv_o_MeasureParas = hv_o_MeasureParas.TupleConcat(hv_Parameter);
                        {
                            HObject ExpTmpOutVar_0;
                            HOperatorSet.ConcatObj(ho_o_MeasureContours, ho_Contour, out ExpTmpOutVar_0
                                );
                            ho_o_MeasureContours.Dispose();
                            ho_o_MeasureContours = ExpTmpOutVar_0;
                        }
                        break;
                    case 3:
                        //圆
                        if ((int)(new HTuple((new HTuple(hv_Parameter.TupleLength())).TupleLess(3))) != 0)
                        {
                            hv_o_MeasureFlag = hv_o_MeasureFlag.TupleConcat(1);
                            hv_Parameter = new HTuple();
                            hv_Parameter[0] = -1;
                            hv_Parameter[1] = -1;
                            hv_Parameter[2] = -1;
                            ho_Contour.Dispose();
                            ho_Contour = ho__InspectReg.CopyObj(1, -1);
                        }
                        else
                        {
                            hv_o_MeasureFlag = hv_o_MeasureFlag.TupleConcat(0);
                            ho_Contour.Dispose();
                            HOperatorSet.GenCircle(out ho_Contour, hv_Parameter.TupleSelect(0), hv_Parameter.TupleSelect(
                                1), hv_Parameter.TupleSelect(2));
                        }
                        hv_o_MeasureParas = hv_o_MeasureParas.TupleConcat(hv_Parameter);
                        {
                            HObject ExpTmpOutVar_0;
                            HOperatorSet.ConcatObj(ho_o_MeasureContours, ho_Contour, out ExpTmpOutVar_0
                                );
                            ho_o_MeasureContours.Dispose();
                            ho_o_MeasureContours = ExpTmpOutVar_0;
                        }
                        break;
                    case 4:
                        //椭圆
                        if ((int)(new HTuple((new HTuple(hv_Parameter.TupleLength())).TupleLess(5))) != 0)
                        {
                            hv_o_MeasureFlag = hv_o_MeasureFlag.TupleConcat(1);
                            hv_Parameter = new HTuple();
                            hv_Parameter[0] = -1;
                            hv_Parameter[1] = -1;
                            hv_Parameter[2] = -1;
                            hv_Parameter[3] = -1;
                            hv_Parameter[4] = -1;
                            ho_Contour.Dispose();
                            ho_Contour = ho__InspectReg.CopyObj(1, -1);
                        }
                        else
                        {
                            hv_o_MeasureFlag = hv_o_MeasureFlag.TupleConcat(0);
                        }
                        hv_o_MeasureParas = hv_o_MeasureParas.TupleConcat(hv_Parameter);
                        {
                            HObject ExpTmpOutVar_0;
                            HOperatorSet.ConcatObj(ho_o_MeasureContours, ho_Contour, out ExpTmpOutVar_0
                                );
                            ho_o_MeasureContours.Dispose();
                            ho_o_MeasureContours = ExpTmpOutVar_0;
                        }
                        break;
                }
            }
            HOperatorSet.ClearMetrologyModel(hv_MetrologyHandle);
            //判断测量结果
            HOperatorSet.TupleFindFirst(hv_o_MeasureFlag, 1, out hv_Index);
            if ((int)(new HTuple(hv_Index.TupleGreaterEqual(0))) != 0)
            {
                hv_o_ErrCode = 1;
                hv_o_ErrStr = " failed to one inspectReg";
                ho__InspectRegs.Dispose();
                ho__InspectReg.Dispose();
                ho_inspectImage.Dispose();
                ho_Contour.Dispose();

                return;
            }
            else
            {
                hv_o_ErrCode = 0;
                hv_o_ErrStr = "measure successful";
                ho__InspectRegs.Dispose();
                ho__InspectReg.Dispose();
                ho_inspectImage.Dispose();
                ho_Contour.Dispose();

                return;
            }


        }

        public static void HTV_Bond_Inspect_measure_1(HObject ho_i_Image, HObject ho_i_BondRegs,
    out HObject ho_o_BondContours, out HObjectVector/*{eObjectVector,Dim=1}*/ hvec_o_FailRegs,
    HTuple hv_i_MetrologyHandle, HTuple hv_i_HomMatMod2Img, HTuple hv_i_MeasureType,
    HTuple hv_i_BondOffsetFactor, out HTuple hv_o_BondParas, out HTupleVector/*{eTupleVector,Dim=1}*/ hvec_o_DefectValue,
    out HTuple hv_o_DefectType, out HTuple hv_o_ErrCode, out HTuple hv_o_ErrStr)
        {




            // Stack for temporary objects 
            HObject[] OTemp = new HObject[20];

            // Local iconic variables 

            HObject ho_EmptyFailReg, ho__BondRegs, ho__BondContours;
            HObject ho__BondReg = null, ho__BondContour = null;

            // Local control variables 

            HTuple hv__Bond1RegNum = null, hv_idx = null;
            HTuple hv_HomMatSum = null, hv__RefBondParas = null, hv__MeasureResult = null;
            HTuple hv__BondParas = null, hv__ErrBondMeasureCode = null;
            HTuple hv__ErrBondMeasureStr = null, hv__RefBondRow = new HTuple();
            HTuple hv__RefBondCol = new HTuple(), hv_RefBondRadius = new HTuple();
            HTuple hv_RefBondRow = new HTuple(), hv_RefBondCol = new HTuple();
            HTuple hv_BondRow = new HTuple(), hv_BondCol = new HTuple();
            HTuple hv_BondRadius = new HTuple(), hv__DiffRow = new HTuple();
            HTuple hv__DiffCol = new HTuple(), hv_Sum = null;
            // Initialize local and output iconic variables 
            HOperatorSet.GenEmptyObj(out ho_o_BondContours);
            HOperatorSet.GenEmptyObj(out ho_EmptyFailReg);
            HOperatorSet.GenEmptyObj(out ho__BondRegs);
            HOperatorSet.GenEmptyObj(out ho__BondContours);
            HOperatorSet.GenEmptyObj(out ho__BondReg);
            HOperatorSet.GenEmptyObj(out ho__BondContour);
            hvec_o_FailRegs = new HObjectVector(1);
            hv_o_BondParas = new HTuple();
            hvec_o_DefectValue = new HTupleVector(1);
            hv_o_DefectType = new HTuple();
            hv_o_ErrCode = new HTuple();
            hv_o_ErrStr = new HTuple();
            //****使用阈值分割的方法进行Bond1检测：1.先判断Bond1是否存在，2.再阈值分割判定Bond1的检测结果
            //----------图标参数
            //i_Image：输入图像
            //i_BondRegs：焊点检测区域（焊盘区域）
            //o_BondContours：检测到的Bond轮廓
            //o_FailRegs：未检测到Bond的缺陷区域
            //-----------控制参数
            //i_MetrologyHandle: 测量模板句柄
            //i_HomMatMod2Img: 测量区域的映射矩阵
            //i_MeasureType: 测量工具类型，允许对同一句柄添加多个测量工具，并分别指定类型，支持4类测量工具————1-直线工具，2-矩形工具，3-圆工具，4-椭圆工具
            //i_RefBondParas：测量结果判断参考
            //i_BondOffsetFactor: 焊点偏出参考点比例阈值
            //o_BondParas：检测到的Bond位置及半径信息
            //o_DefectValue：输出的实际检测得到的检测值
            //o_DefectType：输出的检测得到缺陷类型
            //o_ErrCode: 错误码，代表该算子执行过程中产生的错误，0-代表正常执行，正整数-代表错误类型(1-未检测到焊点，2-焊点太小，3-焊点太大，4-焊点偏出焊盘)，-1-代表异常，-2-代表未执行
            //o_ErrStr: 错误信息，对各种错误的具体描述
            //*****

            //初始化
            //输入有效性测试
            HOperatorSet.CountObj(ho_i_BondRegs, out hv__Bond1RegNum);
            if ((int)(new HTuple(hv__Bond1RegNum.TupleEqual(0))) != 0)
            {
                hv_o_ErrCode = -1;
                hv_o_ErrStr = "bond region is empty";
                ho_EmptyFailReg.Dispose();
                ho__BondRegs.Dispose();
                ho__BondContours.Dispose();
                ho__BondReg.Dispose();
                ho__BondContour.Dispose();

                return;
            }
            //
            ho_EmptyFailReg.Dispose();
            HOperatorSet.GenEmptyObj(out ho_EmptyFailReg);
            HTuple end_val29 = hv__Bond1RegNum - 1;
            HTuple step_val29 = 1;
            for (hv_idx = 0; hv_idx.Continue(end_val29, step_val29); hv_idx = hv_idx.TupleAdd(step_val29))
            {
                if (hv_o_DefectType == null)
                    hv_o_DefectType = new HTuple();
                hv_o_DefectType[hv_idx] = -2;
                hvec_o_DefectValue[hv_idx] = new HTupleVector(((new HTuple(-2)).TupleConcat(
                    -2)).TupleConcat(-2));
                hvec_o_FailRegs[hv_idx] = new HObjectVector(ho_EmptyFailReg);
            }
            //
            ho_o_BondContours.Dispose();
            ho_o_BondContours = ho_EmptyFailReg.CopyObj(1, -1);
            hv_o_BondParas = new HTuple();
            hv_o_ErrCode = -2;
            hv_o_ErrStr = "Initializing";

            //传入映射矩阵有效性测试
            HOperatorSet.TupleSum(hv_i_HomMatMod2Img, out hv_HomMatSum);
            if ((int)(new HTuple(hv_HomMatSum.TupleEqual(-12))) != 0)
            {
                hv_o_ErrCode = 1;
                hv_o_ErrStr = "mapping matrix is invalid!";
                ho_EmptyFailReg.Dispose();
                ho__BondRegs.Dispose();
                ho__BondContours.Dispose();
                ho__BondReg.Dispose();
                ho__BondContour.Dispose();

                return;
            }

            //检测区域映射
            ho__BondRegs.Dispose();
            HOperatorSet.AffineTransRegion(ho_i_BondRegs, out ho__BondRegs, hv_i_HomMatMod2Img,
                "nearest_neighbor");
            //Bond参考信息获取
            HOperatorSet.GetMetrologyObjectParam(hv_i_MetrologyHandle, "all", ((new HTuple("row")).TupleConcat(
                "column")).TupleConcat("radius"), out hv__RefBondParas);

            //------应用测量工具方式进行Bond1检测
            ho__BondContours.Dispose();
            HTV_Bond_Measure_1(ho_i_Image, ho_i_BondRegs, out ho__BondContours, hv_i_MetrologyHandle,
                hv_i_HomMatMod2Img, hv_i_MeasureType, out hv__MeasureResult, out hv__BondParas,
                out hv__ErrBondMeasureCode, out hv__ErrBondMeasureStr);
            if ((int)(new HTuple(hv__ErrBondMeasureCode.TupleLess(0))) != 0)
            {
                hv_o_ErrCode = -1;
                hv_o_ErrStr = hv__ErrBondMeasureStr.Clone();
                ho_EmptyFailReg.Dispose();
                ho__BondRegs.Dispose();
                ho__BondContours.Dispose();
                ho__BondReg.Dispose();
                ho__BondContour.Dispose();

                return;
            }

            HTuple end_val61 = hv__Bond1RegNum - 1;
            HTuple step_val61 = 1;
            for (hv_idx = 0; hv_idx.Continue(end_val61, step_val61); hv_idx = hv_idx.TupleAdd(step_val61))
            {
                ho__BondReg.Dispose();
                HOperatorSet.SelectObj(ho__BondRegs, out ho__BondReg, hv_idx + 1);
                ho__BondContour.Dispose();
                HOperatorSet.SelectObj(ho__BondContours, out ho__BondContour, hv_idx + 1);
                if ((int)(new HTuple(((hv__MeasureResult.TupleSelect(hv_idx))).TupleGreater(
                    0))) != 0)
                {
                    if (hv_o_DefectType == null)
                        hv_o_DefectType = new HTuple();
                    hv_o_DefectType[hv_idx] = 22;
                    hvec_o_DefectValue[hv_idx] = new HTupleVector(((new HTuple(-1)).TupleConcat(
                        -1)).TupleConcat(-1));
                    hvec_o_FailRegs[hv_idx] = new HObjectVector(ho__BondContour);
                }
                else if ((int)(new HTuple(((hv__MeasureResult.TupleSelect(hv_idx))).TupleEqual(
                    0))) != 0)
                {
                    //Bond参考位置及半径
                    hv__RefBondRow = hv__RefBondParas.TupleSelect((hv_idx * 3) + 0);
                    hv__RefBondCol = hv__RefBondParas.TupleSelect((hv_idx * 3) + 1);
                    hv_RefBondRadius = hv__RefBondParas.TupleSelect((hv_idx * 3) + 2);
                    //Bond参考区域映射
                    HOperatorSet.AffineTransPoint2d(hv_i_HomMatMod2Img, hv__RefBondRow, hv__RefBondCol,
                        out hv_RefBondRow, out hv_RefBondCol);
                    //Bond实际测量
                    hv_BondRow = hv__BondParas.TupleSelect((hv_idx * 3) + 0);
                    hv_BondCol = hv__BondParas.TupleSelect((hv_idx * 3) + 1);
                    hv_BondRadius = hv__BondParas.TupleSelect((hv_idx * 3) + 2);
                    //焊点位置偏移
                    hv__DiffRow = ((hv_RefBondRow - hv_BondRow)).TupleAbs();
                    hv__DiffCol = ((hv_RefBondCol - hv_BondCol)).TupleAbs();
                    if ((int)(new HTuple(hv_BondRadius.TupleGreater(hv_RefBondRadius * 1.5))) != 0)
                    {
                        //焊点过大
                        if (hv_o_DefectType == null)
                            hv_o_DefectType = new HTuple();
                        hv_o_DefectType[hv_idx] = 10;
                        hvec_o_DefectValue[hv_idx] = new HTupleVector(((new HTuple(-1)).TupleConcat(
                            -1)).TupleConcat(-1));
                        hvec_o_FailRegs[hv_idx] = new HObjectVector(ho__BondReg);
                        //输出位置、焊点轮廓
                        hv_o_BondParas = hv_o_BondParas.TupleConcat(((new HTuple(-1)).TupleConcat(
                            -1)).TupleConcat(-1));
                        {
                            HObject ExpTmpOutVar_0;
                            HOperatorSet.ConcatObj(ho_o_BondContours, ho_EmptyFailReg, out ExpTmpOutVar_0
                                );
                            ho_o_BondContours.Dispose();
                            ho_o_BondContours = ExpTmpOutVar_0;
                        }
                    }
                    else if ((int)(new HTuple(hv_BondRadius.TupleLess(hv_RefBondRadius * 0.5))) != 0)
                    {
                        //焊点过小
                        if (hv_o_DefectType == null)
                            hv_o_DefectType = new HTuple();
                        hv_o_DefectType[hv_idx] = 10;
                        hvec_o_DefectValue[hv_idx] = new HTupleVector(((new HTuple(-1)).TupleConcat(
                            -1)).TupleConcat(-1));
                        hvec_o_FailRegs[hv_idx] = new HObjectVector(ho__BondReg);
                        hv_o_BondParas = hv_o_BondParas.TupleConcat(((new HTuple(-1)).TupleConcat(
                            -1)).TupleConcat(-1));
                        //输出位置、焊点轮廓
                        {
                            HObject ExpTmpOutVar_0;
                            HOperatorSet.ConcatObj(ho_o_BondContours, ho_EmptyFailReg, out ExpTmpOutVar_0
                                );
                            ho_o_BondContours.Dispose();
                            ho_o_BondContours = ExpTmpOutVar_0;
                        }
                    }
                    else if ((int)((new HTuple(((hv__DiffRow / hv_RefBondRadius)).TupleGreater(
                        hv_i_BondOffsetFactor))).TupleOr(new HTuple(((hv__DiffCol / hv_RefBondRadius)).TupleGreater(
                        hv_i_BondOffsetFactor)))) != 0)
                    {
                        //焊点偏移
                        if (hv_o_DefectType == null)
                            hv_o_DefectType = new HTuple();
                        hv_o_DefectType[hv_idx] = 11;
                        hvec_o_DefectValue[hv_idx] = new HTupleVector(((new HTuple(-1)).TupleConcat(
                            -1)).TupleConcat(-1));
                        hvec_o_FailRegs[hv_idx] = new HObjectVector(ho__BondReg);
                        //输出位置、焊点轮廓
                        hv_o_BondParas = hv_o_BondParas.TupleConcat(((new HTuple(-1)).TupleConcat(
                            -1)).TupleConcat(-1));
                        {
                            HObject ExpTmpOutVar_0;
                            HOperatorSet.ConcatObj(ho_o_BondContours, ho_EmptyFailReg, out ExpTmpOutVar_0
                                );
                            ho_o_BondContours.Dispose();
                            ho_o_BondContours = ExpTmpOutVar_0;
                        }
                    }
                    else
                    {
                        //焊点正常
                        if (hv_o_DefectType == null)
                            hv_o_DefectType = new HTuple();
                        hv_o_DefectType[hv_idx] = 0;
                        hvec_o_DefectValue[hv_idx] = new HTupleVector(((hv_BondRow.TupleConcat(
                            hv_BondCol))).TupleConcat(hv_BondRadius));
                        hvec_o_FailRegs[hv_idx] = new HObjectVector(ho_EmptyFailReg);
                        //输出位置、焊点轮廓
                        hv_o_BondParas = hv_o_BondParas.TupleConcat(((hv_BondRow.TupleConcat(hv_BondCol))).TupleConcat(
                            hv_BondRadius));
                        {
                            HObject ExpTmpOutVar_0;
                            HOperatorSet.ConcatObj(ho_o_BondContours, ho__BondContour, out ExpTmpOutVar_0
                                );
                            ho_o_BondContours.Dispose();
                            ho_o_BondContours = ExpTmpOutVar_0;
                        }
                    }
                }
            }

            //输出结果
            HOperatorSet.TupleSum(hv_o_DefectType, out hv_Sum);
            if ((int)(new HTuple(hv_Sum.TupleNotEqual(0))) != 0)
            {
                hv_o_ErrCode = 1;
                hv_o_ErrStr = "Fail to one or more Bond";
                ho_EmptyFailReg.Dispose();
                ho__BondRegs.Dispose();
                ho__BondContours.Dispose();
                ho__BondReg.Dispose();
                ho__BondContour.Dispose();

                return;
            }
            else
            {
                hv_o_ErrCode = 0;
                hv_o_ErrStr = "Bond Location is successful";
                ho_EmptyFailReg.Dispose();
                ho__BondRegs.Dispose();
                ho__BondContours.Dispose();
                ho__BondReg.Dispose();
                ho__BondContour.Dispose();

                return;
            }

        }

        public static void HTV_Bond_Measure_1(HObject ho_i_Image, HObject ho_i_BondRegs, out HObject ho_o_BondContours,
    HTuple hv_i_MetrologyHandle, HTuple hv_i_HomMatMod2Img, HTuple hv_i_MeasureType,
    out HTuple hv_o_MeasureResult, out HTuple hv_o_BondParas, out HTuple hv_o_ErrCode,
    out HTuple hv_o_ErrStr)
        {




            // Local iconic variables 

            // Local control variables 

            HTuple hv__ErrMeasureCode = null, hv__ErrMeasureStr = null;
            // Initialize local and output iconic variables 
            HOperatorSet.GenEmptyObj(out ho_o_BondContours);
            //***********   基于应用测量测方法定位焊点
            // i_Image：待处理图像
            // i_BondRegs：焊点检测区域（焊盘区域）
            // o_BondContours：检测到的焊点轮廓
            // i_MetrologyHandle: 测量模板句柄
            // i_HomMatMod2Img: 测量区域的映射矩阵
            // i_MeasureType: 测量工具类型，允许对同一句柄添加多个测量工具，并分别指定类型，支持4类测量工具————1-直线工具，2-矩形工具，3-圆工具，4-椭圆工具
            // o_MeasureResult：应用测量测量的结果
            // o_BondParas: 测量结果，每一个测量工具对应一组结果参数，所有测量工具的参数均包含在该变量中
            // o_ErrCode: 错误码，代表该算子执行过程中产生的错误，0-代表正常执行，正整数-代表错误类型，-1-代表异常，-2-代表未执行
            // o_ErrStr: 错误信息，对各种错误的具体描述
            //************************************************

            //初始化
            ho_o_BondContours.Dispose();
            HOperatorSet.GenEmptyObj(out ho_o_BondContours);
            hv_o_MeasureResult = new HTuple();
            hv_o_BondParas = new HTuple();
            hv_o_ErrCode = -2;
            hv_o_ErrStr = "initializing";

            //应用测量

            ho_o_BondContours.Dispose();
            HTV_Apply_Measurement_1(ho_i_Image, ho_i_BondRegs, out ho_o_BondContours, hv_i_MetrologyHandle,
                hv_i_HomMatMod2Img, hv_i_MeasureType, out hv_o_MeasureResult, out hv_o_BondParas,
                out hv__ErrMeasureCode, out hv__ErrMeasureStr);

            //对测量结果进行判断
            if ((int)(new HTuple(hv__ErrMeasureCode.TupleGreater(0))) != 0)
            {
                hv_o_ErrCode = 1;
                hv_o_ErrStr = "Fail to measure one bondreg" + hv__ErrMeasureStr;

                return;
            }
            else if ((int)(new HTuple(hv__ErrMeasureCode.TupleEqual(0))) != 0)
            {
                hv_o_ErrCode = 0;
                hv_o_ErrStr = "Success to measure bondreg" + hv__ErrMeasureStr;

                return;
            }
            else
            {
                hv_o_ErrCode = -1;
                hv_o_ErrStr = "Fail to apply measurement" + hv__ErrMeasureStr;

                return;
            }

        }

        public static void HTV_Apply_Measurement_1(HObject ho_i_Image, HObject ho_i_InspectRegs,
    out HObject ho_o_MeasureContours, HTuple hv_i_MetrologyHandle, HTuple hv_i_HomMatMod2Img,
    HTuple hv_i_MeasureType, out HTuple hv_o_MeasureFlag, out HTuple hv_o_MeasureParas,
    out HTuple hv_o_ErrCode, out HTuple hv_o_ErrStr)
        {
            // Stack for temporary objects 
            HObject[] OTemp = new HObject[20];

            // Local iconic variables 

            HObject ho__InspectRegs, ho__InspectReg = null;
            HObject ho_inspectImage = null, ho_Contour = null;

            // Local control variables 

            HTuple hv_imgNum = null, hv_regNum = null;
            HTuple hv_Greater = null, hv_Less = null, hv_sum1 = null;
            HTuple hv_sum2 = null, hv_MetrologyHandle = null, hv_Sx = null;
            HTuple hv_Sy = null, hv_PhiAffine = null, hv_Theta = null;
            HTuple hv_TxAffine = null, hv_TyAffine = null, hv_Indices = null;
            HTuple hv_toolNum = null, hv_idx = null, hv_Parameter = new HTuple();
            HTuple hv_Index = null;
            // Initialize local and output iconic variables 
            HOperatorSet.GenEmptyObj(out ho_o_MeasureContours);
            HOperatorSet.GenEmptyObj(out ho__InspectRegs);
            HOperatorSet.GenEmptyObj(out ho__InspectReg);
            HOperatorSet.GenEmptyObj(out ho_inspectImage);
            HOperatorSet.GenEmptyObj(out ho_Contour);
            //***********   运用测量模板检测区域内的目标
            // i_Image: 待处理图像
            // i_InspectRegs: 测量所在区域
            // o_MeasureContours：测量结果显示
            // i_MetrologyHandle: 测量模板句柄
            // i_HomMatMod2Img: 测量区域的映射矩阵
            // i_MeasureType: 测量工具类型，允许对同一句柄添加多个测量工具，并分别指定类型，支持4类测量工具————1-直线工具，2-矩形工具，3-圆工具，4-椭圆工具
            // o_MeasureFlag：测量结果标志
            // o_MeasureParas: 测量结果，每一个测量工具对应一组结果参数，所有测量工具的参数均包含在该变量中
            // o_ErrCode: 错误码，代表该算子执行过程中产生的错误，0-代表正常执行，自然数-代表错误类型，-1-代表异常，-2-代表未执行
            // o_ErrStr: 错误信息，对各种错误的具体描述

            //初始化
            hv_o_ErrCode = -2;
            hv_o_ErrStr = "initializing";
            hv_o_MeasureParas = new HTuple();
            ho_o_MeasureContours.Dispose();
            HOperatorSet.GenEmptyObj(out ho_o_MeasureContours);
            //测量结果Flag
            hv_o_MeasureFlag = new HTuple();
            //输入有效性测试
            HOperatorSet.CountObj(ho_i_Image, out hv_imgNum);
            if ((int)(new HTuple(hv_imgNum.TupleEqual(0))) != 0)
            {
                hv_o_ErrCode = -1;
                hv_o_ErrStr = "input image is null";
                ho__InspectRegs.Dispose();
                ho__InspectReg.Dispose();
                ho_inspectImage.Dispose();
                ho_Contour.Dispose();

                return;
            }
            HOperatorSet.CountObj(ho_i_InspectRegs, out hv_regNum);
            if ((int)(new HTuple(hv_regNum.TupleLess(1))) != 0)
            {
                hv_o_ErrCode = -1;
                hv_o_ErrStr = "inspect region is empty";
                ho__InspectRegs.Dispose();
                ho__InspectReg.Dispose();
                ho_inspectImage.Dispose();
                ho_Contour.Dispose();

                return;
            }
            if ((int)((new HTuple((new HTuple(hv_i_MetrologyHandle.TupleLength())).TupleEqual(
                0))).TupleOr(new HTuple(hv_i_MetrologyHandle.TupleLess(0)))) != 0)
            {
                hv_o_ErrCode = -1;
                hv_o_ErrStr = "para i_MetrologyHandle is illegal";
                ho__InspectRegs.Dispose();
                ho__InspectReg.Dispose();
                ho_inspectImage.Dispose();
                ho_Contour.Dispose();

                return;
            }
            if ((int)(new HTuple((new HTuple(hv_i_HomMatMod2Img.TupleLength())).TupleLess(
                6))) != 0)
            {
                hv_o_ErrCode = -1;
                hv_o_ErrStr = "para i_HomMatMod2Img is illegal";
                ho__InspectRegs.Dispose();
                ho__InspectReg.Dispose();
                ho_inspectImage.Dispose();
                ho_Contour.Dispose();

                return;
            }

            //测量工具类型不属于支持的4类，异常退出
            HOperatorSet.TupleGreaterElem(hv_i_MeasureType, 4, out hv_Greater);
            HOperatorSet.TupleLessElem(hv_i_MeasureType, 1, out hv_Less);
            hv_sum1 = hv_Greater.TupleSum();
            hv_sum2 = hv_Less.TupleSum();
            if ((int)((new HTuple(hv_sum1.TupleGreater(0))).TupleOr(new HTuple(hv_sum2.TupleGreater(
                0)))) != 0)
            {
                hv_o_ErrCode = -1;
                hv_o_ErrStr = "measure tools unsupport!";
                ho__InspectRegs.Dispose();
                ho__InspectReg.Dispose();
                ho_inspectImage.Dispose();
                ho_Contour.Dispose();

                return;
            }

            //复制测量模板，并映射到当前图像中
            HOperatorSet.CopyMetrologyModel(hv_i_MetrologyHandle, "all", out hv_MetrologyHandle);
            //测量模板映射
            HOperatorSet.HomMat2dToAffinePar(hv_i_HomMatMod2Img, out hv_Sx, out hv_Sy, out hv_PhiAffine,
                out hv_Theta, out hv_TxAffine, out hv_TyAffine);
            HOperatorSet.AlignMetrologyModel(hv_MetrologyHandle, hv_TxAffine, hv_TyAffine,
                hv_PhiAffine);
            //获取测量工具索引
            HOperatorSet.GetMetrologyObjectIndices(hv_MetrologyHandle, out hv_Indices);
            //映检测区域到当前图像中
            ho__InspectRegs.Dispose();
            HOperatorSet.AffineTransRegion(ho_i_InspectRegs, out ho__InspectRegs, hv_i_HomMatMod2Img,
                "nearest_neighbor");

            //根据测量工具索引及类型，获取测量结果
            hv_toolNum = new HTuple(hv_Indices.TupleLength());
            HTuple end_val66 = hv_toolNum - 1;
            HTuple step_val66 = 1;
            for (hv_idx = 0; hv_idx.Continue(end_val66, step_val66); hv_idx = hv_idx.TupleAdd(step_val66))
            {
                ho__InspectReg.Dispose();
                HOperatorSet.SelectObj(ho__InspectRegs, out ho__InspectReg, hv_idx + 1);
                //应用测量工具
                ho_inspectImage.Dispose();
                HOperatorSet.ReduceDomain(ho_i_Image, ho__InspectReg, out ho_inspectImage);
                HOperatorSet.ApplyMetrologyModel(ho_inspectImage, hv_MetrologyHandle);
                HOperatorSet.GetMetrologyObjectResult(hv_MetrologyHandle, hv_Indices.TupleSelect(
                    hv_idx), "all", "result_type", "all_param", out hv_Parameter);
                switch ((hv_i_MeasureType.TupleSelect(
                    hv_idx)).I)
                {
                    case 1:
                        //直线
                        if ((int)(new HTuple((new HTuple(hv_Parameter.TupleLength())).TupleLess(4))) != 0)
                        {
                            hv_o_MeasureFlag = hv_o_MeasureFlag.TupleConcat(1);
                            hv_Parameter = new HTuple();
                            hv_Parameter[0] = -1;
                            hv_Parameter[1] = -1;
                            hv_Parameter[2] = -1;
                            hv_Parameter[3] = -1;
                            ho_Contour.Dispose();
                            ho_Contour = ho__InspectReg.CopyObj(1, -1);
                        }
                        else
                        {
                            hv_o_MeasureFlag = hv_o_MeasureFlag.TupleConcat(0);
                        }
                        hv_o_MeasureParas = hv_o_MeasureParas.TupleConcat(hv_Parameter);
                        {
                            HObject ExpTmpOutVar_0;
                            HOperatorSet.ConcatObj(ho_o_MeasureContours, ho_Contour, out ExpTmpOutVar_0
                                );
                            ho_o_MeasureContours.Dispose();
                            ho_o_MeasureContours = ExpTmpOutVar_0;
                        }
                        break;
                    case 2:
                        //矩形
                        if ((int)(new HTuple((new HTuple(hv_Parameter.TupleLength())).TupleLess(5))) != 0)
                        {
                            hv_o_MeasureFlag = hv_o_MeasureFlag.TupleConcat(1);
                            hv_Parameter = new HTuple();
                            hv_Parameter[0] = -1;
                            hv_Parameter[1] = -1;
                            hv_Parameter[2] = -1;
                            hv_Parameter[3] = -1;
                            hv_Parameter[4] = -1;
                            ho_Contour.Dispose();
                            ho_Contour = ho__InspectReg.CopyObj(1, -1);
                        }
                        else
                        {
                            hv_o_MeasureFlag = hv_o_MeasureFlag.TupleConcat(0);
                        }
                        hv_o_MeasureParas = hv_o_MeasureParas.TupleConcat(hv_Parameter);
                        {
                            HObject ExpTmpOutVar_0;
                            HOperatorSet.ConcatObj(ho_o_MeasureContours, ho_Contour, out ExpTmpOutVar_0
                                );
                            ho_o_MeasureContours.Dispose();
                            ho_o_MeasureContours = ExpTmpOutVar_0;
                        }
                        break;
                    case 3:
                        //圆
                        if ((int)(new HTuple((new HTuple(hv_Parameter.TupleLength())).TupleLess(3))) != 0)
                        {
                            hv_o_MeasureFlag = hv_o_MeasureFlag.TupleConcat(1);
                            hv_Parameter = new HTuple();
                            hv_Parameter[0] = -1;
                            hv_Parameter[1] = -1;
                            hv_Parameter[2] = -1;
                            ho_Contour.Dispose();
                            ho_Contour = ho__InspectReg.CopyObj(1, -1);
                        }
                        else
                        {
                            hv_o_MeasureFlag = hv_o_MeasureFlag.TupleConcat(0);
                            ho_Contour.Dispose();
                            HOperatorSet.GenCircle(out ho_Contour, hv_Parameter.TupleSelect(0), hv_Parameter.TupleSelect(
                                1), hv_Parameter.TupleSelect(2));
                        }
                        hv_o_MeasureParas = hv_o_MeasureParas.TupleConcat(hv_Parameter);
                        {
                            HObject ExpTmpOutVar_0;
                            HOperatorSet.ConcatObj(ho_o_MeasureContours, ho_Contour, out ExpTmpOutVar_0
                                );
                            ho_o_MeasureContours.Dispose();
                            ho_o_MeasureContours = ExpTmpOutVar_0;
                        }
                        break;
                    case 4:
                        //椭圆
                        if ((int)(new HTuple((new HTuple(hv_Parameter.TupleLength())).TupleLess(5))) != 0)
                        {
                            hv_o_MeasureFlag = hv_o_MeasureFlag.TupleConcat(1);
                            hv_Parameter = new HTuple();
                            hv_Parameter[0] = -1;
                            hv_Parameter[1] = -1;
                            hv_Parameter[2] = -1;
                            hv_Parameter[3] = -1;
                            hv_Parameter[4] = -1;
                            ho_Contour.Dispose();
                            ho_Contour = ho__InspectReg.CopyObj(1, -1);
                        }
                        else
                        {
                            hv_o_MeasureFlag = hv_o_MeasureFlag.TupleConcat(0);
                        }
                        hv_o_MeasureParas = hv_o_MeasureParas.TupleConcat(hv_Parameter);
                        {
                            HObject ExpTmpOutVar_0;
                            HOperatorSet.ConcatObj(ho_o_MeasureContours, ho_Contour, out ExpTmpOutVar_0
                                );
                            ho_o_MeasureContours.Dispose();
                            ho_o_MeasureContours = ExpTmpOutVar_0;
                        }
                        break;
                }
            }
            HOperatorSet.ClearMetrologyModel(hv_MetrologyHandle);
            //判断测量结果
            HOperatorSet.TupleFindFirst(hv_o_MeasureFlag, 1, out hv_Index);
            if ((int)(new HTuple(hv_Index.TupleGreaterEqual(0))) != 0)
            {
                hv_o_ErrCode = 1;
                hv_o_ErrStr = " failed to one inspectReg";
                ho__InspectRegs.Dispose();
                ho__InspectReg.Dispose();
                ho_inspectImage.Dispose();
                ho_Contour.Dispose();

                return;
            }
            else
            {
                hv_o_ErrCode = 0;
                hv_o_ErrStr = "measure successful";
                ho__InspectRegs.Dispose();
                ho__InspectReg.Dispose();
                ho_inspectImage.Dispose();
                ho_Contour.Dispose();

                return;
            }


        }

        #endregion


        #region 银胶

        public static void HTV_Epoxy_Inspect_Threshold(HObject ho_i_Image, HObject ho_i_InspectReg,
    HObject ho_i_RefReg, out HObject ho_o_EpoxyRegs, out HObjectVector/*{eObjectVector,Dim=1}*/ hvec_o_FailReg,
    HTuple hv_i_HomMatMod2Img, HTuple hv_i_ThreshGray, HTuple hv_i_LightOrDark,
    HTuple hv_i_OpeningSize, HTuple hv_i_EpoxyLenTh, HTuple hv_i_EpoxyHeiTh, out HTupleVector/*{eTupleVector,Dim=1}*/ hvec_o_DefectValue,
    out HTuple hv_o_DefectType, out HTuple hv_o_ErrCode, out HTuple hv_o_ErrStr)
        {
            // Stack for temporary objects 
            HObject[] OTemp = new HObject[20];

            // Local iconic variables 

            HObject ho_EmptyObject, ho__InspectReg, ho__RefReg;
            HObject ho_RegionUnion = null, ho__EpoxyReg = null;

            HObjectVector hvec__EpoxyRegs = new HObjectVector(1);

            // Local control variables 

            HTuple hv_HomMatSum = null, hv__RefRow = null;
            HTuple hv__RefColumn = null, hv__RefPhi = null, hv_RefLen1 = null;
            HTuple hv_RefLen2 = null, hv_o_EpoxyExtractResult = null;
            HTuple hv__ErrCode = null, hv__ErrStr = null, hv_ResultSum = null;
            HTuple hv__EpoxyLen = new HTuple(), hv__EpoxyHei = new HTuple();
            HTuple hv_Row = new HTuple(), hv_Column = new HTuple();
            HTuple hv_Phi = new HTuple(), hv_regIdx = new HTuple();
            HTuple hv_Row1 = new HTuple(), hv_Column1 = new HTuple();
            HTuple hv_Phi1 = new HTuple(), hv_Len1 = new HTuple();
            HTuple hv_Len2 = new HTuple(), hv_EpoxyLen = new HTuple();
            HTuple hv_GreaterLen = new HTuple(), hv_GreaterHei = new HTuple();
            HTuple hv_EpoxyIsOK = new HTuple(), hv_Idx = new HTuple();
            HTuple hv_IsOKSum = new HTuple();
            // Initialize local and output iconic variables 
            HOperatorSet.GenEmptyObj(out ho_o_EpoxyRegs);
            HOperatorSet.GenEmptyObj(out ho_EmptyObject);
            HOperatorSet.GenEmptyObj(out ho__InspectReg);
            HOperatorSet.GenEmptyObj(out ho__RefReg);
            HOperatorSet.GenEmptyObj(out ho_RegionUnion);
            HOperatorSet.GenEmptyObj(out ho__EpoxyReg);
            hvec_o_FailReg = new HObjectVector(1);
            //**********阈值分割方法提取银胶区域并分析银胶胶测结果是否满足检测要求
            //----------图标参数
            //i_Image: 待处理图像
            //i_InspectReg: 芯片各边对应的银胶检测区域，一般以上、下、左、右的顺序来排列
            //o_EpoxyReg: 通过阈值分割提取出来的银胶区域，上、下、左、右各对应一个区域
            //o_FailRegs：银胶出现缺陷的显示区域
            //----------控制参数
            //i_HomMatMod2Img：Ic定位后模板到图像的映射矩阵
            //i_ThreshGray: 阈值分割的灰度阈值，可以为1个参数（灰度上限或下限）或2个参数（灰度上下限）
            //i_LightOrDark: 银胶为亮目标或暗目标
            //i_OpeningSize: 为去除金线干扰进行开运算的尺寸
            //i_EpoxyLenTh：银胶长度阈值：0-1之间，银胶长度与芯片长度的比值：上下左右
            //i_EpoxyHeiTh：银胶最高度距离芯片边缘的高度 ：上下左右的高度  单位像素
            //o_DefectValue：输出检测到银胶长度比值o_DefectValue.at[0]，银胶高度o_DefectValue.at[1]
            //o_DefectType：输出缺陷类型
            //o_ErrCode: 错误码，代表该算子执行过程中产生的错误，0-代表正常执行，自然数-代表错误类型，-1-代表异常，-2-代表未执行
            //o_ErrStr: 错误信息，对各种错误的具体描述

            //初始化
            hv_o_ErrCode = -2;
            hv_o_ErrStr = "Initializing";
            ho_o_EpoxyRegs.Dispose();
            HOperatorSet.GenEmptyObj(out ho_o_EpoxyRegs);
            ho_EmptyObject.Dispose();
            HOperatorSet.GenEmptyObj(out ho_EmptyObject);
            hvec_o_FailReg[0] = new HObjectVector(ho_EmptyObject);
            hvec_o_DefectValue = ((new HTupleVector(1).Insert(0, new HTupleVector((((new HTuple(-2)).TupleConcat(
                -2)).TupleConcat(-2)).TupleConcat(-2)))).Insert(1, new HTupleVector((((new HTuple(-2)).TupleConcat(
                -2)).TupleConcat(-2)).TupleConcat(-2))));
            hv_o_DefectType = -2;

            //传入映射矩阵有效性测试
            HOperatorSet.TupleSum(hv_i_HomMatMod2Img, out hv_HomMatSum);
            if ((int)(new HTuple(hv_HomMatSum.TupleEqual(-12))) != 0)
            {
                hv_o_ErrCode = 1;
                hv_o_ErrStr = "mapping matrix is invalid!";
                ho_EmptyObject.Dispose();
                ho__InspectReg.Dispose();
                ho__RefReg.Dispose();
                ho_RegionUnion.Dispose();
                ho__EpoxyReg.Dispose();
                hvec__EpoxyRegs.Dispose();

                return;
            }

            //---------银胶检测
            //银胶检测区域映射
            ho__InspectReg.Dispose();
            HOperatorSet.AffineTransRegion(ho_i_InspectReg, out ho__InspectReg, hv_i_HomMatMod2Img,
                "nearest_neighbor");
            //映射参考区域
            ho__RefReg.Dispose();
            HOperatorSet.AffineTransRegion(ho_i_RefReg, out ho__RefReg, hv_i_HomMatMod2Img,
                "nearest_neighbor");
            HOperatorSet.SmallestRectangle2(ho__RefReg, out hv__RefRow, out hv__RefColumn,
                out hv__RefPhi, out hv_RefLen1, out hv_RefLen2);
            //采用阈值分割方式进行银胶检测
            hvec__EpoxyRegs.Dispose();
            HTV_Epoxy_Threshold(ho_i_Image, ho__InspectReg, out hvec__EpoxyRegs, hv_i_ThreshGray,
                hv_i_LightOrDark, hv_i_OpeningSize, hv__RefRow, hv__RefColumn, out hv_o_EpoxyExtractResult,
                out hv__ErrCode, out hv__ErrStr);
            //发生异常
            if ((int)(new HTuple(hv__ErrCode.TupleLess(0))) != 0)
            {
                hv_o_ErrCode = -1;
                hv_o_ErrStr = hv__ErrStr.Clone();
                ho_EmptyObject.Dispose();
                ho__InspectReg.Dispose();
                ho__RefReg.Dispose();
                ho_RegionUnion.Dispose();
                ho__EpoxyReg.Dispose();
                hvec__EpoxyRegs.Dispose();

                return;
            }
            //银胶检测结果输出
            HOperatorSet.TupleSum(hv_o_EpoxyExtractResult, out hv_ResultSum);
            if ((int)(new HTuple(hv_ResultSum.TupleGreater(2))) != 0)
            {
                hv_o_DefectType = 9;
                ho_RegionUnion.Dispose();
                HOperatorSet.Union1(ho__InspectReg, out ho_RegionUnion);
                hvec_o_FailReg[0] = new HObjectVector(ho_RegionUnion);
                hvec_o_DefectValue[0] = new HTupleVector((((new HTuple(0)).TupleConcat(0)).TupleConcat(
                    0)).TupleConcat(0));
                hvec_o_DefectValue[1] = new HTupleVector((((new HTuple(0)).TupleConcat(0)).TupleConcat(
                    0)).TupleConcat(0));
                //输出结果
                hv_o_ErrCode = 11;
                hv_o_ErrCode = "Epoxy is too little!";
                ho_EmptyObject.Dispose();
                ho__InspectReg.Dispose();
                ho__RefReg.Dispose();
                ho_RegionUnion.Dispose();
                ho__EpoxyReg.Dispose();
                hvec__EpoxyRegs.Dispose();

                return;
            }
            else
            {
                hv__EpoxyLen = new HTuple();
                hv__EpoxyHei = new HTuple();
                HOperatorSet.SmallestRectangle2(ho__RefReg, out hv_Row, out hv_Column, out hv_Phi,
                    out hv_RefLen1, out hv_RefLen2);
                for (hv_regIdx = 0; (int)hv_regIdx <= 3; hv_regIdx = (int)hv_regIdx + 1)
                {
                    ho__EpoxyReg.Dispose();
                    using (HDevDisposeHelper dh = new HDevDisposeHelper())
                    {
                        ho__EpoxyReg = hvec__EpoxyRegs[hv_regIdx].O.CopyObj(1, -1);
                    }
                    {
                        HObject ExpTmpOutVar_0;
                        HOperatorSet.ConcatObj(ho_o_EpoxyRegs, ho__EpoxyReg, out ExpTmpOutVar_0);
                        ho_o_EpoxyRegs.Dispose();
                        ho_o_EpoxyRegs = ExpTmpOutVar_0;
                    }
                    if ((int)(new HTuple(((hv_o_EpoxyExtractResult.TupleSelect(hv_regIdx))).TupleEqual(
                        0))) != 0)
                    {
                        HOperatorSet.SmallestRectangle2(ho__EpoxyReg, out hv_Row1, out hv_Column1,
                            out hv_Phi1, out hv_Len1, out hv_Len2);
                        //银胶高度
                        hv__EpoxyHei = hv__EpoxyHei.TupleConcat(hv_Len2);
                        if ((int)(new HTuple(hv_regIdx.TupleLessEqual(1))) != 0)
                        {
                            //上下银胶长度比值
                            hv_EpoxyLen = hv_Len1 / hv_RefLen1;
                            hv__EpoxyLen = hv__EpoxyLen.TupleConcat(hv_EpoxyLen);
                        }
                        else
                        {
                            //左右银胶长度比值
                            hv_EpoxyLen = hv_Len1 / hv_RefLen2;
                            hv__EpoxyLen = hv__EpoxyLen.TupleConcat(hv_EpoxyLen);
                        }
                                 }
                    else if ((int)((new HTuple(((hv__DiffRow
      hv_regIdx)))  if ((in newv__DiffRow
      hv_      (new HTuple(_DiffR   hv_      (new HTll;
            HTuple hv__RefColumn = null, hv__RefPhi = null, hv_Refstd1); hv_idx = hvtMet        for (hv_idx = 0; hv_idx.CondConto hv_idx = hv(hvnto hv_idx = hvf     nto
                ho_dark_image_rf     nto2 hv_idx = hvf     nto3 out HTuple hv_o_ErrCode, out           ho_dark_image_re hv_o_ErrStr)
     uple aHTnto hv_idx = hvidx__BondReg.Dispose();
    ual(1))) != 0)
     表错误类型，-1 0)
     eConcat(0));
         uple(hv_regIdx.TupleLes表错误类型，-1dx.TupleLeseConcat(0));
         uple(hv_regI{
        表错误类型，-1{
        _Column = null;
            HTuple hv_HomMat2D = null, hv_HomMat2DRotate = null, hv__ErrInspectRegDilCode = null;
     e();
            HTuple hv_Phi1 = new HTuple(), hv_Len1 = new HTuple();
            HTuple hv_Len2 = new HTuple(), hv_Epo                  hv_o_ErrStr = "paras not enough!";

  
               hv_o_ErrStr = "paras not enough!";

  .GenEmptyObj(out ho__InspectReg);
            HOperato          //tyObj(out ho__InspectReg);
            HOperato银胶tyObj(out ho__InspectReg);
            HOperato银e();tyObj(out ho__InspectReg);
            HOperatohv_EpotyObj(out ho__InspectReg);
            HOperato           tyObj(out ho__InspectReg);
            HOperato       tyObj(out ho__InspectReg);
            HOperato           _DtyObj(out ho__InspectReg);
            HOperato      yLentyObj(out ho__InspectReg);
            HOperato                }
   tyObj(out ho__InspectReg);
            HOperato           _LtyObj(out ho__InspectReg);
            HOperato      yLeLtyObj(out ho__InspectReg);
            HOperato((hv__DiffRow
      hvtyObj(out ho__InspectReg);
            HOperato
      hv_      tyObj(out ho__InspectReg);
            HOperato_DiffR   hv_      tyObj(out ho__InVar_0;
         单左右.TupleLengt区mentTagRE) +ar_0;    --------２i_Image: ectReg);
                    :  ---------图标参数
        ement" i_Image: ectReg);
                 hv__E: 分割方法提许左右
        public static void _EpoxyHeint" o_DefectValue：法提许多= new HTuple(), hv_ublic static void   e();
    : mentTagRE) +ge: ectReg);
          new HTuplent"mentTagRE) +eratorSetReg);
         -1dx.TupleLes示区域
       //o例      )).Tup左右
_Insp)). //o_DefectValue          ect(o_DefectValue          ct(至少ours);有左右
_I                   -1 0)
     示区eratorSet //o例      )).Tup左右
_Insp)). //o_DefectValue          ect(o_DefectValue          ct(至少ours);有左右
_I                   -1{
        示 {
调节i_Image: ect //胶区寔例      )).Tup左右
_Insp)). //o_DefectValue          ect(o_DefectValue          ct(至少ours);有左右
_I                       ho__InspectReg.Dispose();
                ho_InspectImg.Dispose();
                ho_Region.Dispose();
                ho_RegionOpening1.Dispose();
                ho_RegionOpening.Dispose();
                ho_ConnectedRegions.Dispose();
                ho__IcReg.Di      ho_o_EpoxyRegs.Dispose();
  rrInspectRegDilCode = null;
     e();
            HTuple h              ho_o_EpoxyRegs = ExpTmpOuv_Phi1 = new HTuple(), hv_Len1 = new HTuple();
           "Initializing";
            ho_o_EpoxyRegs.Dispose();
            HOperatorSet+ 2);
                    //焊//i_Image: ectReg);
             hv__EpoxyLen = new 胶高度= nuv_Refstd1);();
           w HTuple();
           fstd1);                    hv__DiffCol = ((hv_RefBondCol - hv_BondCol)).TupleAbs();
                    if ((intstd HTuple(hv_BondRadius.TupleGreater(hvhv_Epo          0)
                    {
  
  
       0)
                    {
  
           return;
            }
   ato          //  return;
            }
   ato银胶  return;
            }
   ato银e();  return;
            }
   atohv_Epo  return;
            }
   ato             return;
            }
   ato         return;
            }
   ato           _D  return;
            }
   ato      yLen  return;
            }
   ato                }
     return;
            }
   ato           _L  return;
            }
   ato      yLeL  return;
            }
   ato((hv__DiffRow
      hv  return;
            }
   ato
      hv_        return;
            }
   ato_DiffR   hv_                return;
            }
            //银胶检测结果输 ---------图标参数      hv__EpoxyLen = new          = nuv_RetMet   ();
           w HTuple();
           tMet                       hv__DiffCol = ((hv_RefBondCol - hv_BondCol)).TupleAbs();
                    if ((inttMet HTuple(hv_BondRadius.TupleGreater(hvhv_Epo          0)
                    {
  
  
       0)
                    {
  
           return;
            }
   ato          //  return;
            }
   ato银胶  return;
            }
   ato银e();  return;
            }
   atohv_Epo  return;
            }
   ato             return;
            }
   ato         return;
            }
   ato           _D  return;
            }
   ato      yLen  return;
            }
   ato                }
     return;
            }
   ato           _L  return;
            }
   ato      yLeL  return;
            }
   ato((hv__DiffRow
      hv  return;
            }
   ato
      hv_        return;
            }
   ato_DiffR   hv_                return;
            }
            //银胶检测结果输ple(), hv_ublic static voi      hv__EpoxyLen = new       hv__E= nuv_Re图像
            ho_ImageAffinTrans.Dispose();
            HOperatorSet.AffineTransImage(ho__IcMatchImage, out ho_ImageAffinTrans, hv_HomMat2DRotate,
    具
        se(hv_BondRadius.TupleGreater(hvhv_Epo          0)
                    {
  
  
       0)
                    {
  
           return;
            }
   ato          //  return;
            }
   ato银胶  return;
            }
   ato银e();  return;
            }
   atohv_Epo  return;
            }
   ato             return;
            }
   ato         return;
            }
   ato           _D  return;
            }
   ato      yLen  return;
            }
   ato                }
     return;
            }
   ato           _L  return;
            }
   ato      yLeL  return;
            }
   ato((hv__DiffRow
      hv  return;
            }
   ato
      hv_        return;
            }
   ato_DiffR   hv_                return;
            }
            //银胶检测结果ull;
            HTuple hv__ErrLE= nuv_Re(hvnto
            ho//                       f     nto
   Trans.DisposegIdx.TupleLes表错误类_o_BondContours.Dispose();
                          f     nto           HOperatorSet.AffineTransImage(ho__IcMatchImage, out ho_ImageAffinTrans, hv_HomMat2DRotate,
   [hv_idxdx.TupleLesut ho_Contour, hv_Parameter.TupleShv_Epo          0)
                    {
  
  
       0)
                    {
  
           return;
            }
   ato          //  return;
            }
   ato银胶  return;
            }
   ato银e();  return;
            }
   atohv_Epo  return;
            }
   ato             return;
            }
   ato         return;
            }
   ato           _D  return;
            }
   ato      yLen  return;
            }
   ato                }
     return;
            }
   ato           _L  return;
            }
   ato      yLeL  return;
            }
   ato((hv__DiffRow
      hv  return;
            }
   ato
      hv_        return;
            }
   ato_DiffR   hv_                return;
            }
            //银胶检测结果e_rf     nto2 hv_             != 0)
     表错误类_o_BondContours.Dispose();
                          f     nto2           HOperatorSet.AffineTransImage(ho__IcMatchImage, out ho_ImageAffinTrans, hv_HomMat2DRotate,
   [hv_idx 0)
     ut ho_Contour, hv_Parameter.TupleShv_Epo          0)
                    {
  
  
       0)
                    {
  
           return;
            }
   ato          //  return;
            }
   ato银胶  return;
            }
   ato银e();  return;
            }
   atohv_Epo  return;
            }
   ato             return;
            }
   ato         return;
            }
   ato           _D  return;
            }
   ato      yLen  return;
            }
   ato                }
     return;
            }
   ato           _L  return;
            }
   ato      yLeL  return;
            }
   ato((hv__DiffRow
      hv  return;
            }
   ato
      hv_        return;
            }
   ato_DiffR   hv_                return;
            }
            //银胶检测结果e_rf     nto3 hv_             !={
        表错误类_o_BondContours.Dispose();
                          f     nto3           HOperatorSet.AffineTransImage(ho__IcMatchImage, out ho_ImageAffinTrans, hv_HomMat2DRotate,
   [hv_idx{
        ut ho_Contour, hv_Parameter.TupleShv_Epo          0)
                    {
  
  
       0)
                    {
  
           return;
            }
   ato          //  return;
            }
   ato银胶  return;
            }
   ato银e();  return;
            }
   atohv_Epo  return;
            }
   ato             return;
            }
   ato         return;
            }
   ato           _D  return;
            }
   ato      yLen  return;
            }
   ato                }
     return;
            }
   ato           _L  return;
            }
   ato      yLeL  return;
            }
   ato((hv__DiffRow
      hv  return;
            }
   ato
      hv_        return;
            }
   ato_DiffR   hv_                return;
            }
            //银胶检测结果
            HTuple hv__RowDiff = new HTuple(), hv__ColDiff = new HTuple();
            HTuple hvDispose();
                          f     nto            hv(hvnto           // i_RowDiffTh: 行方向偏移阈值
         (hvnto     v_o_Erf     nto         //银果ull;
       实际偏移量
          dx.TupleLes表错误类_o_Bonours, ho_Contour, out ExpTmpO   f     nto
生的错误，0-代表正常执行，正dx.TupleLes表错误类型，-1dx.TupleLes异常，-2-代表未执行
            // o_ErrStr: spose();
                          f     nto2            hv(hvnto           // i_RowDiffTh: 行方向偏移阈值
         (hvnto     v_o_Erf     nto2         //银果ull;
       实际偏移量
          pleLes表错误类_o_Bonours, ho_Contour, out ExpTmpO   f     nto2
生的错误，0-代表正常执行，正 0)
     表错误类型，-1 0)
     异常，-2-代表未执行
            // o_ErrStr: spose();
                          f     nto3            hv(hvnto           // i_RowDiffTh: 行方向偏移阈值
         (hvnto     v_o_Erf     nto3         //银果ull;
       实际偏移量
          {
        表错误类_o_Bonours, ho_Contour, out ExpTmpO   f     nto3
生的错误，0-代表正常执行，正{
        表错误类型，-1{
        异常，-2-代表未执行
            // o_ErrStr: ntour.Dispose();
le()ew HTuple(), hv__ColDiff = new HTupl行蜪指   iff = new HTupl行e(HTuple hv_i_MinArect ho_olDiff = new HTuplntour.Dispose();olDiff = new HTuplntour.Dispose(leShv_Epo          0)
                    {
            //---------银胶检测
      hv__ErrLE= nuv_eShv_Epo          表正常执行，               {
  
       0)
                    {fTh.TupleLess(0)))) != 0)
            {
      
               hv_o_Errp
  tValue：法olDiff = new HTupl    ect(o_DefectValue          hv_o_Err
           return;
            }Equal(0))) != 0)
        
            hv__ErrLE= nuv_eS.GenEmptyObj(out ho__Inle aHTnto hv   (hvnto    
            ho//  --------     es
  胶区测结域，胶区幅          HOperatato          //  return;
            }Equal(0))) !={
     new          = nuv_            //左"(hm ab            // Local ic
      iratorSet         巺0----图标参数ato银胶  return;
            } out_Col   hv_Opent hv_Manew          = nuv_  银胶长"bytghbor");
        ato银e();  return;
            } out_Col   hv_Opent hv_Manew          = nuv_  银e();"bytghbor");
        // ff = n tValue：泚输出_o_M
e(hv_Reirae(hv_R));
         uple(hvrDilStr.
  le aHTnto ispose();
                ho_Reg.
  ispose();
                __Bond= -1;
  __Br = hv__ErrDilStr.1lone();
  ctType =  __Bond1;
  __Br__SearchReg.Dispos1          ho_ConnectedRegions.Dispo);o，(
                           }
   atohv_Epo  return;
            }
   _Match(ho_i_Image, ho__Seaion(ho_i_MatchRehv_Epo = hvidx__Bo hv_i_DilationSize, out))) !胶区      pleConcat(
      _o_M胶区增强         
    r = i_Imag null";            }
   ato             return;
            }
   _Match(ho_i_Im         (_            //左Operato                  {
        表错误类_o_Bonours, ho_Contour, out ExpTmpO   idx__B)          HOperatorSet.Sel         return;
            }
   _Match(ho_i_Irch     new 胶高度=ato             Operato         1.0          HOperatorSet.//eratorSet 区埼------i_Imag      *i_Imag            }
   ato           _D  return;
            }
   _Match(ho_i_Im         (_           Operato           _D       pleLes表错误类_o_Bonours, ho_Contour, out ExpTmpO   idx__B)          HOperatorSet.Sel      yLen  return;
            }
   g, out ho_ConnectedRegion         =ato           _D  Operato      yLen          hvec_o_Defect1.0          HOperatorSet.ato                }
     return;
            }
   Equal(0))) != 0)ectR     _Par(ato      yLen  Operato                }
             hvec_o_Defect"bytghbor");
        cal ic
       区埼-----+i_Imag      *i_Imag            }
   ato           _L  return;
            }
   _Match(ho_i_Im         (_           Operato           _L       dx.TupleLes表错误类_o_Bonours, ho_Contour, out ExpTmpO   idx__B)          HOperatorSet.Sel      yLeL  return;
            }
   _Match(ho_i_Irch     new          =ato           _L  Operato      yLeL          hvec_o_Defect1.0          HOperatorSet.ato     _DiffR      }
     return;
            }
   Equal(0))) != 0)ectR     _Par(ato      yLeL  Operato     _DiffR      }
             hvec_o_Defect"bytghbor");
        cal ic截，(
                        填充       TmpOutVar            }
   ato
      hv_        return;
            }
   ,
                out hv__Re                }
    chRehv_Epo =Operato
      hv_               hvec_o_Defect
            }
   nectedRegions.Dispon newv__Diffose();
                ho_AllRegs.Di,
          P hvt    (ato
      hv_      右银胶长1;
                hv_o_ErrStr = "inspect r
            }
   数ato银胶  return;
            }
   数ato银胶ispose();
                ho_AllReg}            }
   ato_DiffR   hv_                ret          }
   ,
                out hv__Re     _DiffR      }
    chRehv_Epo =Operato_DiffR   hv_               hvec_o_Defect
            }
   nectedRegions.Dispon newv__Diffose();
                ho_AllRegs.Di,
          P hvt    (ato_DiffR   hv_      ,v_  银e();1;
                hv_o_ErrStr = "inspect r
            }
   数ato银e();  return;
            }
   数ato银e();ispose();
                ho_AllReg}            }}  atorSet.ConcatObj(ho_o_BondContours__Diffose();
                ho_AllRegEqual(0))) != 0)
        Image, ho__Inspec银e();1;
               hv_o_ErrStr = hv__ErrStr.Clone();
                ho_EmptyObject.Di.Clone();未执行
            //o_ErrStr: 错误信息，对各种错误的具体描述

            //初始化
            ho_o_LightImaew HTuple右银胶长1;
                      ho_EmptyObject.Dispose();
                ho__InspectReg.Dispose();j(out ho_o_DarkImage);
            hHOperatorSet.ApplyMetrologyModel(ho_inspectImage, hv_Metrog1, ou HTupls       进ntour.Dispose(leShv_Epo          0)
                    {
  
       0)
                    {
           return;
            }ato          //  return;
            }ato银胶  return;
            }ato银e();  return;
            }atohv_Epo  return;
            }ato             return;
            }Sel         return;
            }ato           _D  return;
            }Sel      yLen  return;
            }ato                }
     return;
            }ato           _L  return;
            }Sel      yLeL  return;
            }ato     _DiffR      }
     return;
            }ato
      hv_        return;
            }ato_DiffR   hv_      pleSelect(
                    hv_idx), "all", "result_t       out hv_Phi1, oute();
            HTV_HomMatMod2Img, HTuple hv_i_ThreshG HTue(); hv_i_LightOrDark,G HTu长1;
        if (();
      {
            // Stack for temporary objects _o_ErrSleStart, hv_i_AngleExt, hv_i_MatchNum,
                    hv_i_RefRow, hv_i_RefCol, hv_i_RefAngle, hv_i_RowDiffTh, hv_i_ColDiffTh,
                    hv_i_AngleDiffTh, out hv__LocPara, out hv__DiffPara, out hv__ErrLocCode,
    
  hv_Epo      _Diffhv_Epo          HTuple end_val61 = hv__Bond1RegNum - 1;
            HTuple step_val61 = 1;
 _Diff        for (hv_idx = 0; hv_idx.Con
          for (hv_idx = 0;   return;
            }
            HOperatorSet.TupleIsString(hv_i_LightOrDark, out hv_IsString);
            if ((int)(new HTuple(hv_IsString.Tuple 
  hv_Epo          if ((int)(new HTuple(hv_IsString.Tuple _Diffhv_Epo          if ((iVar_0;
        基于mentTagRE) +)) != 0)
  yObj(out ho_o_Epoxse();
                ho_InspectImg.Dispose();
                ho_Region.Dispose();
                ho_RegiG HTue();.D
      posmentTagRE) +//i_ple(hv_ResultSione(hv_Rlect((
                ho_RegiG HTu.DeratorSetposmentTagRE) +//i_ple(hv_ResultSione(hv_Rlet((
                ho_RegionOpening1.Dispose();
                ho_RegionOpening.Dispose();
                ho_ConnectedRegions.Dispose();
                ho__IcReg.Dispose();

                return;
            }
            if ((int)((new HTuple((new HTup制参数
            //i_HomMatMod2Img：Ic定位后模板到图像的映射矩阵
            //i_Thresh_o_ErrS 阈值分割的灰度阈值，可以为1个参数（灰度上限或下限）或2个参数（灰度上下限）
        ho__InspectReg.Dispose();
                ho_InspectImg.Dispose();
                ho_Region.Dispose();
                ho_RegionOpening1.Dispose();
                ho_RegionOpening.Dispose();
                ho_ConnectedRegions.Dispose();
                ho__IcReg.Dispose();

                return;
            }
            if ((int)((new HTuple((new HTuple(hv_i_IcSizeTh.TupleLength())).TupleLess(1))).TupleOr(
                new HTuple(((hv_i_((new HTuple((new HT(0))).TupleLess(1)))) != 0)
            {
                hv_o_ErrCode = -1;
                hv_o_ErrStr = "the para i_EpoxySizeTh must be one integer greater than 0 at least";
                ho__InspectReg.Dispose();
                ho_InspectImg.Dispose();
  
  hv_Epo
                ho__InspectReg. _Diffhv_Epo          return;
            }
            //银胶检测结果

      ess(1)))) != 0)
            {
              e();1;

 _Diff   = -1;
                hv_o_ErrStr = "th_Diff    i_EpoxySizeTh must be one integer greater than 0 at least";
                ho__InspectReg.Dispose();
 e();          ho_InspectImg.Dispose();
  
  hv_Epo
                ho__InspectReg. _Diffhv_Epo          return;
            }
            //银胶检测结果
eratorSetess(1)))) != 0)
            {
              长1;
Con
     = -1;
                hv_o_ErrStr = "th
      i_EpoxySizeTh must be one integer greater than 0 at least";
                ho__InspectReg.Dispose();
 
            ho_InspectImg.Dispose();
  
  hv_Epo
                ho__InspectReg. _Diffhv_Epo          return;
            }
            //银胶检测结果
spose();
                 ho__InspectReg.Dispose();
         up制参数
                   {
                            hv_o_MeasureFlag = hv_o_Me制参数
         at(0);
                            ho_Contour.Dispose();
                            HOperatorSet.制参数
 cPara,
                out hv__ErrLocCode, ou 
  hv_Epo
                ho__InspectReg. _Diffhv_Epo          return;
            }
            //银胶检测结果                        );
                            ho_o_BondContour                           hv_o_MeasureFlag = hv_o_Me                 hoelType, hv_i_ModelID,
                hv_i_Score, hv_i_AngleStart, hv_i_AngleExt, hv_i_MatchNum, out hv       cPara,
                out hv__ErrLocCode, ou 
  hv_Epo
                ho__InspectReg. _Diffhv_Epo          return;
            }
            //银胶al iconic variables 

            HObjec);o    （灰Tuple(ispo留HOperatorSett((
);
                    HObjec ou 
  hv_Epo
                ho__Insp
            yn      HTV_cessful";
           长1;
C   
  hv_Epo   o_Me制参数
 [0]          hvec_o_De     ho       ho__Inspeg. _Diffhv_Epo          ret    ho__Insp
            yn      HTV_cessful";
           e();1;
g. _Diffhv_Epo   o_Me制参数
 [1]          hvec_o_De _Diffho       ho__Inspeg.Dispose();

                return;
         U量
     
  hv_Epo      _Diffhv_Epon1(ho__Inspspose();}

        }

        public sta值分r: 错误信息，对各种错误的具体描述

            //初始化
           ple hv_o_BondParspspose();                hv_o_D_o_Me                 nImgStr = null;
                    //初始eg.Dispose();

                retureg.Dispose();j(out ho_o_DarkImage);
            hHOperatorSet.ApplyMetrologyModel(ho_inspectImage, hv_MetroG1, ou      0)
            {
                hv_o_Er 
  hv_Epo
                ho__Insp    _Diffhv_EpopleSelect(
                    hv_idx), "all", "result_t       out hv_Phi1, out_Col   hv_Opent hv_Manss(1))) != 0)
            {
             hv_o_ErrCode = -1;v__MeReg;
            HObject ho_RegionUnion = null, ho__EpoxyReg = null;

            H     Contoedr (hv_idx = 0;   return;
            }
            HOperatorSet.TupleIsString(hv_i_LightOrDark, out hv_IsStri;
            if ((int)(new HTuple(hv_IsString.Tuple     Contoed          if ((iVar_0;
(i


 (0))).TupleL, 区指   
_I         "input应0-------图标参数Var_0;
(i            :-图标参数Var_0;
(iiiiityObj(out ho__InspectReg);
         r_0;
(iiiiioyObj(out ho_0-------图标参数Var_0;
(iiiiityv__Mut ho_---
_I         eg = null;

  ple     Contoed

                return;
                 Pro               hv_o_le     Contoed          HOperatorsStri;
  

                return;
          0)ectR     _Par(ato     Contoed  hv_IsStri;
  , = -1;v__Me; = null;

  ple     Contoed

                            hv_idx), "all", "result_thv__RefBondColFailReg);
           測量gRE) +  分验证 "result_t       out hv_Phi1, outen(hv_Matches, out hv_sureResult, outches, o  {
              (hs  eageScaled.Dispose();
              (hs  eut    
              (ches, oWi1(ch
              (ches, oegIdxi              hvec_             (ches, o     hv_Parameter = ne (ches, o.Tuple hv_Parameter = new HTuple();
         i_MatchNum,
                    hv_i_RefR();
                ho__IcInspectReg.Dispose();
                ho__Targets.Dispose();
                ho (hs  eTo__p_val61 = 1;
 G           for (hv_idx = 0; hv_idx.Conhoel hv_idx = hv(hm1 hv_idx = hv(hm始化

            ho_o_Targe[hv_ic static void [hv_sp_val61 = 1;
 to__ic static r (hv_idx = 0; hv_idx.Con_COPYv_Row = new HTuple(), hv_Column = new HTuple();
            HTuple hv_Phi = new HTuple(), hVar_0;
        amete量gRE) +工_Co_Reg).Tup量句柄le(), hv_Column = outches, o  {: 量工_Co      提许    gion句柄  多= n量工_Cot.GenE输指         支持4   量工_Co————1-直+工_Co_Re2-：0-1_Co_Re3-圆1_Co_Re4-椭圆1_Cole(), hv_Column = outches, oout ho_amete量1_Co是   //
     ff = = n量工_Coput应=  //
     f
  量工_Co   //
  ---含t ho__ ho__In
   Var            }n = ouths  eut    ho_量1_Co近et伸位吡板到灰T量)).Tup左右距离                       (hs  eageScale: 量胶啌ubli   //i_HomMat     o__       ho__S量1胶啌age is。                 ne (ches, o.Tuple: 量gRE) +句柄_Reg).TuprSet.S程中_ParametegRE) +度= net.S程中_Para    t.S-1。                 ne     hv_o_HomMatMod2Img, "nearest_neighbor");
                            hvec_o_DefectValue[3] = new HTupleVector(hv_Area).Clone();
                            hvec_o_FailRegs[3] = new HObjectVector(ho_ChippingFailReg) ;
                        }
                        else
                        {
          In                        ho_ = ne (ches, o.TupleleStart,               new HTuple(((hv_验证 "result_ttttt  ho (hs  eTo__p_val61eFlag = hv_o_Meutches, o  {_o_BondContours.Dispose();
                          o (hs  eTo__p_vurs.Dispose();
                            ho_o_BondContours = ExpTmpOutVar_0;
                        no m(hs  e to__            urn;
            }
            //银胶检测结果
e量工_Co      到    持lRe4   tor(
   退柄
          ull;
       实际      dx] v_o_Meutches, o  {, ject ho_o_                 return;
         rs.Disposdx] v_o_Meutches, o  {, 1ect ho_o_spos           retur hv(hm1 hv((_o_       //传入)
                        } hv(hm始((_o_spos //传入)
                        }                       hv(hm1peratorSet.ConcatObj(ho_o_LightImage, ho_(hm ExpTmpOutVar_0);
                ho_o_LightImage.Dispose();
                ho_o_LightImpOutVar_0;
                        m(hs  e to__       //     urn;
            }
            //银胶检测结果
amete量gRE) +         return;
         en(hv_utches, ot hv_st ho_o_ne (ches, o.Tupleuple(), hv_Column   e量工_Cole(), hv_Columrge[hv_ic staModel(ho_inspectIma[hv_sp_val61eFlag = hv_o_Meutches, oout _o_BondContours.Dispose();
  uple(hvrDilStr37
  le o (hs  eTo__p_v ispose();
                ho_Reg37
  ispose();
             to__ic sta= -1;to__ic r = hv__ErrDilStr37lone();
 37tType to__ic stape to__ic r__SearchReg.Dispo37t         ho_ConnectedRegions.DisposwigyHa(v_o_Meutches, o  {_o_Bonours, ho_Contour, out ExpTmpO   to__ic tObIectangle2(ho__RefReg, out hv_Row, out hv_Ccase 1:, out hv_Row, out hv_Column   直+量工_Cot.G是4sPoint2d(hv输at端点1oi标和纵i标hv端点2oi标和纵i标                 hv_o_DefectType[hv_idx] = 11;
    [hv_ic s+ 4dius));
       Ima[hv_sp_v ho_o_LightImage.Disposssssssssssss{htImage.Disposssssssssssss       ho_o_LightImpOutVar_0;
                     t2DRotate,
   [hv_每ugh     urn;
                        }
            //银}        //银_Match(ho_i_Irchutches, o      hv_B (hs  e( = ne (ches, o.Tuple h_o_Meutches, oout _o_Bonncat(
                            -1   [hv_ic ) h_o_Meutches, oout _o_Bonncat(
   [hv_ic s+ 1) h_o_Meutches, oout _o_Bonncat(
                            -1   [hv_ic s+ 2) h_o_Meutches, oout _o_Bonncat(
   [hv_ic s+ 3) h_o_Meuths  eut    _o_Bonncat(
                            -1   to__ic t,       (ches, oWi1(ch_o_Bonncat(
   to__ic t, 1,       (hs  eageScale_o_Bonncat(
                            -1   to__ic t,               m(hs  e tgIdxi    ctReg, ho_ImageAfm(hs  e di "necee, ho_RegionUnion;
            HObjecccccccccfmin_s.Tup"t,   (v_o_Meutches, o gIdxi    _o_Bonncat(
   to__ic t, ho_RegionUnion;
            HObjeccccccccc      (ches, oWi1(ch_o_Bonncat(
   to__ic tt, ho_RegionUnio0.5的错误_COPY)         //银rge[hv_ic sta   [hv_ic s+ 4;                     if (hv_o_DefectType == null)
   case 2:, out hv_Row, out hv_Column   ：0-量工_Cot.G是5sPoint2d(hv输at：0-ureConefecoi标、纵i标、标、宽、胶                       hv_o_DefectType[hv_idx] = 11;
    [hv_ic s+ 5dius));
       Ima[hv_sp_v ho_o_LightImage.Disposssssssssssss{htImage.Disposssssssssssss       ho_o_LightImpOutVar_0;
                     t2DRotate,
   [hv_每ugh     urn;
                        }
            //银}        //银_Match(ho_i_Irchutches, o      ctReg.Dis2 (hs  e( = ne (ches, o.Tuple h_o_Meutches, oout _o_Bonncat(
                            -1   [hv_ic ) h_o_Meutches, oout _o_Bonncat(
   [hv_ic s+ 1) h_o_Meutches, oout _o_Bonncat(
                            -1   [hv_ic s+ 2) h_o_Meutches, oout _o_Bonncat(
   [hv_ic s+ 3) h_o_Meutches, oout _o_Bonncat(
                            -1   [hv_ic s+ 4) h_o_Meuths  eut    _o_Bonncat(
   to__ic t,       (ches, oWi1(ch_o_Bonncat(
                            -1   to__ic t, 1,       (hs  eageScale_o_Bonncat(
   to__ic t,               m(hs  e tgIdxi    ctReg, ho_ImageA                            -1fm(hs  e di "necee, ho_RegionUniofmin_s.Tup"t,   (v_o_Meutches, o gIdxi    _o_Bonncat(
                            -1   to__ic t, ho_RegionUnio      (ches, oWi1(ch_o_Bonncat(
   to__ic tt, ho_RegionUnio                            -10.5的错误_COPY)         //银rge[hv_ic sta   [hv_ic s+ 5;                     if (hv_o_DefectType == null)
   case 3:, out hv_Row, out hv_Column   圆10-量工_Cot.G是3sPoint2d(hv输at圆1coi标、纵i标、径                 hv_o_DefectType[hv_idx] = 11;
    [hv_ic s+ 3dius));
       Ima[hv_sp_v ho_o_LightImage.Disposssssssssssss{htImage.Disposssssssssssss       ho_o_LightImpOutVar_0;
                     t2DRotate,
   [hv_每ugh     urn;
                        }
            //银}        //银_Match(ho_i_Irchutches, o      _o_Bon (hs  e( = ne (ches, o.Tuple h_o_Meutches, oout _o_Bonncat(
                            -1   [hv_ic ) h_o_Meutches, oout _o_Bonncat(
   [hv_ic s+ 1) h_o_Meutches, oout _o_Bonncat(
                            -1   [hv_ic s+ 2) h_o_Meuths  eut    _o_Bonncat(
   to__ic t,       (ches, oWi1(ch_o_Bonncat(
                            -1   to__ic t, 1,       (hs  eageScale_o_Bonncat(
   to__ic t,               m(hs  e tgIdxi    ctReg, ho_ImageA                            -1fm(hs  e di "necee, ho_RegionUniofmin_s.Tup"t,   (v_o_Meutches, o gIdxi    _o_Bonncat(
                            -1   to__ic t, ho_RegionUnio      (ches, oWi1(ch_o_Bonncat(
   to__ic tt, ho_RegionUnio                            -10.5的错误_COPY)         //银rge[hv_ic sta   [hv_ic s+ 3;                     if (hv_o_DefectType == null)
   case 4:, out hv_Row, out hv_Column   椭圆量工_Cot.G是5sPoint2d(hv输at椭圆ureConcoi标、纵i标、标轴、短轴、轴                       hv_o_DefectType[hv_idx] = 11;
    [hv_ic s+ 5dius));
       Ima[hv_sp_v ho_o_LightImage.Disposssssssssssss{htImage.Disposssssssssssss       ho_o_LightImpOutVar_0;
                     t2DRotate,
   [hv_每ugh     urn;
                        }
            //银}        //银_Match(ho_i_Irchutches, o      Ellipse (hs  e( = ne (ches, o.Tuple h_o_Meutches, oout _o_Bonncat(
                            -1   [hv_ic ) h_o_Meutches, oout _o_Bonncat(
   [hv_ic s+ 1) h_o_Meutches, oout _o_Bonncat(
                            -1   [hv_ic s+ 2) h_o_Meutches, oout _o_Bonncat(
   [hv_ic s+ 3) h_o_Meutches, oout _o_Bonncat(
                            -1   [hv_ic s+ 4) h_o_Meuths  eut    _o_Bonncat(
   to__ic t,       (ches, oWi1(ch_o_Bonncat(
                            -1   to__ic t, 1,       (hs  eageScale_o_Bonncat(
   to__ic t,               m(hs  e tgIdxi    ctReg, ho_ImageA                            -1fm(hs  e di "necee, ho_RegionUniofmin_s.Tup"t,   (v_o_Meutches, o gIdxi    _o_Bonncat(
                            -1   to__ic t, ho_RegionUnio      (ches, oWi1(ch_o_Bonncat(
   to__ic tt, ho_RegionUnio                            -10.5的错误_COPY)         //银rge[hv_ic sta   [hv_ic s+ 5;                     if (hv_o_DefectType == null)}            }}  Set.ConcatObj(hogRE) +   //tial标g: 通过阈值_Match(ho_i_Imatutches, ot hv_out m( = ne (ches, o.Tuple h"_o       _syeg.mConcat(
               ho__InspectRegs.Dispose();
             urs =  hHOperatorSet.ApplyMetrologyModel(ho_inspectImage, hv_Metroen(hv_  (ches, o .TupleTuple hv__BlobErrStr = new HTu     hv_idx), "all", "result_t       out hv_Phi1, out = "胶检_m(hs  e_HomMatMod2Img, HTuple hv_i_Thresh = "e();
                ho_cur = "ageS  rs                   HObject ExpTmpOutVar_0;
                            HOperat (ches, o.Tuple htor,Dim=1}*/ hvec_o_DefectValue,
    o (hs  e      hv_o_MeasureResul = "Offs(c                         = "out s             ho__BondContours.Dispose();
                ho__BondReg.Dispose();
                ho__BondContour.Dispose();

                return;
            }
            hv_i_RefAngle, hv_i_RowDiffTh, hv_i_ColDiffTh,
                    hv_i_AngleDiffTh, out hv__LocPara, out hv__DiffPara, out hv__ErrLocCode,
   E0;
              = "e();      = "ageS  rs; out hv__ErrLocCode,
     = "e()static       = "ageS  r(new HTll;
            HTuple hv__RefColumn = null, hv__RefPhi = null, hv_Ref = "1e()nto hv_idx = hvidxfLen2 = null, hv_o_EpoxyExtractResult Sto hv_idx = hvours = "out s hv_idx = hvo (hs  e__ImgDIdx))).TupleConcat(hv_i_MetrologyW= "out s hv_idx = hvo   W= " (hs  erCode = null, hv__ErrStr = null, hv_R   W= " (hs  ev_Metr_idx = hvours = "spectReg.CopyObj(1, -1);
                 ours = "     }
               urs = "sadiuv_BondRow)).TupleAbs();
                urs = "spectReg.CopyObj(1     urs = "Str = hv__ErrBondMeasureStr.Clone();
      = "spectReg.CopyObj(1      = "Str = hv__ErrBondMeasureStr.Clone();
      = "sadiuv_BondRow)).Tupl     ak;
spectReg.CopyObj(1, -1);
                 ok;
     }
               S       for (hv_idx = 0;   return;
            }
            HOperatorSet.TupleIsString(hv_i_LightOrDark, out hv_IsStri = "ageS  rs          if ((int)(new HTuple(hv_IsString.Tuple到的焊点轮廓
            // i_MetrologyHandle: 测量 = "e();轮廓
            // i_MetrologyHandle: 测量 = "ageS  rs          if ((int)(new HTuple(hv_IsString.Tuple = "e()轮廓
            // i_MetrologyHandle: 测量 = "ageS  r该变量中
            // o_ErrCode: 错误码，代表该算子执    = "out s  }
          表该算子执行过程中产生的错误，0-代表正常执行，正整数-代表错误类型，-1-代表异ontour.Dispo错误类型，-1-代表异ontour.Duple();
                  if ((iVar_0;      _BondContour);
  conic var = "1geSub_D.Dis先       = "1g信息，对s再_BondContour   定 = "14类测参数ameter.TupleSelect(2));
   //初始化
            hMeasureResult.TupleSelect(hv_idx))).Tupl = "e();Res焊efectValue：法焊ee：法1]
            //o = "ageS  rsSet.GenEmp具 = "轮廓rSet.AffineTransImage(ho_iSet..GenEmp = "tyObject)               ho__IcR-----------Str);

            //对ie (ches, o.Tuple: 量gRE) +句柄对应的银胶检测区域，一量      射矩阵
            // i_Me o (hs  e    : 量工_Co      提许    gion句柄  多= n量工_Cot.GenE输指         支持4   量工_Co————1-直+工_Co_Re2-：0-1_Co_Re3-圆1_Co_Re4-椭圆1_Cole(), hv_Column iours = "out sSet.量eStr = null,      hv_Parameter[4] ul = "Offs(c      : 焊efe偏_-     efe寔例
                        = "out sSet.GenEmp具 = "用阈力径               ho__IcSureType: 测量工具类垹同一句柄添加多个测量工具，并刈指定类型，支持4类测量工线工具，2-矩形工具/o_DefectType：输出缺陷类型
            //o_ErrCode: 错误码，代表该算子执行过程中产生的错误，0(1-..GenEmp焊efe_Re2-efe太      3-efe太 _Re4-焊efe偏_焊e)itializing";
            hv_o_LocPara = new HTuple();
            //计算芯片中心,应该传入芯片外接矩形框
                         }
                    3) + 2);
                    //焊点位置偏移
             = "e();的错误f = "1e()ntos.Dispose();
                          o = "1e()nto i_EpoxySizeTh must be one integer greater than 0 at least";
                ho__InspectReg.Dispose();
 b= "Value[2] = new HTupleVector(new HTuple(etMetrologyObjectParam(hv_i_MetrologyHandle,  = "e();bjectParam(hv_i_MetrologyHandle,  = "ageS  rsbjectParam(hv_i_MetrologyHandle,  = "e()bjectParam(hv_i_MetrologyHandle,  = "ageS  r          return;
            }
            //银胶检测结果输出
         le(etMetrologyObjectParam(hv_i_Metrologynt)(new HTuple(hv_IsString.Tuple到的焊点轮廓
        ple(hvrDilStr29
  le o = "1e()nto ispose();
                ho_Reg29
  ispose();
                ho_RegionOpening1.Dispose();29,   ho_Reg29   ho_RegionOpening.Dispose();
    29          ho_ConnectedRegions.Dispose();
         hv_o_ErrCode = -1;
                hv_o_ErrStr = "input image is null";
                ho__InspectReose();
                ho__Inspec有效性测试      HOperatorSet.CountObj(ho_i_Image, out hv_imgNum);
            if ((inew HTuple(hv_imgNum.TupleEqual(0))) != _InspectReg.Dispose(             ho_inspectImag到的焊点轮廓
       检测结果输出
         le(o  = "ageS  rsbjectParam(hv_i_Metrologyle(o  = "ageS  rsionOe(etMetrologyObo_inspectImage);
               = "out s  }
          表该算子执  else
                        {
          In                 ho_inspectImage.Dispose();
                ho_Contour.Dispose();

                return;
            }
            if ((int)((new HTuple((new HTuple(hv_i_MetrologyHandle.TupleLength())).TupleEqual(
                0))).TupleOr(new HTuple(hv_i_MetrologyHandle.TupleLess(0)))) != 0)
            {
                hv_etMetrologyObjectParam(hv_i_MetrologyHandle,  = "e();bjectParam(hv_i_MetrologyHandle,  = "ageS  rsbjectParam(hv_i_MetrologyHandle,  = "e()bjectParam(hv_i_MetrologyHandle,  = "ageS  r          return;
            }
            //银胶   ho_inspectImactValue：pose()   ho_inspectIle,  = "e();bjectParam(hv_i_Metrology     else
                        { = "e();的错e,  = "e();    HOperatorSet.TupleGreaterElem(hv_i_MeasureType, 4, out hv_Greater);
   = "-     算  HOpehv_i_Metrologynt)(new HTuple(tutches, o  ho_iout m( = at (ches, o.Tuple h"all"_LightImage, ho_oowctReg, ho_ImageA                  "c的ctReg, ho_ImageA_oadiuv"的错误ours = "out s = null;
          ));
      量工_Coperatoic var = "1geSub_ull;
        le,  = "ageS  rsbjectParam(hv_i_Metrology out = " (hs  e_cessful";
       = "e();的错e,  = "ageS  rs   = at (ches, o.Tuple                         //由边缘系数i_ (hs  e    的错误o (hs  e__ImgD的错误o = "out s                   错误o   W= " (hs  erCod, 错误o   W= " (hs  e               ho__NewStd.Dispose();
          = " (hs  erCod     -2)).TupleConcat(-2)).TupleConcat(-2))));
            hv_o_DefectType = -2;

            //传入映射 = " (hs  e           hv_o_ErrStr = hv__ErrSetMetrologyObjectParam(hv_i_MetrologyHandle,  = "e();bjectParam(hv_i_MetrologyHandle,  = "ageS  rsbjectParam(hv_i_MetrologyHandle,  = "e()bjectParam(hv_i_MetrologyHandle,  = "ageS  r          return;
            }
            //银胶   ho_inspectI ple(hvrDilStr61
  le o = "1e()nto ispose();
                ho_Reg61
  ispose();
                ho_RegionOpening1.Dispose();61,   ho_Reg61   ho_RegionOpening.Dispose();
    61          ho_ConnectedRegions.Dispole,  = "e()bjectParam(hv_i_MetrologyHand_Match(ho_i_Image, ho__Sea{ = "e();的错e,  = "e() = hvidxf+ 1)(hv_i_MetrologyHandle,  = "ageS  r          ret_i_MetrologyHand_Match(ho_i_Image, ho__Sea{ = "ageS  rs      Sea{ = "ageS  r = hvidxf+ 1)(hv_i_MetrologyHandctType[hv_idx] = 11;
    o (hs  e__ImgDRegionOpening.Disposnull)
                            hv_SmallestRectangle2(ho__RefReg, out hv_Row, out hv_C           if ((int)(new HTuple(hv_Index.TupleGreaterEqual(0))) != 0)
            {
                hv_o_ErrCode = 1;
  ose(      2                     ho__Inspec有效性测试      HOperatorSet.CountObj(ho_i_Imago_MeasureContours, ho_Contour, out ExpTmpOr_0
                                );
   _InspectReg.Dispose(             ho_inspectImag = "ageS  r该变量中
  {
                       dctType[hv_idx] = 11;
    o (hs  e__ImgDRegionOpening.Disposnull)
 le.Tup                   hv_SmallestRectangle2(ho__RefReg, out hv_Row, out hv_C   = "-     用阈力径
                hv_o_Err urs = "spectR误ours = "out sRegionOpeningpose();
      0{
                hv_o_Err urs = "Str = 误ours = "out sRegionOpeningpose();
      1{
                hv_o_Errurs = "sadiuv_Bo误ours = "out sRegionOpeningpose();
      2{
                hv_o_   = "-     e：pose()   ho_inspectI      hv  -1)).TupleConcat(-1));
            //由边缘系数 urs = "spe,_Err urs = "Str                           错误urs = "spe,_错误urs = "Str{
                hv_o_   = "-同量
                hv_o_Err = "spectR误o = "out sRegionOpeningpose();
      0{
                hv_o_Err = "Str = 误o = "out sRegionOpeningpose();
      1{
                hv_o_Err = "sadiuv_Bo误o = "out sRegionOpeningpose();
      2{
                hv_o_  焊efe用阈Regs.
                hv_o_   ak;
spectRgposeurs = "spec-_Err = "spe
                        }   hv_o_   ak;
Str = gposeurs = "ureContou = "ure
                        }   hv_o_ctType[hv_idx] = 11;Err = "sadiuvll)
         Errurs = "sadiuv_* 1.5mallestRectangle2(ho__RefRessss{htImage.Disposssssssssssss  焊efe;
 (-2)).TupleConcat(
                    -2)).TupleConcat(-2));
                hvec_o_FailRegs[hv_idx] = new HObjectVector(ho_EmptyFailReg);
            }ose(      1Model(ho_inspect         ho__Inspec有效性测试      HOperatorSet.CountObj(ho_i_Imago_MeasureContours, ho_Contour, out ExpTmpOTmpOr_0
                                );
   
   _InspectReg.Dispose(             ho_inspectImag = "点轮廓
                   = hv_o_Mage is、焊efe;廓rSet.AffineTracat(
          = "out s  }    = "out s
            tObj(ho_i_Imago_MeasureContours, ho_Contour, out ExpTmpOTmpOr_0
                                );
   
   {htImage.Disposssssssssssssn newv__Diffose();
                ho_AllRegs.Di初始化
            ho_o_LightIma = "ageS  rs     E0;
         Row - hv_IcRow)).TupleAbs();
                hv__Co)          ho_AllRegs.Di初始le(o  = "ageS  rsbjectParam(hv_i_Metrologyiff = ((hv_i_Refle(o  = "ageS  rsion- hv_IcRow)).T         //银}        //银}        //银    dctType[hv_idx] = 11;Err = "sadiuvll)
 2)).TErrurs = "sadiuv_* 0.5mallestRectangle2(ho__RefRessss{htImage.Disposssssssssssss  焊efe;
 (-2)).TupleConcat(
                    -2)).TupleConcat(-2));
                hvec_o_FailRegs[hv_idx] = new HObjectVector(ho_EmptyFailReg);
            }ose(      1Model(ho_inspect         ho__Inspec有效性测试      HOperatorSet.CountObj(ho_i_Imago_MeasureContours, ho_Contour, out ExpTmpOTmpOr_0
                                );
   
   _InspectReg.Dispose(             ho_inspectImag = "点轮廓
                       = "out s  }    = "out s
            tObj(ho_i_Imago_MeasureContours, ho_Contour, out ExpTmpOTmpOr_0
                                );
   
   = hv_o_Mage is、焊efe;廓rSet.AffineTracat(
      {htImage.Disposssssssssssssn newv__Diffose();
                ho_AllRegs.Di初始化
            ho_o_LightIma = "ageS  rs     E0;
         Row - hv_IcRow)).TupleAbs();
                hv__Co)          ho_AllRegs.Di初始le(o  = "ageS  rsbjectParam(hv_i_Metrologyiff = ((hv_i_Refle(o  = "ageS  rsion- hv_IcRow)).T         //银}        //银}        //银    dctType[hv__idx] = 11;
    ok;
spec/_Errurs = "sadiuvnull)
                            hv_o_DeResul = "Offs(c      = "i_DilationSize is illegalak;
Str /_Errurs = "sadiuvnull)
                            hv_o_DeResul = "Offs(c      = "llestRectangle2(ho__RefRessss{htImage.Disposssssssssssss  焊efeRegs.
                hv_o_                  -2)).TupleConcat(-2));
                hvec_o_FailRegs[hv_idx] = new HObjectVector(ho_EmptyFailReg);
            }ose(      11odel(ho_inspect         ho__Inspec有效性测试      HOperatorSet.CountObj(ho_i_Imago_MeasureContours, ho_Contour, out ExpTmpOTmpOr_0
                                );
   
   _InspectReg.Dispose(             ho_inspectImag = "点轮廓
                   = hv_o_Mage is、焊efe;廓rSet.AffineTracat(
          = "out s  }    = "out s
            tObj(ho_i_Imago_MeasureContours, ho_Contour, out ExpTmpOTmpOr_0
                                );
   
   {htImage.Disposssssssssssssn newv__Diffose();
                ho_AllRegs.Di初始化
            ho_o_LightIma = "ageS  rs     E0;
         Row - hv_IcRow)).TupleAbs();
                hv__Co)          ho_AllRegs.Di初始le(o  = "ageS  rsbjectParam(hv_i_Metrologyiff = ((hv_i_Refle(o  = "ageS  rsion- hv_IcRow)).T         //银}        //银}        //银    ctangle2(ho__RefRessss{htImage.Disposssssssssssss  焊efe该算
                hv_o_                  -2)).TupleConcat(-2));
                hvec_o_FailRegs[hv_idx] = new HObjectVector(ho_EmptyFailReg);
            }ose(      Model(ho_inspect         ho__Inspec有效性测试      HOperatorSet.CountOErr = "speeasureContours, ho_Contour, out ExpTmpOTmpOtou = "ure
 ho_RegionUnio    = "sadiuvnuodel(ho_inspect         ho__InspectReg.Dispose(             ho_inspectImag到的焊点轮廓
       o_Contour, o= hv_o_Mage is、焊efe;廓rSet.AffineTracat(
          = "out s  }    = "out s
            tOErr = "speeasureContourtou = "ure
 ho_RegionUnios, ho_Contour, out ExpTmpOTmpOtou = "sadiuvnuodel(ho_inspect         ho_{htImage.Disposssssssssssssn newv__Diffose();
                ho_AllRegs.Di初始化
            ho_o_LightIma = "ageS  rs     a = "ageS  r  Row - hv_IcRow)).TupleAbs();
                hv__Co)          ho_AllRegs.Di初始le(o  = "ageS  rsbjectParam(hv_i_Metrologyiff = ((hv_i_Refle(o  = "ageS  rsion- hv_IcRow)).T         //银}        //银}        //银}            }}  atorSet.Concat= hv_o_MeStr =tializing";

            //传入映射矩阵有效性测      if ((int)((new HTuple((new HTuple(hv_   idx = 0; hv_idx.Continue(end_val66, step_val66); hv_idx = h     hv_o_Defe

            //检测区域映射
               //i = " {
                hv_etMetrologyObjectParam(hv_i_MetrologyHandle,  = "e();bjectParam(hv_i_MetrologyHandle,  = "ageS  rsbjectParam(hv_i_MetrologyHandle,  = "e()bjectParam(hv_i_MetrologyHandle,  = "ageS  r          return;
            }
            //银胶         {
                hv_o_ErrCode = -1;
                hv_o_ErrStr = "para i_HomMatMod2Img = "         
   nspect_Threshold(HObject ho_i_hv_etMetrologyObjectParam(hv_i_MetrologyHandle,  = "e();bjectParam(hv_i_MetrologyHandle,  = "ageS  rsbjectParam(hv_i_MetrologyHandle,  = "e()bjectParam(hv_i_MetrologyHandle,  = "ageS  r          return;
            }
            //银胶_idx), "all", "result_t       out hv_Phi1, out = "M(hs  e_HomMatMod2Img, HTuple hv_i_Thresh = "e();            ho_cur = "ageS  rs  "resu     HOperat (ches, o.Tuple htor,Dim=1}*/ hvec_o_DefectValue,
    o (hs  e      hv_o_();

          (hs  e__ImgD的错             = "out s            r = new HTuple();
                            hv_Parameter[0] = -1;
                            hv_Parameter[1] = -1HTuple hv__RefColumn = null, hv__RefPhi = null, hv_RefLen (hs  erCode = nul,v_RefLen (hs  eMod2Im  for (hv_idx = 0;   return;
            }
            HOperatorSet.TupleIsString(hv_i_LightOrDark, out hv_IsStri = "ageS  rs          if ((iput iconic va   基于     量 
  con  //焊efe (hv_idx = 0;   rMeasureRes_InspectImg.Dis (hv_idx = 0;   rMe = "e();Res焊efectValue：法焊ee：法1]
            / /o = "ageS  rsSet.GenEmp具焊efe;廓rSet.AffineTra  rMe (ches, o.Tuple: 量gRE) +句柄对应的银胶 测区域，一量      射矩阵
            // i_Me  o (hs  e    : 量工_Co      提许    gion句柄  多= n量工_Cot.GenE输指         支持4   量工_Co————1-直+工_Co_Re2-：0-1_Co_Re3-圆1_Co_Re4-椭圆1_Cole(), hv_Column     (hs  e__ImgDRes_    量 量
       le(), hv_Column     = "out s: 量         ff = = n量工_Coput应=        //
     f
  量工_Co   //
  ---含t ho__n
   Var            }n =ull, hv_sum1 = null;
            HTuple hv_sum2 = null, hv_MetrologyHandle = null, hv_Sx = null;
            HTuple hv_Sy = null, hv_PhiAffine = null, hv_Theta = null;
            HTuple hv_TxAffine = null, hv_TyAffine = null, hv_Indices = null;
            HTuple hv_toolNum = null, hv_idx = gions.Dispose();
                ho__IcReg.Di = "ageS  rsbjectParam(hv_i_Metrologyng(hv_i_LightOrDark, out hv_IsStri = "ageS  rs          if ((i      (hs  e__ImgDidx] = new HObjectVector(ho_Em    = "out s  }
          表该算子执  else
                        {
          1))).TupleOr(
                n_    量
               eg.Di = "ageS  rsbjectParam(hv_i_MetrologynoutAp  y  (hs  e = 0_cessful";
       = "e();的错e,o  = "ageS  rs   = at (ches, o.Tuple                         //由边缘系数i_ (hs  e    的错误   (hs  e__ImgD的错      = "out s                   错误o    (hs  erCod, 错误o    (hs  e                      n_ 量参数（灰e, out hv_TyAffine);
            HOperatorSet. (hs  e;
                            ho_Contour = ho__InspectReg.CopyObj(1, -1);
                        }
        
      m(hs  e     bo__Refout HTuple  (hs  e   return;
            }
            //银胶         {
    );
            HOperatorSet. (hs  e;
                  hvec_o_FailRegs[hv_inspectIdx] = new HObjectVector(ho__EmptyFailReg) ;
            }
 Sspect_    m(hs  e bo__Refout HTuple  (hs  e   return;
            }
            //银胶         {
    (-2)).TupleConcat(-2))));
            hv_o_DefectType = -2;

            //传 
      ap  y m(hs  e = 0out HTuple  (hs  e   return;
            }
            //银胶        l", "result_t       out hv_Phi1, outAp  y  (hs  e = 0_HomMatMod2Img, HTuple hv_i_ThreshGray, HTup;
                ho_cur (hs  eageS  rs       HOperat (ches, o.Tuple htor,Dim=1}*/ hvec_o_Defect
     alue,
    o (hs  e     _();

          (hs  eFlag _();

          (hs  eout s       Start, hv_i_AngleExt, hv_i_MatchNum,
                    hv_i_RefRow, hv_i_RefCol, hv_i_RefAngle, hv_i_RowDiffTh, hv_i_ColDiffTh,
                    hv_i_AngleDiffTh, out hv__LocPara, out hv__DiffPara, out hv__ErrLocCode,
              s,
              _regIdx)))  if ((in newv__DiffRow 具
 ;
              ageS  r(new HTll;
            HTuple hv__RefColumn = null, hv__RefPhi = null, hv_Restep_val61 = 1;
            for (hv_idx = 0; hv_idx.Con       al61 = 1;
 hoel hv_idx = hv(hm1 hv_idxr (hv_idx = 0; hv_idx.Consto2 hv_idx = hv (ches, o.Tuple hv_idx = hvSxfLen2 = null, hv_o_EpoxyExtractRSy hv_idx = hvPhioncat( hv_idx = hvTh(c           hvec_curElement = hvecTxoncat( hv_idx = hvTyoncat( hv_idx = hv点检测区分别设置不同参数
 to__p_v hv_idx = hvidxfLen2 = = hvP          }
          表该算子           ho_dark_imar (hv_idx = 0;   return;
            }
            HOperatorSet.TupleIsString(hv_i_LightOrDark, out hv_IsStri (hs  eageS  rsm(hv_i_Metrologyng(hv_i_LightOrDark, out hv_IsSt           sm(hv_i_Metrologyng(hv_i_LightOrDark, out hv_IsSt           m(hv_i_Metrologyng(hv_i_LightOrDark, out hv_IsSt 具
 ;
  m(hv_i_Metrologyng(hv_i_LightOrDark, out hv_IsStageS  r          if ((iput iconic va      量gRE) +                hvncatObj(ho_o_MeasureContours, h_InspectImg.Dis (hv_idx = 0;   rMe      hv__E: 量g      ho_ (hv_idx = 0;   rri (hs  eageS  rsSet.量eStr =      rSet.AffineTra  rMe (ches, o.Tuple: 量gRE) +句柄对应的银胶 测区域，一量      射矩阵
            // i_Me  o (hs  e    : 量工_Co      提许    gion句柄  多= n量工_Cot.GenE输指         支持4   量工_Co————1-直+工_Co_Re2-：0-1_Co_Re3-圆1_Co_Re4-椭圆1_Cole(), hv_Column     (hs  eFlagSet.量eStr = age.Dispose();
         (hs  eout s: 量         ff = = n量工_Coput应=        //
     f
  量工_Co   //
  ---含t ho__n
   Var            }n =ull, hv_sum1 = null;
            HTuple hv_sum2 = null, hv_MetrologyHandle = null, hv_Sx = nue[3] = new HTupleVector(hv_Area).Clone();
                            hvec_o_FailRegs[3] = new HObjectVector(ho_ChippingFailReg) ;
                        }
                        else
                        {
                            if (hv_o_D      (hs  eout s  }
          表该算子sStri (hs  eageS  rsbjectParam(hv_i_Metrologyng(hv_i_LightOrDark, out hv_IsStri (hs  eageS  rsm(hv_i_Metrology
e量      Flag    if (hv_o_D      (hs  eFlag  }
          表该算子3) + 2);
                    //焊点位置偏移
                    hv__DiffRow = ((hv_RefBondRow - hv_BondRow)).TupleAbs();
                    hv__DiffCol = ((hv_RefBondCol - hv_BondCol)).TupleAbs();
                    if ((int)(new HTuple(hv_BondRadius.TupleGreater(hv_RefBondRads
                ho__RefReg.Dispose();
                ho_RegionUnion.Disp 具
 ;
               ho_RegionUnion.DispageS  r          return;
            }
            //银胶c static voi      hv__EpoxyLen = new       hv__E= nuv_Re图像
            ho_ImageAffinTrans.Dispose();
       spose();
                            ho_o_BondContours = ExpTmpOutVar_0;
                         具
 Value[2] = new HTupleVector(new HTuple(_RefBondRads
                ho__RefReg.Dispose();
                ho_RegionUnion.Disp 具
 ;
               ho_RegionUnion.DispageS  r          return;
            }
            //银胶c static voi                        );
            (ches, o.Tuple      ho_o_BondContour                           hv_o_MeasureFlag = hv_o_Me (ches, o.Tuple      ho_Image, HObject ho_i_InspectReg, HTuple hv_i_DilationSize,
    HTuple hv_i_ThreshGray, HTuple hv_i_LightO(ches, o.Tuple t ho_Contour, hv_Parameter.TupleS_RefBondRads
                ho__RefReg.Dispose();
                ho_RegionUnion.Disp 具
 ;
               ho_RegionUnion.DispageS  r          return;
            }
            //银胶c static voi                       );
           测区域，      ho_o_BondContours.Dispose();
         6e, HObject ho_i_InspectReg, HTuple hv_i_DilationSize,
    HTuple hv_i_ThreshGray, HTuple hv_i_Light测区域， t ho_Contour, hv_Parameter.TupleS_RefBondRads
                ho__RefReg.Dispose();
                ho_RegionUnion.Disp 具
 ;
               ho_RegionUnion.DispageS  r          return;
            }
            //银胶检测结果
e量工_Co      到    持lRe4   tor(
   退柄
          ull;
       实际      dx] v_o_Meuths  e  {, ject ho_o_                 return;
         rs.Disposdx] v_o_Meuths  e  {, 1ect ho_o_spos           retur hv(hm1 hv_o_       //传入)             } hv(hm始_o_spos //传入)             }                       hv(hm1peratorSet.ConcatObj(ho_o_LightImage, ho_(hm ExpTmpOutVar_0);
                ho_o_LightImage.Dispose();
                ho_o_LightImpOutVar_0;
                        m(hs  e to__       //     hv_Parameter.TupleS_RefBondRads
                ho__RefReg.Dispose();
                ho_RegionUnion.Disp 具
 ;
               ho_RegionUnion.DispageS  r          return;
            }
            //银胶检测结果
Tuple()量gRE) +t.GenE
        (
   TmpOutVar            }      hv__Epoxypyutches, ot hv_( = at (ches, o.Tuple h"all"_Lt ho_o_ (ches, o.Tupleuple(), hv_Column 量gRE) +pose()   ho_inspectIneTransRegion(ho_i_InTooncat(out    return;
            }
Sx      }
Sy      }
Phioncat(                   错误Th(c       }
Txoncat(      }
Tyoncat(           return;
         A_Insutches, ot hv_( =  (ches, o.Tuple h}
Txoncat(  }
Tyoncat(                   }
Phioncat(bor");
            HOper量工_Co 引hv_i_Metrologynt)(new HTuple(tutches, o  ho_i点检( =  (ches, o.Tuple h);
                ho_curReg.n 映              (
   TmpOutVar            }leS_RefBondRads
                ho__RefR     else
                        {
        ;的错e,{
        ;  HOperatorSet.TupleGreaterElem(hv_i_MeasureType, 4, out hv
        {




 r量工_Co 引及r(hv_Area  HOper量      le(), hv_Colum
 to__p_v hv_ghtImage, ho_       _o_BondContours.Dispose();
  uple(hvrDilStr66stape to__nto ispose();
                ho_Reg66
  ispose();
                ho_RegionOpening1.Dispose();6           6    ho_RegionOpening.Dispose();
    6           ho_ConnectedRegions.Dispoe,{
                  ret_i_MetrologyHand_Match(ho_i_Image, ho__Sea{
        ;的错e,{
         = hvidxf+ 1)(hv_i_MetrologyHand n_    量工_Co  ho_RegionUnion.Disp 具
 ;
               ho_RegionUnion.D类型，-1-代表异常，-2-代表未执行
            // 具
 ;
  m(hv_i_Metrologyon.D类型，-1-Ap  yutches, ot hv_( // 具
 ;
  ,o_o_ (ches, o.Tupleuple(), hv_Columlogynt)(new HTuple(tutches, o  ho_i__ImgD( =  (ches, o.Tuple h}
       _o_Bonours, ho_Contour, out ExpTmpO   idx) h"all"_L"
     _Open" h"all
    "_Lt ho_o_P        uple(), hv_ColumlogyswigyHa(v_o_Meuths  e  {_o_Bonours, ho_Contour, out ExpTmpO   idx)ObIectangle2(ho__RefReg, out hv_Row, out hv_Ccase 1:, out hv_Row, out hv_Column 直+, out hv_Row, out hv_Colum                       );
         P              ho_o_BondContours.Dis4 ho_o_LightImage.Disposssssssssssss{htImage.Disposssssssssssss       ho (hs  eFlag  }   ho (hs  eFlagho_RegionUnioect ExpTmpOutVar_0;
              vP          }
          表该算子Image.Disposssss  vP        out hv_1表该算子Image.Disposssss  vP        o1t hv_1表该算子Image.Disposssss  vP        o2t hv_1表该算子Image.Disposssss  vP        o3t hv_1表该算子Image.Disposssss spageS  r          ret该算子Image.Disposssss spageS  r  } e,{
         o_inspectImage);
           r_0;
               {
                hv_o_ErrCode = -1;
                hv_o_ErrStr = "bond regi   ho (hs  eFlag  }   ho (hs  eFlagho_RegionUnio0e);
           r_0;
               {
                     (hs  eout s  }      (hs  eout sho_RegionUnio_o_P        uple(), hv_Columlogy      {{htImage.Disposssssssssssssn newv__Diffose();
                ho_AllRegs.Di初始化
            ho_o_LightIma (hs  eageS  rs   spageS  r  Row - hv_IcRow)).TupleAbs();
                hv__Co)          ho_AllRegs.Di初始le(o  (hs  eageS  rsbjectParam(hv_i_MetrologyStr = "bond regi e(o  (hs  eageS  rsion- hv_IcRow)).T         //银}        //银f (hv_o_DefectType == null)
   case 2:, out hv_Row, out hv_Column ：0-, out hv_Row, out hv_Colum                       );
         P              ho_o_BondContours.Dis5 ho_o_LightImage.Disposssssssssssss{htImage.Disposssssssssssss       ho (hs  eFlag  }   ho (hs  eFlagho_RegionUnioect ExpTmpOutVar_0;
              vP          }
          表该算子Image.Disposssss  vP        out hv_1表该算子Image.Disposssss  vP        o1t hv_1表该算子Image.Disposssss  vP        o2t hv_1表该算子Image.Disposssss  vP        o3t hv_1表该算子Image.Disposssss  vP        o4t hv_1表该算子Image.Disposssss spageS  r          ret该算子Image.Disposssss spageS  r  } e,{
         o_inspectImage);
           r_0;
               {
                hv_o_ErrCode = -1;
                hv_o_ErrStr = "bond regi   ho (hs  eFlag  }   ho (hs  eFlagho_RegionUnio0e);
           r_0;
               {
                     (hs  eout s  }      (hs  eout sho_RegionUnio_o_P        uple(), hv_Columlogy      {{htImage.Disposssssssssssssn newv__Diffose();
                ho_AllRegs.Di初始化
            ho_o_LightIma (hs  eageS  rs   spageS  r  Row - hv_IcRow)).TupleAbs();
                hv__Co)          ho_AllRegs.Di初始le(o  (hs  eageS  rsbjectParam(hv_i_MetrologyStr = "bond regi e(o  (hs  eageS  rsion- hv_IcRow)).T         //银}        //银f (hv_o_DefectType == null)
   case 3:, out hv_Row, out hv_Column 圆, out hv_Row, out hv_Colum                       );
         P              ho_o_BondContours.Dis3 ho_o_LightImage.Disposssssssssssss{htImage.Disposssssssssssss       ho (hs  eFlag  }   ho (hs  eFlagho_RegionUnioect ExpTmpOutVar_0;
              vP          }
          表该算子Image.Disposssss  vP        out hv_1表该算子Image.Disposssss  vP        o1t hv_1表该算子Image.Disposssss  vP        o2t hv_1表该算子Image.Disposssss spageS  r          ret该算子Image.Disposssss spageS  r  } e,{
         o_inspectImage);
           r_0;
               {
                hv_o_ErrCode = -1;
                hv_o_ErrStr = "bond regi   ho (hs  eFlag  }   ho (hs  eFlagho_RegionUnio0e);
           r_0;
      ssss spageS  r          ret该算子Image.Disposssssng(hv_i_LightOrD_o_Bon hv_IsStageS  r = hvP        atorSet.ConcatObj(hoP        atorSet.ConcaupleAbs();
                hv__Co1Obj(hoP        atorSet.Conca2)e);
           r_0;
               {
                     (hs  eout s  }      (hs  eout sho_RegionUnio_o_P        uple(), hv_Columlogy      {{htImage.Disposssssssssssssn newv__Diffose();
                ho_AllRegs.Di初始化
            ho_o_LightIma (hs  eageS  rs   spageS  r  Row - hv_IcRow)).TupleAbs();
                hv__Co)          ho_AllRegs.Di初始le(o  (hs  eageS  rsbjectParam(hv_i_MetrologyStr = "bond regi e(o  (hs  eageS  rsion- hv_IcRow)).T         //银}        //银f (hv_o_DefectType == null)
   case 4:, out hv_Row, out hv_Column 椭圆, out hv_Row, out hv_Colum                       );
         P              ho_o_BondContours.Dis5 ho_o_LightImage.Disposssssssssssss{htImage.Disposssssssssssss       ho (hs  eFlag  }   ho (hs  eFlagho_RegionUnioect ExpTmpOutVar_0;
              vP          }
          表该算子Image.Disposssss  vP        out hv_1表该算子Image.Disposssss  vP        o1t hv_1表该算子Image.Disposssss  vP        o2t hv_1表该算子Image.Disposssss  vP        o3t hv_1表该算子Image.Disposssss  vP        o4t hv_1表该算子Image.Disposssss spageS  r          ret该算子Image.Disposssss spageS  r  } e,{
         o_inspectImage);
           r_0;
               {
                hv_o_ErrCode = -1;
                hv_o_ErrStr = "bond regi   ho (hs  eFlag  }   ho (hs  eFlagho_RegionUnio0e);
           r_0;
               {
                     (hs  eout s  }      (hs  eout sho_RegionUnio_o_P        uple(), hv_Columlogy      {{htImage.Disposssssssssssssn newv__Diffose();
                ho_AllRegs.Di初始化
            ho_o_LightIma (hs  eageS  rs   spageS  r  Row - hv_IcRow)).TupleAbs();
                hv__Co)          ho_AllRegs.Di初始le(o  (hs  eageS  rsbjectParam(hv_i_MetrologyStr = "bond regi e(o  (hs  eageS  rsion- hv_IcRow)).T         //银}        //银f (hv_o_DefectType == null)}            }}  s.Di初始化
           ontoutches, ot hv_( =  (ches, o.Tuple      ho_curReg.n e, our量      le(), hv_ColumgeScaled_L.Dispose();()rst(      (hs  eFlag _1的错误_COPY)         //银GenEmptyObj(out ho__Targets);
          if ((in             ho_Contour = ho__InspectReg.CopyObj(1, -1);
                        }
        分llegalr(ho__            hv_Parameter.TupleS_RefBondRads
                ho__RefReg.Dispose();
                ho_RegionUnion.Disp 具
 ;
               ho_RegionUnion.DispageS  r          return;
            }
            //银胶         {
                hv_o_ErrCode = -1;
                hv_o_ErrStr = "para i_HomMatMod2Imgm(hs  e nspect_Threshold(HObject ho_i_hv__RefBondRads
                ho__RefReg.Dispose();
                ho_RegionUnion.Disp 具
 ;
               ho_RegionUnion.DispageS  r          return;
            }
            //银胶urn;
    l", "result_t       out hv_Phi1, out = "胶检_m(hs  e_1_HomMatMod2Img, HTuple hv_i_Thresh = "e();
                ho_cur = "ageS  rs                   HObject ExpTmpOutVar_0;
                            HOperat (ches, o.Tuple htor,Dim=1}*/ hvec_o_DefectValue,
    o (hs  e      hv_o_MeasureResul = "Offs(c                         = "out s             ho__BondContours.Dispose();
                ho__BondReg.Dispose();
                ho__BondContour.Dispose();

                return;
            }
            hv_i_RefAngle, hv_i_RowDiffTh, hv_i_ColDiffTh,
                    hv_i_AngleDiffTh, out hv__LocPara, out hv__DiffPara, out hv__ErrLocCode,
   E0;
              = "e();      = "ageS  rs; out hv__ErrLocCode,
     = "e()static       = "ageS  r(new HTll;
            HTuple hv__RefColumn = null, hv__RefPhi = null, hv_Ref = "1e()nto hv_idx = hvidxfLen2 = null, hv_o_EpoxyExtractResult Sto hv_idx = hvours = "out s hv_idx = hvo (hs  e__ImgDIdx))).TupleConcat(hv_i_MetrologyW= "out s hv_idx = hvo   W= " (hs  erCode = null, hv__ErrStr = null, hv_R   W= " (hs  ev_Metr_idx = hvours = "spectReg.CopyObj(1, -1);
                 ours = "     }
               urs = "sadiuv_BondRow)).TupleAbs();
                urs = "spectReg.CopyObj(1     urs = "Str = hv__ErrBondMeasureStr.Clone();
      = "spectReg.CopyObj(1      = "Str = hv__ErrBondMeasureStr.Clone();
      = "sadiuv_BondRow)).Tupl     ak;
spectReg.CopyObj(1, -1);
                 ok;
     }
               S       for (hv_idx = 0;   return;
            }
            HOperatorSet.TupleIsString(hv_i_LightOrDark, out hv_IsStri = "ageS  rs          if ((int)(new HTuple(hv_IsString.Tuple到的焊点轮廓
            // i_MetrologyHandle: 测量 = "e();轮廓
            // i_MetrologyHandle: 测量 = "ageS  rs          if ((int)(new HTuple(hv_IsString.Tuple = "e()轮廓
            // i_MetrologyHandle: 测量 = "ageS  r该变量中
            // o_ErrCode: 错误码，代表该算子执    = "out s  }
          表该算子执行过程中产生的错误，0-代表正常执行，正整数-代表错误类型，-1-代表异ontour.Dispo错误类型，-1-代表异ontour.Duple();
                  if ((iVar_0;      _BondContour);
  conic var = "1geSub_D.Dis先       = "1g信息，对s再_BondContour   定 = "14类测参数ameter.TupleSelect(2));
   //初始化
            hMeasureResult.TupleSelect(hv_idx))).Tupl = "e();Res焊efectValue：法焊ee：法1]
            //o = "ageS  rsSet.GenEmp具 = "轮廓rSet.AffineTransImage(ho_iSet..GenEmp = "tyObject)               ho__IcR-----------Str);

            //对ie (ches, o.Tuple: 量gRE) +句柄对应的银胶检测区域，一量      射矩阵
            // i_Me o (hs  e    : 量工_Co      提许    gion句柄  多= n量工_Cot.GenE输指         支持4   量工_Co————1-直+工_Co_Re2-：0-1_Co_Re3-圆1_Co_Re4-椭圆1_Cole(), hv_Column iours = "out sSet.量eStr = null,      hv_Parameter[4] ul = "Offs(c      : 焊efe偏_-     efe寔例
                        = "out sSet.GenEmp具 = "用阈力径               ho__IcSureType: 测量工具类垹同一句柄添加多个测量工具，并刈指定类型，支持4类测量工线工具，2-矩形工具/o_DefectType：输出缺陷类型
            //o_ErrCode: 错误码，代表该算子执行过程中产生的错误，0(1-..GenEmp焊efe_Re2-efe太      3-efe太 _Re4-焊efe偏_焊e)itializing";
            hv_o_LocPara = new HTuple();
            //计算芯片中心,应该传入芯片外接矩形框
                         }
                    3) + 2);
                    //焊点位置偏移
             = "e();的错误f = "1e()ntos.Dispose();
                          o = "1e()nto i_EpoxySizeTh must be one integer greater than 0 at least";
                ho__InspectReg.Dispose();
 b= "Value[2] = new HTupleVector(new HTuple(etMetrologyObjectParam(hv_i_MetrologyHandle,  = "e();bjectParam(hv_i_MetrologyHandle,  = "ageS  rsbjectParam(hv_i_MetrologyHandle,  = "e()bjectParam(hv_i_MetrologyHandle,  = "ageS  r          return;
            }
            //银胶检测结果输出
         le(etMetrologyObjectParam(hv_i_Metrologynt)(new HTuple(hv_IsString.Tuple到的焊点轮廓
        ple(hvrDilStr29
  le o = "1e()nto ispose();
                ho_Reg29
  ispose();
                ho_RegionOpening1.Dispose();29,   ho_Reg29   ho_RegionOpening.Dispose();
    29          ho_ConnectedRegions.Dispose();
         hv_o_ErrCode = -1;
                hv_o_ErrStr = "input image is null";
                ho__InspectReose();
                ho__Inspec有效性测试      HOperatorSet.CountObj(ho_i_Image, out hv_imgNum);
            if ((inew HTuple(hv_imgNum.TupleEqual(0))) != _InspectReg.Dispose(             ho_inspectImag到的焊点轮廓
       检测结果输出
         le(o  = "ageS  rsbjectParam(hv_i_Metrologyle(o  = "ageS  rsionOe(etMetrologyObo_inspectImage);
               = "out s  }
          表该算子执  else
                        {
          In                 ho_inspectImage.Dispose();
                ho_Contour.Dispose();

                return;
            }
            if ((int)((new HTuple((new HTuple(hv_i_MetrologyHandle.TupleLength())).TupleEqual(
                0))).TupleOr(new HTuple(hv_i_MetrologyHandle.TupleLess(0)))) != 0)
            {
                hv_etMetrologyObjectParam(hv_i_MetrologyHandle,  = "e();bjectParam(hv_i_MetrologyHandle,  = "ageS  rsbjectParam(hv_i_MetrologyHandle,  = "e()bjectParam(hv_i_MetrologyHandle,  = "ageS  r          return;
            }
            //银胶   ho_inspectImactValue：pose()   ho_inspectIle,  = "e();bjectParam(hv_i_Metrology     else
                        { = "e();的错e,  = "e();    HOperatorSet.TupleGreaterElem(hv_i_MeasureType, 4, out hv_Greater);
   = "-     算  HOpehv_i_Metrologynt)(new HTuple(tutches, o  ho_iout m( = at (ches, o.Tuple h"all"_LightImage, ho_oowctReg, ho_ImageA                  "c的ctReg, ho_ImageA_oadiuv"的错误ours = "out s = null;
          ));
      量工_Coperatoic var = "1geSub_ull;
        le,  = "ageS  rsbjectParam(hv_i_Metrology out = " (hs  e_1_cessful";
       = "e();的错e,  = "ageS  rs   = at (ches, o.Tuple                         //由边缘系数i_ (hs  e    的错误o (hs  e__ImgD的错误o = "out s                   错误o   W= " (hs  erCod, 错误o   W= " (hs  e               ho__NewStd.Dispose();
          = " (hs  erCod     -2)).TupleConcat(-2)).TupleConcat(-2))));
            hv_o_DefectType = -2;

            //传入映射 = " (hs  e           hv_o_ErrStr = hv__ErrSetMetrologyObjectParam(hv_i_MetrologyHandle,  = "e();bjectParam(hv_i_MetrologyHandle,  = "ageS  rsbjectParam(hv_i_MetrologyHandle,  = "e()bjectParam(hv_i_MetrologyHandle,  = "ageS  r          return;
            }
            //银胶   ho_inspectI ple(hvrDilStr61
  le o = "1e()nto ispose();
                ho_Reg61
  ispose();
                ho_RegionOpening1.Dispose();61,   ho_Reg61   ho_RegionOpening.Dispose();
    61          ho_ConnectedRegions.Dispole,  = "e()bjectParam(hv_i_MetrologyHand_Match(ho_i_Image, ho__Sea{ = "e();的错e,  = "e() = hvidxf+ 1)(hv_i_MetrologyHandle,  = "ageS  r          ret_i_MetrologyHand_Match(ho_i_Image, ho__Sea{ = "ageS  rs      Sea{ = "ageS  r = hvidxf+ 1)(hv_i_MetrologyHandctType[hv_idx] = 11;
    o (hs  e__ImgDRegionOpening.Disposnull)
                            hv_SmallestRectangle2(ho__RefReg, out hv_Row, out hv_C           if ((int)(new HTuple(hv_Index.TupleGreaterEqual(0))) != 0)
            {
                hv_o_ErrCode = 1;
  ose(      2                     ho__Inspec有效性测试      HOperatorSet.CountObj(ho_i_Imago_MeasureContours, ho_Contour, out ExpTmpOr_0
                                );
   _InspectReg.Dispose(             ho_inspectImag = "ageS  r该变量中
  {
                       dctType[hv_idx] = 11;
    o (hs  e__ImgDRegionOpening.Disposnull)
 le.Tup                   hv_SmallestRectangle2(ho__RefReg, out hv_Row, out hv_C   = "-     用阈力径
                hv_o_Err urs = "spectR误ours = "out sRegionOpeningpose();
      0{
                hv_o_Err urs = "Str = 误ours = "out sRegionOpeningpose();
      1{
                hv_o_Errurs = "sadiuv_Bo误ours = "out sRegionOpeningpose();
      2{
                hv_o_   = "-     e：pose()   ho_inspectI      hv  -1)).TupleConcat(-1));
            //由边缘系数 urs = "spe,_Err urs = "Str                           错误urs = "spe,_错误urs = "Str{
                hv_o_   = "-同量
                hv_o_Err = "spectR误o = "out sRegionOpeningpose();
      0{
                hv_o_Err = "Str = 误o = "out sRegionOpeningpose();
      1{
                hv_o_Err = "sadiuv_Bo误o = "out sRegionOpeningpose();
      2{
                hv_o_  焊efe用阈Regs.
                hv_o_   ak;
spectRgposeurs = "spec-_Err = "spe
                        }   hv_o_   ak;
Str = gposeurs = "ureContou = "ure
                        }   hv_o_ctType[hv_idx] = 11;Err = "sadiuvll)
         Errurs = "sadiuv_* 1.5mallestRectangle2(ho__RefRessss{htImage.Disposssssssssssss  焊efe;
 (-2)).TupleConcat(
                    -2)).TupleConcat(-2));
                hvec_o_FailRegs[hv_idx] = new HObjectVector(ho_EmptyFailReg);
            }ose(      1Model(ho_inspect         ho__Inspec有效性测试      HOperatorSet.CountObj(ho_i_Imago_MeasureContours, ho_Contour, out ExpTmpOTmpOr_0
                                );
   
   _InspectReg.Dispose(             ho_inspectImag = "点轮廓
                   = hv_o_Mage is、焊efe;廓rSet.AffineTracat(
          = "out s  }    = "out s
            tObj(ho_i_Imago_MeasureContours, ho_Contour, out ExpTmpOTmpOr_0
                                );
   
   {htImage.Disposssssssssssssn newv__Diffose();
                ho_AllRegs.Di初始化
            ho_o_LightIma = "ageS  rs     E0;
         Row - hv_IcRow)).TupleAbs();
                hv__Co)          ho_AllRegs.Di初始le(o  = "ageS  rsbjectParam(hv_i_Metrologyiff = ((hv_i_Refle(o  = "ageS  rsion- hv_IcRow)).T         //银}        //银}        //银    dctType[hv_idx] = 11;Err = "sadiuvll)
 2)).TErrurs = "sadiuv_* 0.5mallestRectangle2(ho__RefRessss{htImage.Disposssssssssssss  焊efe;
 (-2)).TupleConcat(
                    -2)).TupleConcat(-2));
                hvec_o_FailRegs[hv_idx] = new HObjectVector(ho_EmptyFailReg);
            }ose(      1Model(ho_inspect         ho__Inspec有效性测试      HOperatorSet.CountObj(ho_i_Imago_MeasureContours, ho_Contour, out ExpTmpOTmpOr_0
                                );
   
   _InspectReg.Dispose(             ho_inspectImag = "点轮廓
                       = "out s  }    = "out s
            tObj(ho_i_Imago_MeasureContours, ho_Contour, out ExpTmpOTmpOr_0
                                );
   
   = hv_o_Mage is、焊efe;廓rSet.AffineTracat(
      {htImage.Disposssssssssssssn newv__Diffose();
                ho_AllRegs.Di初始化
            ho_o_LightIma = "ageS  rs     E0;
         Row - hv_IcRow)).TupleAbs();
                hv__Co)          ho_AllRegs.Di初始le(o  = "ageS  rsbjectParam(hv_i_Metrologyiff = ((hv_i_Refle(o  = "ageS  rsion- hv_IcRow)).T         //银}        //银}        //银    dctType[hv__idx] = 11;
    ok;
spec/_Errurs = "sadiuvnull)
                            hv_o_DeResul = "Offs(c      = "i_DilationSize is illegalak;
Str /_Errurs = "sadiuvnull)
                            hv_o_DeResul = "Offs(c      = "llestRectangle2(ho__RefRessss{htImage.Disposssssssssssss  焊efeRegs.
                hv_o_                  -2)).TupleConcat(-2));
                hvec_o_FailRegs[hv_idx] = new HObjectVector(ho_EmptyFailReg);
            }ose(      11odel(ho_inspect         ho__Inspec有效性测试      HOperatorSet.CountObj(ho_i_Imago_MeasureContours, ho_Contour, out ExpTmpOTmpOr_0
                                );
   
   _InspectReg.Dispose(             ho_inspectImag = "点轮廓
                   = hv_o_Mage is、焊efe;廓rSet.AffineTracat(
          = "out s  }    = "out s
            tObj(ho_i_Imago_MeasureContours, ho_Contour, out ExpTmpOTmpOr_0
                                );
   
   {htImage.Disposssssssssssssn newv__Diffose();
                ho_AllRegs.Di初始化
            ho_o_LightIma = "ageS  rs     E0;
         Row - hv_IcRow)).TupleAbs();
                hv__Co)          ho_AllRegs.Di初始le(o  = "ageS  rsbjectParam(hv_i_Metrologyiff = ((hv_i_Refle(o  = "ageS  rsion- hv_IcRow)).T         //银}        //银}        //银    ctangle2(ho__RefRessss{htImage.Disposssssssssssss  焊efe该算
                hv_o_                  -2)).TupleConcat(-2));
                hvec_o_FailRegs[hv_idx] = new HObjectVector(ho_EmptyFailReg);
            }ose(      Model(ho_inspect         ho__Inspec有效性测试      HOperatorSet.CountOErr = "speeasureContours, ho_Contour, out ExpTmpOTmpOtou = "ure
 ho_RegionUnio    = "sadiuvnuodel(ho_inspect         ho__InspectReg.Dispose(             ho_inspectImag到的焊点轮廓
       o_Contour, o= hv_o_Mage is、焊efe;廓rSet.AffineTracat(
          = "out s  }    = "out s
            tOErr = "speeasureContourtou = "ure
 ho_RegionUnios, ho_Contour, out ExpTmpOTmpOtou = "sadiuvnuodel(ho_inspect         ho_{htImage.Disposssssssssssssn newv__Diffose();
                ho_AllRegs.Di初始化
            ho_o_LightIma = "ageS  rs     a = "ageS  r  Row - hv_IcRow)).TupleAbs();
                hv__Co)          ho_AllRegs.Di初始le(o  = "ageS  rsbjectParam(hv_i_Metrologyiff = ((hv_i_Refle(o  = "ageS  rsion- hv_IcRow)).T         //银}        //银}        //银}            }}  atorSet.Concat= hv_o_MeStr =tializing";

            //传入映射矩阵有效性测      if ((int)((new HTuple((new HTuple(hv_   idx = 0; hv_idx.Continue(end_val66, step_val66); hv_idx = h     hv_o_Defe

            //检测区域映射
               //i = " {
                hv_etMetrologyObjectParam(hv_i_MetrologyHandle,  = "e();bjectParam(hv_i_MetrologyHandle,  = "ageS  rsbjectParam(hv_i_MetrologyHandle,  = "e()bjectParam(hv_i_MetrologyHandle,  = "ageS  r          return;
            }
            //银胶         {
                hv_o_ErrCode = -1;
                hv_o_ErrStr = "para i_HomMatMod2Img = "         
   nspect_Threshold(HObject ho_i_hv_etMetrologyObjectParam(hv_i_MetrologyHandle,  = "e();bjectParam(hv_i_MetrologyHandle,  = "ageS  rsbjectParam(hv_i_MetrologyHandle,  = "e()bjectParam(hv_i_MetrologyHandle,  = "ageS  r          return;
            }
            //银胶_idx), "all", "result_t       out hv_Phi1, out = "M(hs  e_1_HomMatMod2Img, HTuple hv_i_Thresh = "e();            ho_cur = "ageS  rs  "resu     HOperat (ches, o.Tuple htor,Dim=1}*/ hvec_o_DefectValue,
    o (hs  e      hv_o_();

          (hs  e__ImgD的错             = "out s            r = new HTuple();
                            hv_Parameter[0] = -1;
                            hv_Parameter[1] = -1HTuple hv__RefColumn = null, hv__RefPhi = null, hv_RefLen (hs  erCode = nul,v_RefLen (hs  eMod2Im  for (hv_idx = 0;   return;
            }
            HOperatorSet.TupleIsString(hv_i_LightOrDark, out hv_IsStri = "ageS  rs          if ((iput iconic va   基于     量 
  con  //焊efe (hv_idx = 0;   rMeasureRes_InspectImg.Dis (hv_idx = 0;   rMe = "e();Res焊efectValue：法焊ee：法1]
            / /o = "ageS  rsSet.GenEmp具焊efe;廓rSet.AffineTra  rMe (ches, o.Tuple: 量gRE) +句柄对应的银胶 测区域，一量      射矩阵
            // i_Me  o (hs  e    : 量工_Co      提许    gion句柄  多= n量工_Cot.GenE输指         支持4   量工_Co————1-直+工_Co_Re2-：0-1_Co_Re3-圆1_Co_Re4-椭圆1_Cole(), hv_Column     (hs  e__ImgDRes_    量 量
       le(), hv_Column     = "out s: 量         ff = = n量工_Coput应=        //
     f
  量工_Co   //
  ---含t ho__n
   Var            }n =ull, hv_sum1 = null;
            HTuple hv_sum2 = null, hv_MetrologyHandle = null, hv_Sx = null;
            HTuple hv_Sy = null, hv_PhiAffine = null, hv_Theta = null;
            HTuple hv_TxAffine = null, hv_TyAffine = null, hv_Indices = null;
            HTuple hv_toolNum = null, hv_idx = gions.Dispose();
                ho__IcReg.Di = "ageS  rsbjectParam(hv_i_Metrologyng(hv_i_LightOrDark, out hv_IsStri = "ageS  rs          if ((i      (hs  e__ImgDidx] = new HObjectVector(ho_Em    = "out s  }
          表该算子执  else
                        {
          1))).TupleOr(
                n_    量
               eg.Di = "ageS  rsbjectParam(hv_i_MetrologynoutAp  y  (hs  e = 0_1_cessful";
       = "e();的错e,o  = "ageS  rs   = at (ches, o.Tuple                         //由边缘系数i_ (hs  e    的错误   (hs  e__ImgD的错      = "out s                   错误o    (hs  erCod, 错误o    (hs  e                      n_ 量参数（灰e, out hv_TyAffine);
            HOperatorSet. (hs  e;
                            ho_Contour = ho__InspectReg.CopyObj(1, -1);
                        }
        
      m(hs  e     bo__Refout HTuple  (hs  e   return;
            }
            //银胶         {
    );
            HOperatorSet. (hs  e;
                  hvec_o_FailRegs[hv_inspectIdx] = new HObjectVector(ho__EmptyFailReg) ;
            }
 Sspect_    m(hs  e bo__Refout HTuple  (hs  e   return;
            }
            //银胶         {
    (-2)).TupleConcat(-2))));
            hv_o_DefectType = -2;

            //传 
      ap  y m(hs  e = 0out HTuple  (hs  e   return;
            }
            //银胶        l", "result_t       out hv_Phi1, outAp  y  (hs  e = 0_1_HomMatMod2Img, HTuple hv_i_ThreshGray, HTup;
                ho_cur (hs  eageS  rs       HOperat (ches, o.Tuple htor,Dim=1}*/ hvec_o_Defect
     alue,
    o (hs  e     _();

          (hs  eFlag _();

          (hs  eout s       Start, hv_i_AngleExt, hv_i_MatchNum,
                    hv_      //银l, hv_i_RefAngle, hv_i_RowDiffTh, hv_i_ColDiffTh,
                    hv_i_AngleDiffTh, out hv__LocPara, out hv__DiffPara, out hv__ErrLocCode,
              s,
              _regIdx)))  if ((in newv__DiffRow 具
 ;
              ageS  r(new HTll;
            HTuple hv__RefColumn = null, hv__RefPhi = null, hv_Restep_val61 = 1;
            for (hv_idx = 0; hv_idx.Con       al61 = 1;
 hoel hv_idx = hv(hm1 hv_idxr (hv_idx = 0; hv_idx.Consto2 hv_idx = hv (ches, o.Tuple hv_idx = hvSxfLen2 = null, hv_o_EpoxyExtractRSy hv_idx = hvPhioncat( hv_idx = hvTh(c           hvec_curElement = hvecTxoncat( hv_idx = hvTyoncat( hv_idx = hv点检测区分别设置不同参数
 to__p_v hv_idx = hvidxfLen2 = = hvP          }
          表该算子           ho_dark_imar (hv_idx = 0;   return;
            }
            HOperatorSet.TupleIsString(hv_i_LightOrDark, out hv_IsStri (hs  eageS  rsm(hv_i_Metrologyng(hv_i_LightOrDark, out hv_IsSt           sm(hv_i_Metrologyng(hv_i_LightOrDark, out hv_IsSt           m(hv_i_Metrologyng(hv_i_LightOrDark, out hv_IsSt 具
 ;
  m(hv_i_Metrologyng(hv_i_LightOrDark, out hv_IsStageS  r          if ((iput iconic va      量gRE) +                hvncatObj(ho_o_MeasureContours, h_InspectImg.Dis (hv_idx = 0;   rMe      hv__E: 量g      ho_ (hv_idx = 0;   rri (hs  eageS  rsSet.量eStr =      rSet.AffineTra  rMe (ches, o.Tuple: 量gRE) +句柄对应的银胶 测区域，一量      射矩阵
            // i_Me  o (hs  e    : 量工_Co      提许    gion句柄  多= n量工_Cot.GenE输指         支持4   量工_Co————1-直+工_Co_Re2-：0-1_Co_Re3-圆1_Co_Re4-椭圆1_Cole(), hv_Column     (hs  eFlagSet.量eStr = age.Dispose();
         (hs  eout s: 量         ff = = n量工_Coput应=        //
     f
  量工_Co   //
  ---含t ho__n
   Var            }n =ull, hv_sum1 = null;
            HTuple hv_sum2 = null, hv_MetrologyHandle = null, hv_Sx = nue[3] = new HTupleVector(hv_Area).Clone();
                            hvec_o_FailRegs[3] = new HObjectVector(ho_ChippingFailReg) ;
                        }
                        else
                        {
                            if (hv_o_D      (hs  eout s  }
          表该算子sStri (hs  eageS  rsbjectParam(hv_i_Metrologyng(hv_i_LightOrDark, out hv_IsStri (hs  eageS  rsm(hv_i_Metrology
e量      Flag    if (hv_o_D      (hs  eFlag  }
          表该算子3) + 2);
                    //焊点位置偏移
                    hv__DiffRow = ((hv_RefBondRow - hv_BondRow)).TupleAbs();
                    hv__DiffCol = ((hv_RefBondCol - hv_BondCol)).TupleAbs();
                    if ((int)(new HTuple(hv_BondRadius.TupleGreater(hv_RefBondRads
                ho__RefReg.Dispose();
                ho_RegionUnion.Disp 具
 ;
               ho_RegionUnion.DispageS  r          return;
            }
            //银胶c static voi      hv__EpoxyLen = new       hv__E= nuv_Re图像
            ho_ImageAffinTrans.Dispose();
       spose();
                            ho_o_BondContours = ExpTmpOutVar_0;
                         具
 Value[2] = new HTupleVector(new HTuple(_RefBondRads
                ho__RefReg.Dispose();
                ho_RegionUnion.Disp 具
 ;
               ho_RegionUnion.DispageS  r          return;
            }
            //银胶c static voi                        );
            (ches, o.Tuple      ho_o_BondContour                           hv_o_MeasureFlag = hv_o_Me (ches, o.Tuple      ho_Image, HObject ho_i_InspectReg, HTuple hv_i_DilationSize,
    HTuple hv_i_ThreshGray, HTuple hv_i_LightO(ches, o.Tuple t ho_Contour, hv_Parameter.TupleS_RefBondRads
                ho__RefReg.Dispose();
                ho_RegionUnion.Disp 具
 ;
               ho_RegionUnion.DispageS  r          return;
            }
            //银胶c static voi                       );
           测区域，      ho_o_BondContours.Dispose();
         6e, HObject ho_i_InspectReg, HTuple hv_i_DilationSize,
    HTuple hv_ _ThreshGray, HTuple hv_i_Light测区域， t ho_Contour, hv_Parameter.TupleS_RefBondRads
                ho__RefReg.Dispose();
                ho_RegionUnion.Disp 具
 ;
               ho_RegionUnion.DispageS  r          return;
            }
            //银胶检测结果
e量工_Co      到    持lRe4   tor(
   退柄
          ull;
       实际      dx] v_o_Meuths  e  {, ject ho_o_                 return;
         rs.Disposdx] v_o_Meuths  e  {, 1ect ho_o_spos           retur hv(hm1 hv_o_       //传入)             } hv(hm始_o_spos //传入)             }                       hv(hm1peratorSet.ConcatObj(ho_o_LightImage, ho_(hm ExpTmpOutVar_0);
                ho_o_LightImage.Dispose();
                ho_o_LightImpOutVar_0;
                        m(hs  e to__       //     hv_Parameter.TupleS_RefBondRads
                ho__RefReg.Dispose();
                ho_RegionUnion.Disp 具
 ;
               ho_RegionUnion.DispageS  r          return;
            }
            //银胶检测结果
Tuple()量gRE) +t.GenE
        (
   TmpOutVar            }      hv__Epoxypyutches, ot hv_( = at (ches, o.Tuple h"all"_Lt ho_o_ (ches, o.Tupleuple(), hv_Column 量gRE) +pose()   ho_inspectIneTransRegion(ho_i_InTooncat(out    return;
            }
Sx      }
Sy      }
Phioncat(                   错误Th(c       }
Txoncat(      }
Tyoncat(           return;
         A_Insutches, ot hv_( =  (ches, o.Tuple h}
Txoncat(  }
Tyoncat(                   }
Phioncat(bor");
            HOper量工_Co 引hv_i_Metrologynt)(new HTuple(tutches, o  ho_i点检( =  (ches, o.Tuple h);
                ho_curReg.n 映              (
   TmpOutVar            }leS_RefBondRads
                ho__RefR     else
                        {
        ;的错e,{
        ;  HOperatorSet.TupleGreaterElem(hv_i_MeasureType, 4, out hv
        {




 r量工_Co 引及r(hv_Area  HOper量      le(), hv_Colum
 to__p_v hv_ghtImage, ho_       _o_BondContours.Dispose();
  uple(hvrDilStr66stape to__nto ispose();
                ho_Reg66
  ispose();
                ho_RegionOpening1.Dispose();6           6    ho_RegionOpening.Dispose();
    6           ho_ConnectedRegions.Dispoe,{
                  ret_i_MetrologyHand_Match(ho_i_Image, ho__Sea{
        ;的错e,{
         = hvidxf+ 1)(hv_i_MetrologyHand n_    量工_Co  ho_RegionUnion.Disp 具
 ;
               ho_RegionUnion.D类型，-1-代表异常，-2-代表未执行
            // 具
 ;
  m(hv_i_Metrologyon.D类型，-1-Ap  yutches, ot hv_( // 具
 ;
  ,o_o_ (ches, o.Tupleuple(), hv_Columlogynt)(new HTuple(tutches, o  ho_i__ImgD( =  (ches, o.Tuple h}
       _o_Bonours, ho_Contour, out ExpTmpO   idx) h"all"_L"
     _Open" h"all
    "_Lt ho_o_P        uple(), hv_ColumlogyswigyHa(v_o_Meuths  e  {_o_Bonours, ho_Contour, out ExpTmpO   idx)ObIectangle2(ho__RefReg, out hv_Row, out hv_Ccase 1:, out hv_Row, out hv_Column 直+, out hv_Row, out hv_Colum                       );
         P              ho_o_BondContours.Dis4 ho_o_LightImage.Disposssssssssssss{htImage.Disposssssssssssss       ho (hs  eFlag  }   ho (hs  eFlagho_RegionUnioect ExpTmpOutVar_0;
              vP          }
          表该算子Image.Disposssss  vP        out hv_1表该算子Image.Disposssss  vP        o1t hv_1表该算子Image.Disposssss  vP        o2t hv_1表该算子Image.Disposssss  vP        o3t hv_1表该算子Image.Disposssss spageS  r          ret该算子Image.Disposssss spageS  r  } e,{
         o_inspectImage);
           r_0;
               {
                hv_o_ErrCode = -1;
                hv_o_ErrStr = "bond regi   ho (hs  eFlag  }   ho (hs  eFlagho_RegionUnio0e);
           r_0;
               {
                     (hs  eout s  }      (hs  eout sho_RegionUnio_o_P        uple(), hv_Columlogy      {{htImage.Disposssssssssssssn newv__Diffose();
                ho_AllRegs.Di初始化
            ho_o_LightIma (hs  eageS  rs   spageS  r  Row - hv_IcRow)).TupleAbs();
                hv__Co)          ho_AllRegs.Di初始le(o  (hs  eageS  rsbjectParam(hv_i_MetrologyStr = "bond regi e(o  (hs  eageS  rsion- hv_IcRow)).T         //银}        //银f (hv_o_DefectType == null)
   case 2:, out hv_Row, out hv_Column ：0-, out hv_Row, out hv_Colum                       );
         P              ho_o_BondContours.Dis5 ho_o_LightImage.Disposssssssssssss{htImage.Disposssssssssssss       ho (hs  eFlag  }   ho (hs  eFlagho_RegionUnioect ExpTmpOutVar_0;
              vP          }
          表该算子Image.Disposssss  vP        out hv_1表该算子Image.Disposssss  vP        o1t hv_1表该算子Image.Disposssss  vP        o2t hv_1表该算子Image.Disposssss  vP        o3t hv_1表该算子Image.Disposssss  vP        o4t hv_1表该算子Image.Disposssss spageS  r          ret该算子Image.Disposssss spageS  r  } e,{
         o_inspectImage);
           r_0;
               {
                hv_o_ErrCode = -1;
                hv_o_ErrStr = "bond regi   ho (hs  eFlag  }   ho (hs  eFlagho_RegionUnio0e);
           r_0;
               {
                     (hs  eout s  }      (hs  eout sho_RegionUnio_o_P        uple(), hv_Columlogy      {{htImage.Disposssssssssssssn newv__Diffose();
                ho_AllRegs.Di初始化
            ho_o_LightIma (hs  eageS  rs   spageS  r  Row - hv_IcRow)).TupleAbs();
                hv__Co)          ho_AllRegs.Di初始le(o  (hs  eageS  rsbjectParam(hv_i_MetrologyStr = "bond regi e(o  (hs  eageS  rsion- hv_IcRow)).T         //银}        //银f (hv_o_DefectType == null)
   case 3:, out hv_Row, out hv_Column 圆, out hv_Row, out hv_Colum                       );
         P              ho_o_BondContours.Dis3 ho_o_LightImage.Disposssssssssssss{htImage.Disposssssssssssss       ho (hs  eFlag  }   ho (hs  eFlagho_RegionUnioect ExpTmpOutVar_0;
              vP          }
          表该算子Image.Disposssss  vP        out hv_1表该算子Image.Disposssss  vP        o1t hv_1表该算子Image.Disposssss  vP        o2t hv_1表该算子Image.Disposssss spageS  r          ret该算子Image.Disposssss spageS  r  } e,{
         o_inspectImage);
           r_0;
               {
                hv_o_ErrCode = -1;
                hv_o_ErrStr = "bond regi   ho (hs  eFlag  }   ho (hs  eFlagho_RegionUnio0e);
           r_0;
      ssss spageS  r          ret该算子Image.Disposssssng(hv_i_LightOrD_o_Bon hv_IsStageS  r = hvP        atorSet.ConcatObj(hoP        atorSet.ConcaupleAbs();
                hv__Co1Obj(hoP        atorSet.Conca2)e);
           r_0;
               {
                     (hs  eout s  }      (hs  eout sho_RegionUnio_o_P        uple(), hv_Columlogy      {{htImage.Disposssssssssssssn newv__Diffose();
                ho_AllRegs.Di初始化
            ho_o_LightIma (hs  eageS  rs   spageS  r  Row - hv_IcRow)).TupleAbs();
                hv__Co)          ho_AllRegs.Di初始le(o  (hs  eageS  rsbjectParam(hv_i_MetrologyStr = "bond regi e(o  (hs  eageS  rsion- hv_IcRow)).T         //银}        //银f (hv_o_DefectType == null)
   case 4:, out hv_Row, out hv_Column 椭圆, out hv_Row, out hv_Colum                       );
         P              ho_o_BondContours.Dis5 ho_o_LightImage.Disposssssssssssss{htImage.Disposssssssssssss       ho (hs  eFlag  }   ho (hs  eFlagho_RegionUnioect ExpTmpOutVar_0;
              vP          }
          表该算子Image.Disposssss  vP        out hv_1表该算子Image.Disposssss  vP        o1t hv_1表该算子Image.Disposssss  vP        o2t hv_1表该算子Image.Disposssss  vP        o3t hv_1表该算子Image.Disposssss  vP        o4t hv_1表该算子Image.Disposssss spageS  r          ret该算子Image.Disposssss spageS  r  } e,{
         o_inspectImage);
           r_0;
               {
                hv_o_ErrCode = -1;
                hv_o_ErrStr = "bond regi   ho (hs  eFlag  }   ho (hs  eFlagho_RegionUnio0e);
           r_0;
               {
                     (hs  eout s  }      (hs  eout sho_RegionUnio_o_P        uple(), hv_Columlogy      {{htImage.Disposssssssssssssn newv__Diffose();
                ho_AllRegs.Di初始化
            ho_o_LightIma (hs  eageS  rs   spageS  r  Row - hv_IcRow)).TupleAbs();
                hv__Co)          ho_AllRegs.Di初始le(o  (hs  eageS  rsbjectParam(hv_i_MetrologyStr = "bond regi e(o  (hs  eageS  rsion- hv_IcRow)).T         //银}        //银f (hv_o_DefectType == null)}            }}  s.Di初始化
           ontoutches, ot hv_( =  (ches, o.Tuple      ho_curReg.n e, our量      le(), hv_ColumgeScaled_L.Dispose();()rst(      (hs  eFlag _1的错误_COPY)         //银GenEmptyObj(out ho__Targets);
          if ((in             ho_Contour = ho__InspectReg.CopyObj(1, -1);
                        }
        分llegalr(ho__            hv_Parameter.TupleS_RefBondRads
                ho__RefReg.Dispose();
                ho_RegionUnion.Disp 具
 ;
               ho_RegionUnion.DispageS  r          return;
            }
            //银胶         {
                hv_o_ErrCode = -1;
                hv_o_ErrStr = "para i_HomMatMod2Imgm(hs  e nspect_Threshold(HObject ho_i_hv__RefBondRads
                ho__RefReg.Dispose();
                ho_RegionUnion.Disp 具
 ;
               ho_RegionUnion.DispageS  r          return;
            }
            //银胶urn;
    l", "result_thv__RefBondColFag);
             //Bo", "result_t       out hv_Phi1, out] = nose();
       HTV_HomMatMod2Img, HTuple hv_i_ThreshG
       hv_i_LightOrDark,    easureType, 4, out hv] = nRads                   HObject ExpTmpOutVar_0;
                           HOperatorSet.ConcatObj(ho_o_BondContours, ho__BondContour, out ExpTmpOutVar_0
         __DiffRow /__BondContour,] = nho_Th__BondContour,] = nHeiarameter       ho__BondContours.Dispose();
                ho__BondReg.Dispose();
                ho__BondContour.Dispose();

                return;
    }
            hv_i_RefAngle, hv_i_RowDiffTh, hv_i_ColDiffTh,
                    hv_i_AngleDiffTh, out hv__LocPara, out hv__DiffPara, out hv__ErrLocCode,
   E0;
Code,未执行
       执    ea; out hv__ErrLocCode,
                          v] = nRad(new HTll;
                               v] = nRado_ErrCode: 错误码，代
            HTuple hv__RefColumn = null, hv__RefPhi = null, hv_Reesult Sto hv_idx = hvours     out h; -1);
                 ours的 hv_idx = hvoursPh           hoursHTuple hv_i_MatchNum, out HTuple hv_ursHTu

            = nion.Dis__ImgDIdx))).TupleConcat(hv_i_Metrologyr.Dispoe = nul,v_RefLenv_Metr_idx = hv__ImgDnd_Measure(HObject ho_i_Image, HObjec = nho_  }
               ,] = nHei   // Initialize local and output iconic variables 
            HOperatorSet.GenEmptyObj(out ho_o_BondContouPh     les 
             ic s  // Initialize local and output iconic va1riables 
            HOpe1ratorSet.GenEmptyObj(out ho_o_BondContouPh 1riables 
          HTuple h/ Initialize local and output iconicHTu

les 
          c = nho_  }
          e local and output iconic      iho_  }
                     iHei   // Initialize local and output iconicc = nIsOK  }
               ic s  // Initialize local and output iconicIsOKSv_o_ErrCode, out           ho_da  return;
            }
            HOperatorSet.TupleIsString(hv_i_LightOrDark, out hv_IsStri] = nRadom(hv_i_Metrologynt)(new HTuple(hv_IsString.Tuple到: 错m(hv_i_Metrologynt)(new HTuple(hv_IsString.Tuple           m(hv_i_Metrologyng(hv_i_LightOrDark, out hv_IsSt    ea();
            HTuple hv_Len2 = new HTuple(), hv_EpoxyLen = new HTuple();
            HTuple hv_GreaterLe] = nRad = new HTuple();              _ErrCode: 错误码，代      if ((iput iconic v hv_Sx = null;
  域，  //Bo = null;i_((ne  //Bo/Bo测参数       足     e();
ameter.TupleSelect(2));
   //初始化
            hMeasure h_InspectImg.Dis (hv_idx = 0;   shG
     :        /胶                }
     ho_RegionOpe     、    左   右     h来排i_Dispose();
         = nRad:       ut ho_o_EpoxyRegs)t, o  if          ho_Regio、    左   右 /put应=    HTuplerSet.AffineTransImage(ho_iSet       _Para                              ho__IcR----------Str);

            //对ieorSet.ConcatOSet区域的来排列mg.Dis射矩阵
            // i_Me o半径
                    hv__RefBondRow = hv__RefBondParas.TupleSelect((hv_idx * 3) + 0);
                    hv__RefBondCol = hv__RefBondParas.Tu    //Bolect((hv_idx * 3) + 1);
                 __DiffRow /ndRadius = id HTVfBondParas.TeEqual(0)t((hv_idx * 3) + 2);
          ho_ThSet      长v__RefBondR0-1hvRe      长v__Ra      长v__ //oBondR     h左右 * 3) + 2);
          HeiarSet      最高v__距离      胶区if  v__ dR     h左右if  v__  单的            ho__IcSureType: 测量工具.GenEmp      长v__oBonureType: 测.m = (Re      高v__ureType: 测.m =1]工具，并刈指定类型，支挴线工具，2-矩形工具/o_DefectType：输出缺陷类型
            //o_ErrCode: 错误码，代表该算子执行gion.Dispose();
                ho_RegionOpening1.Dispose();
                ho_RegionOpening.Dispose();
                ho_ConnectedRegions.Dispose();
                ho__IcRe  else
                        {
          In                         IsStri] = nRado          ret.TupleIsString(hv_i_LightOrDark, out hv_IsStri] = nRadom(hv_i_MetrologymptyObj(out ho_o_DarkImage);
         nt)(new HTuple(hv_IsString.Tuple到: 错m(hv_i_Metrology              量结果
            HOpe到: 错m(hv_i_Metrology       程中产生   );
     
                    {
             ntObj(ho_i_Image, out hv_imgNum);
            ifge, out hv_imgNumge, out hv_imgNumge, 点正1   {
             ntObj(ho_i_Image, out hv_imgNum);
            ifge, out hv_imgNumge, out hv_imgNumge, (hv_i_Metrology  _FailRegs[hv_idx        ho_inspectImage.Dispose();
                ho_Contour.Dispose();

                return;
            }
            if ((int)((new HTuple((new HTuple(hv_i_MetrologyHandle.TupleLength())).TupleEqual(
                0))).TupleOr(new HTuple(hv_i_MetrologyHandle.TupleLess(0)))) != 0)
            {
                hv_etMetout ho_o_DarkImage);
         gs.Dispose();
                ho__InspectReg.Dispo    ea
                ho__InspectReg.Dispose();
                ho__RefReg.Dispo] = nRad
                ho__RefReg.Di    v] = nRado          return;
            }
            //银胶检测结果
---------       }
  检测结果
       }
  e：pose()   ho_inspectIle, ull, hv__RefBondRow = new HTuple();
            HTuple hv__RefBondCol = new HTuple(), hv_RefBondRadius = new HTuple();
            HTuple hv_RefBondRow = new HTuple(), hv_R//pose()-     e：HTuple(), hv_Rispo    ea
                ho__InspptyObj(out ho_EmptyFailReg);
        fTuple(), hv_R  fTuple = new HTuple();
            HTuple hv_RefBondRow = new HTuple(), hv_RptyObj(out hoSmaltor ctReg.Dis2(hv_R  fTuple错误oursspe,_错误ours的                   错误oursPh ,_错误ursHTup,_错误ursHTu              ho_Reor(ho__BondContourperatoic var       }
  检测结果i    v] = nRado          ret_i_Metrology out] = n_      HTV_cessful";
     = new HTuple(), h    v] = nRado,Sum();
            hv_sum2 = hv_Less.TupleSum();
       __DiffRow /__误oursspe,_误ours的 e(), h      = nion.Dis__ImgD                   错误o   rCod, 错误o   (-2)))).Insert(1, new odeonOpen
            if ((int)(new HTuple(hv_Sum.TupleNotEqual(0))) != 0)
            {
                hv_o_ErrCode = 1;
                hv_o_ErrStr = "Fail to one or more Bond";
              etMetout ho_o_DarkImage);
         gs.Dispose();
                ho__InspectReg.Dispo    ea
                ho__InspectReg.Dispose();
                ho__RefReg.Dispo] = nRad
                ho__RefReg.Di    v] = nRado          return;
            }
            //银胶检测结果
       }
      {
                HObse();

                    = nion.Dis__ImgD  错误__ImgDnd_   if ((int)((new HTuple((new HTuple(hv___ImgDnd_ ExpTmpOutVar_Length())).TupleEqual(
                0))).TupilRegs[hv_idx9       ho__InspectReg.Dispose();
                ho__RefReg.D HTuple();
            se();
   hv_BondRow = new HTuple(), hv_BondCol =               量结果
            HOpew = new HTuple(), hv_BondCol =                              HOperatorSet.C   ho__InspectRegs.Dispose();
                ho__InspectReg.DispctRegs.Dispose();
le(), hv_BondCol =                    1         HOperatorSet.C   ho__InspectRegs.Dispose();
                ho__InspectReg.DispctRegs.Dispose();
le(), hv_BondCol = = hv_o_MeStr =tializing";
 0))).TupleOr(new HT1;tializing";
 0))).TupleOr(new H }
    _   o littDi  {
                hv_etMetout ho_o_DarkImage);
         gs.Dispose();
                ho__InspectReg.Dispo    ea
                ho__InspectReg.Dispose();
                ho__RefReg.Dispo] = nRad
                ho__RefReg.Di    v] = nRado          return;
            }
            //银胶         {
                hv_o_ErrCode = -1;
     c = nho_  }
          e local and out;
     c = nHei   // Initialize local and outhv_RptyObj(out hoSmaltor ctReg.Dis2(hv_R  fTuple错误ho_InspectImg);
          Ph ,   ho__InspectReg.Disp错误ursHTup,_错误ursHTu              ho_               ic s  
            ic s化
       ic s             ic s        hv_o_ErrSt  hv_o_ErrCode = -1;
 eg.Dispo] = nRad
                ho__RefReg.D        }
            //检测区域
            HOperatorSet.CountObj(ho_i_InspectRegs, out hv_regNum);   v] = nRad(nei    v] = nRado[      ic ].O o_inspectImage);
           r_0;
  }orSet.CountObj(ho_i_InspectRegs, out hv_regNum);wv__Diffose();
                ho_AllRegs.Di初
            ho_o_LightIma] = nRado,Su  v] = nRad  Row - hv_IcRow)).T)          ho_AllRegs.Di初sStri] = nRado          ret.TupleIsStrilRegs.Di初sStri] = nRadoispose();
                ho_AllRegs.Dispose();
         olum                              = nion.Dis__ImgDatorSet.Conca      ic ndContour                         ExpTmpOutVar_0;
                        }
                    }
            Smaltor ctReg.Dis2(hv_R] = nRad       //o_BonnspectImg);
 ondParas：检测到的Bond位置及半Ph 1ect ho_o_spn1ect ho_o_spn2 ret.TupleIsStrilRegs.Di初//      高v__et.TupleIsStrilRegs.Di初    c = nHei       c = nHeiegs.Dispose()_o_spn2 ret.TupleIsStrilRegs.Di初_ImageAffinTrans.Dispose();ic  rs.Disposdurs = ExpTmpOutVar_0;
                    }
                    }ectImag    h      长v__oBon }
                    }ectI   c = nho_  }   HTupl/误ursHTup; }
                    }ectI    c = nho_  }    c = nho_egs.Dispose()_o_c = nho_e);
           r_0;
               {
                hv_o_ErrCode = -1;
                hv_o_ErrStr = "bond regi//左右      长v__oBon }
                    }ectI   c = nho_  }   HTupl/误ursHTu2; }
                    }ectI    c = nho_  }    c = nho_egs.Dispose()_o_c = nho_e);
           r_0;
               {
           }        //银    ctangle2(ho__RefRessss{htImage.Disposssssssssssss    c = nHei       c = nHeiegs.Dispose()T)          ho_AllRegs.Di初s   c = nho_  }    c = nho_egs.Dispose()0e);
           r_0;
  }orSet.CountObj(ho_}orSet.CountObj(ho_//      长v__oBon_BondCTuple(eStr =tializing";
 0))ull;
       实际      dx] v_o_ c = nho_,ntour,] = nho_Th__t ho_o_      iho_e);
           r_0;//      高v___BondCTuple(eStr =tializing";
 0))ull;
       实际      dx] v_o_ c = nHei,ntour,] = nHeiarameter         iHeie);
           r_0;// lee, ou         ho_长vg信恐    足;
           r_0;nicc = nIsOK  }
          );
           r_0;           ho_ImageScaled_L.Disp3            ho__sub_light_thresh_image.Dissss{htImage.Disposssssssss                       (_o_      iho_
                ho_ght(         iHei      {
                    hv_o_ErrCode ic tt, ho_RegdRadius));
                  efRessss{htImage.Disposssssssssssss  yRegs)if          ho_ 足e();
ameter.TupleSe        r_0;nicc = nIsOK  }nicc = nIsOKegs.Dispose()0e);
           r_0;
  }orSet.CountObj(ho_    ctangle2(ho__RefRessss{htImage.Disposssssssssssss  yRegs)if          ho_s.Di足e();
ameter.TupleSe        r_0;nicc = nIsOK  }nicc = nIsOKegs.Dispose()1e);
           r_0;
  }orSet.CountObj(ho_}orSet.CountObj(ho_//--------


      h左右           c var       }
  最终eStr = null, hv__RefBondRow = se();

                c = nIsOKameter   IsOKSv_e);
           r_0;                        IsOKSv_ ExpTmpOutVar_Length())).TupleEqual(
ssss{htImage.Disposssssssss).TupilRegs[hv_idx9       ho__InspectRectReg.Dispose();
                ho__RefReg.Deg.D HTuple();
            se();
   hv_BondRow = new HTuple(), hv_BondCol = l =               量结果
            HOpew = new HTuple(), hv_BondCol =           }
            HOperatorSet.ClearMetrol] = nho_l(hv_MetrologyHandle);
            //4] = -1;
                            ] = nHeil(hv_MetrologyHandle);
                 HOperatorSet.ConcatObj(ho_o_EpoxyRegs, ho__Ep}
    _   o littDi  {
                    hv_etMetout ho_o_DarkImage);
         gs.Dgs.Dispose();
                ho__InspectReg.Deg.Dispo    ea
                ho__InspectRectReg.Dispose();
                ho__RefReg.Deg.Dispo] = nRad
                ho__RefReg.D    i    v] = nRado          return;
                }
            //银 {
                       .TupleEqual(
ssss{htImage.Disposssssssss).TupilRegs[hv_idx0le(), hv_BondCol = l =                =               (hv_MetrologyHandle);
              }
            HOperatorSet.ClearMetrol] = nho_l(hv_MetrologyHandle);
            //4] = -1;
                            ] = nHeil(hv_MetrologyHandle);
                 HOpera0orSet.ConcatObj(ho_o_EpoxyRegs, ho__Ep}
    _ OK  {
                    hv_etMetout ho_o_DarkImage);
         gs.Dgs.Dispose();
                ho__InspectReg.Deg.Dispo    ea
                ho__InspectRectReg.Dispose();
                ho__RefReg.Deg.Dispo] = nRad
                ho__RefReg.D    i    v] = nRado          return;
                }
            //银 {
               }        l", "result_t       out hv_Phi1, outE = n_      HTV_HomMatMod2Img, HTuple hv_i_ThreshG
                        HObject ExpTmpOutVar_0;
        ] = nRad  "resu(ho_o_BondContours, ho__BondContour, out ExpTmpO_0
         __DiffRow /__BondContour,ursspe, "resu(ho_o_BondCoursse();

           = nion.Dis__ImgD            r = new HTuple();
                            hv_Paramete}
            hv_i_RefAngle, hv_i_RowDiffTh, hv_i_ColDiffTh,
                    hv_i_AngleDiffTh, out hv__LocPara, out hv__DiffPara, out hv__ErrLocCode,
   E0;
Code,未hv_EpoxyLen = hv_Le具
 ;
         ; out hv__ErrLocCode,
         spose();
        __DiffR1 hv_idx = 表异常，-2-       ; out hv__ErrLocCode,
    ] = nRadspose();
     {
spose();
                ho__BondRegs.Dispose();
        ] = n
    HTuple hv_i_HomMatMod2Img, HTuple hv_i_DilationSize, HTuple hv_i_ModelType,
    HTuple hv_i_ModelID, HTuple hv_i_Score, HTuple hv_i_AngleStart, HTp_val61); hv_idx = hv_idx.TupleAdd(step_val61))
            {
                ho__BondReg.Dispose(();ic delID, HTuple hv_i_Score, HTuple_ImageAffinTrans;
     ursspe_BondRow)).TupleAbs();
                urgg);
 geAffinTrans;
        tx.TupleAdd(step_val61))
            {
      ] = n// Local iconic variablic ] = neAdd(step_val61))
            {
      _ImaRadspos         //********Radspos         //))
            {
      g);
 Radspos         //        tPPspos         //))
            {
      uple hv_Row = new HTuple(), hv_Column = new HTuple();
            HTuple hv_Phi = new HTuple(), hv_regIdx = new HTuple();
      E0;
Code,tyObj(out ho__InspectReg);
            HOperatohv_EpotyObj(out ho__InspectReg);
            HOperato 具
 ;
     if (hv_o_DefectType == null)
                        hv_o_DefectType = new HTuple();
                    hv_o_DefectType[hv_idx] = 22;
                    hve表异常，-2- = new HTuple();
            HTuple hv_GreaterLe] = nRad = new HTuple();pe = new HTuple();
               {
   hv_o_ErrCode = -1;
                hv_o_ErrStr = "measure tools unsupport!";
                ho__InspectR] = nre tools unsuppo       ] = nRad_ErrCode: 错误码，代      if ((iput iconic vf ((i hv_Sx = null;
  域，  //Bo = nul
            hMeasure h_InspectImg.Dis (hv_idx = 0;   shG
     :        /胶                }
     ho_RegionOpe     、    左   右     h来排i_Dispose();
         = nRad:       ut ho_o_EpoxyRegs)t, o  if          ho_Regio、    左   右 /put应=    HTuplerSet.AffineTrans o半径
                    hv__RefBondRow = hv__RefBondParas.TupleSelect((hv_idx * 3) + 0);
                    hv__RefBondCol = hv__RefBondParas.Tu    //Bolect((hv_idx * 3) + 1);
                 __DiffRow /ndRadius = id HTVfBondParas.TeEqual(0)t((hv_idx * 3) + 2);
         hv_Pa         ho_-     ICureCons.Te标 * 3) + 2);
        g);_Pa         ho_-     IcureConi_De标 * 3) + 2);
       = nion.Dis__ImgD_Pa      yRegs)      Flag    if (hv_o_D/o_DefectType：输出缺陷类型
            //o_ErrCode: 错误码，代表该算子执行gion.Dispose();
                ho_RegionOpening1.Dispose();
                ho_RegionOpening.Dispose();
                ho_ConnectedRegions.Dispose();
                ho__IcRe  else
                        {
          In                         IsStyObj(out ho_o_DarkImage);
         nt)(new HTuple(hv_IsString.Tuple到: 错m(hv_i_Metrology    }
            //检测区域
            HOperatorSet.CountObj{htImage.Disposssss       ] = nRad_Er.Tak   htImage.Disposssss  if.ose(rCode: 错误码，            .ose(rCode: 错误码ple到: 错m, (hv_i_Metrology                      = nion.Dis__ImgDIdx)
          表该算子3) + 2);
                    //焊点位置偏移
                    hv__DiffRow = ((hv_RefBondRow - hv_BondRow)).TupleAbs();
                    hv__DiffCol = ((hv_RefBondCol - hv_BondCol)).TupleAbs();
                    if ((int)(new HTuple(hv_BondRadius.TupleGreater(hv到: 错  return;
            }
   atohv_Epo  return;
            }
   ato 具
 ;
               ho_RegionUnion.DispErrCode: 错误码，代表该算子执行过程中产生的错误，0-代表正常表异常，-2-
                ho__RefReg.Dispo] = nRad
                ho__RefReg.Di     {

                ho__InspectReg.Dispose();
                ho__RefReg.DispctR] = n                    hvec_o_DefectValue[hv_idx] = new HTupleVector(((new HTuple(-1)).TupleConcat(
                            -1)).TupleConcat(-1));
                        hvec_o_FailRegs[hv_idx] = new HObjectVector(ho__BondReg);
                        //输出位置到: 错  return;
            }
   atohv_Epo  return;
            }
   ato 具
 ;
               ho_RegionUnion.DispErrCode: 错误码，代表该算子执行过程中产生的错误，0-代表正常表异常，-2-
                ho__RefReg.Dispo] = nRad
                ho__RefReg.Di     {

                ho__InspectReg.Dispose();
                ho__RefReg.DispctR] = n                    hvec_o_DefectValue[hv_idx] = new HTupleVector((out ExpTmpOutVar_0
                                );
                            ho_o_BondContours.Dispose();
                            ho_o_BondContours = ExpTmpOutVar_0;
                        }
                    }
                    els到: 错  return;
            }
   atohv_Epo  return;
            }
   ato 具
 ;
               ho_RegionUnion.DispErrCode: 错误码，代表该算子执行过程中产生的错误，0-代表正常表异常，-2-
                ho__RefReg.Dispo] = nRad
                ho__RefReg.Di     {

                ho__InspectReg.Dispose();
                ho__RefReg.DispctR] = n                    hvec_o_DefectValue[hv_idx] = new HTupleVector((out ExpTmpOutctValue[hv_idx] = new HTupleVector(((new HTuple(-1)).TupleConcat(
                            -1)).TupleConcat(-1));
                        hvec_o_FailRegs[hv_idx] = new HObjectVector(ho__BondReg);
                        hv_o_BondParas = hv_o_BondParas.TupleConcat到: 错  return;
            }
   atohv_Epo  return;
            }
   ato 具
 ;
               ho_RegionUnion.DispErrCode: 错误码，代表该算子执行过程中产生的错误，0-代表正常表异常，-2-
                ho__RefReg.Dispo] = nRad
                ho__RefReg.Di     {

                ho__InspectReg.Dispose();
                ho__RefReg.DispctR] = n                    hvec_o_DefectValue[hv_idx] = new HTupleVector(((new HTuplle(-1)).TupleConcat(
       程中          ho_o_BondContours.Dispose();
                            ho_o_BondC程中          hoVar_0;
                        }
                    }
                    else if ((int)((new HTuple(((hv__DiffRow / hv_RefBondRadius)).TupleGreater(
        到: 错  return;
            }
   atohv_Epo  return;
            }
   ato 具
 ;
               ho_RegionUnion.DispErrCode: 错误码，代表该算子执行过程中产生的错误，0-代表正常表异常，-2-
                ho__RefReg.Dispo] = nRad
                ho__RefReg.Di     {

                ho__InspectReg.Dispose();
                ho__RefReg.DispctR] = n                    hvec_o_DefectValue[hv_idx] = new HTupleVector((t ExpTmpOutVar_0
                                );
                            ho_o_BondContours.Dispose();
                            ho_o_BondContours = ExpTmpOutVar_0;
                        }
                    }
                    else
                    {
                        //焊点正常
                        if (hv_o_DefectType == null)
                            hv_o_DefectType = new HTuple();
                        hv_o_DefectType[hv_idx] = 0;
                        hvec_o_DefectValue[hv_idx] = new HTupleVector(((hv_BondRow.TupleConcat(
                            hv_BondCol))).TupleConcat(hv_BondRadius));
                        hvec_o_FailRegs[hv_idx] = new HObjectVector(ho_EmptyFailReg);
                        //输出位置、焊点轮廓HTupleVector((t 输   4胶 tion is successful";
               {
   ose();64      r()nto ispose();
                ho_Reg64
  ispose();
                ic s  
       ic ning1.Dispose();64          64   ho_   ic s  ho_   ic g.Dispose();
    64          ho_ConnectedRegions.Dispoe,hv_Epo  return;
            }
   _Match(ho_i_Image, ho__Sea                   Rehv_Epo = hv   ic s    
            }
   _Match(ho_i_IRegs);
      hv_Epo =rSet.GenEmptyObj(out rsspe,_错误urgg);
  
            }
   _Match(ho_i_IDi "necePp(ogyHandle, hv_Indices.TupleSendle, hv_Inurgg);
 ,   ho__InspectReg.Disp错误   tx.Tupl
            }
   ato 具
 ;
               ho_RegionUnion.D类型，-1-代表异常，-2-代表未hv_Epo =rSet.to 具
 ;
     if (hv_o_Defeon.DispErrCode: 错误码，代表该算             ho__BondContour.Dispos      hv__spErrCod        return;
            }

        }
 }

        public : ius d HTVfBondP，代表该算子执行过程中产生的错误，0-代表正ho_o_BondContours,
    HTuple hv_i_MetrologyHandle, HTuple hv_i_H__DiffRow /误，0-代表正常表异常，-2-
                ho__RefReg.Ds 

            // Local control variae h    hve表异常，-2- = new HTuple();) != 0)
            {
                hv_o_ErrCode =] = n// }

        }
 }

yRegs)t格if          ho_      ho__RefReg.Dispo] = nRad
                ho__RefReg.D
            HTuple hv_GreaterLe] = nRad = new HTuple();     {
   ose();76  }nicc = n0))) != 0)
                   ho_Reg76  }1);
           r_0;           ] = neAd1;iablic ] = nning1.Dispose();76          76);iablic ] = n  }nicic ] = ng.Dispose();
    76)       {
                        //焊点     {

                ho__InspectR_Loc_Match(ho_i_Image, ho__SearchReg, hv_i_ModelType, h   {
riablic ] = n        ho__InspectR_Loc_Match(ho_i_IRegs);
         {
rirSet.GenEmpRad       //o_BRad       //g);
 Rad        ho__InspectR_Loc_Match(ho_i_IDi "necePp(ogyo_BRad   //g);
 Rad,logyHandle, hv_Indices.Tup   ho__InspectReg.DispDisp错误   tPP        ho__InspectR_Loc



          ho_ureCons离ICureCons离 null,g信ho_o        ho_      ho__RefReg.D   }
                    }   tPP      hoVar误   tx.Tupl);
                  efRessss{htImage.Disposssssssssssss{htImage.Disposssssssssssssn newv__Diffose();
                ho_AllRegs.Di初始化
            ho_o_LightIR] = nRad        {
rirSet- hv_IcRow)).T)          ho_AllRegs.Di初eg.Dispo] = nRad
                ho__RefReg.DDDDDDDDDDDDDispo] = nRadion- hv_IcRow)).T         //银}        //银}        //银}            }_Loc

f = n tValue：泚    ho     LocPara = new HTupl    v_o_Mput ima      ho__InspectReg.Dispose();
                ho__RefReg.D HTuple();
            ] = nRad       rStr = "measure tools unsuppo在测量 = i     e：泚  nd_Mea      ho__RefReg.DispctR] = n             eg.Dv_o_MeasureResult, out HTuple hv_o_BondParas, ou //银胶检ctR] = n hv_i_H__DiffRow /误，0-代表正 0)
            {
     as, ou //银胶检           hv__EpoxyHei = new HTuple()                     {
                        //焊点
yRegs)度=              //焊点       = nion.Dis__ImgDIdx       = nion.Dis__ImgDegs.Dispose()0e);
           r_0;ctType = new HTuple();
                        hv_o_DefectType[
yRegs)t败              //焊点       = nion.Dis__ImgDIdx       = nion.Dis__ImgDegs.Dispose()1e);
           r_0;ctType = new HTuple       ] = nRad[      ic ]结果
            HOpew =] = n        ho__Insp    hHOperatorSet.ApplyMetrologyModel(ho_inspectImage, hv_Metro] = n              {
                hv_o_Er到: 错  return;
            }e,hv_Epo  return;
            }ato 具
 ;
               ho_RegionUniispErrCode: 错误码，代表该执行过程中产生的错误，0-代表表异常，-2-
                ho__RefRispo] = nRad
                ho__RefR     {

                ho__Inspeg.Dispose();
                ho__RefRispctR] = n                    hvec_o_     hv_idx), "all", "          hv__RefBondCol = hv__R         d HTV", "result_t//读                  * "result_t       out hv_Phi1, outatches.TupleSelect(3),od2Img,
                                "ne "resu(ho_o_BondCot hv_ouch
             PosTo            r = neureParas hv_Parameter = new HTuple();
                            hv_Parameter[0] = -1;
                            hv_Parameter[1] = -1;
        Pos
                spose();
          "n
    HTuple hv_i_HomMatMod2Img, HTuple hv_i_DilationSize, HTuple hv_i_ModelT hv_i_AngleStart, HTuouchMeasure(HObject ho_i_Image, HObjefi, ouchMeasuret, HTPosle(hv_ParMeasuret, HTPosle(hvIDIdx)
          表该算子hv_i_HomMatMod2Img, hv__RefBondRTPosTPosIdx)
          表该算子hv_i_HomMaPosTPosle(hv_ParMeas         //     PosTPosle(hvIDIdx)
          表该算子hv_i_HomMa PosTPosuple hv_o_ErrStr)
        {PosTPosw HTuplIdx)
          表该算子hv_i_HomMa PosTPos      Meas         //     PosTPosureParasIdx)
          表该算子hv_i_HomMampOutVar_0;
 _o_ErrStr)
        {Posuple hv_o_ErrStr)
   表该算子hv_i_HomMa Posw HTuplIdx)
          ,omMa Posw H   Meas         //表该算子hv_i_HomMa           ur.Dispose();
         urs = v_Row = new HTuple(), hv_Column = new HTuple();
            HTuple hv_Phi = new HTuple(), hv_regIdx = new HTuple();
      Pos
  uple(), hv_Columv_regIdx = new HTuple();
               dreg" + hv__ErrMeasureStr;

                return;
            }
            else
                               ;
                ho_Chippi/初始化
            hMeasureResameter = new;
      
            hMe            DieeasureParas ;
                ho_ChiStr);

            //对iet hv_ouch0)
 放gRE) +   路径RegionOpe指t lhvs );
 件         //对iePosTo)
用阈属 age.Dispose();
     板句Str);

            //对neureParas)
活得射矩阵
            // i_Me  hv_o_ErrCode = -1;
                h__o_ErrStr = "fail to HTV_Ic_Exist" + hv__ErrExistStr;
g.Dispose();
 
            hv_o_LocPara = new HTuple();
            //计算芯片中心,应该传入芯片外接矩形框
            HOperatorSet.AreaCenter(ho_i_Inspec                }
                    3)                  else
                        {
                        {
            3)                  eureParasIdx)
          表该算子    eureParasout hv_regNum);
            if ((aso1t hv_regNum);
            if ((aso2t hv_regNum);
            if ((aso3t hv_regNum);
            if ((aso4t hv_regNum);
            if ((aso ho__InspectRegs.Dispo3)              mage.Disp
                    //焊点位置偏移ctValue[hv_idx] = nt hv_ouchctor(((new HTuple(-1)).TupleConcat(
                             -1)).TupleConcat(-1));               ho_o_ureFlag = hv_o_Me  hv_ouch_o_BondContour1)).TupleConcaConc, ho_RegdRadiu00;
                        }
                    }
                    else if ((int)((new HTuple(((hv  hv_oucho_BondParas = hv_     HTuple(((|hv  hv_ouch| hv_RefBondRadius)).TupleGreater(
        Pos
  ew HTuple("row")).TupleConcat(
                "column")).TupleConcat("ra   {
                            hv_o_MeasureFlag = hv_o_MeasureFlag.TupleC位置偏移ctValue[hv_idx] = nPosToctor(((new HTuple(-1)).TupleConcat(
                             -1)).TupleConcat(-1));               ho_o_ureFlag = hv_o_MePosTo_o_BondContour1)).TupleConcaConc, ho_RegdRadiu00;
                        }
                    }
                    else if ((int)((new HTuple(((hvPosToo_BondParas = hv_     HTuple(((|hvPosTo| hv_RefBondRadius)).TupleGreater(
        Pos
  ew HTuple("row")).TupleConcat(
                "column")).TupleConcat("ra   {
                            hv_o_MeasureFlag = hv_o_MeasureFlag.TupleC3)               HTuouchMeav_o_Me  hv_ouchut HTuhvPosTo.TuplleConcat(-1));
 //读gs)tement_1(HObject ho_i_ImagObjefi, ouchMea HTuouchMupl     pErrCoder      hv_Parameter   Pos
  ew HTuple("row")).TupleCo类型，-1-代a，-2-
      Pos
  ,gObjefi, ouch         }
      ject ho_i_ImagObjefi, ouchMea HTuouchMupl        {_tup""row")).TupleCo类型，-1-代ag = hv_o_efi, ouchctor(((nePosle(hv_Par         }
    Objefi, ouchMea HTuouchMuplPosle(hv.duc""row")).TupleCo
                    }Posle(hvegNum - 1;
            HTuple step_val61 = 1;
            for (hv_idx = 0;a_idx.Conv_o_efi, ouchctor(((nePosle(hvIntyObj(out ho__In                           hv_BondCol))).TupPosle(hvDispose();
                HOperatorSet.SelectObj(ho__BondRegs, out ho__BondRagth()x.Conv_o_efi, ouchctor(((nePosle(hvIntyObj(out ho__In               //读gs) = "属用传归属用       }
    Objefi, ouchMea HTuouchMuplOnWtht_tup""row")).TupleCo类型，-1-tMod2Img, v_o_efi, ouchctor(((ne                hvec_o_DefectValue[hv_idx] = new HTupleVector(((new HTuple(-1)).TupleConc类型，-1-代ag = hv_o_efi, ouchctor(((ne PosTPosre tools unsuppo在测 tools unsuppo在 HTuouchMeav_o_Me  hv_ouchut HTu PosTPosrTuplleConcat(-1));
 ImagObjefi, ouchMea HTuouchMupl        {_tup""row")).TupleColeCo类型，-1-代ag = hv_o_efi, ouchctor(((nePosePosle(hv_Par         }
        Objefi, ouchMea HTuouchMuplPosle(hv.duc""row")).TupleColeCo
                    }PosPosle(hvegNum - 1;
            HTuple step_val61 = w HTuple(-1)).TupleConc for (hv_idx = 0;a_idx.Conv_o_efi, ouchctor(((nePosePosle(hvIntyObj(out ho__Inr_0;ctType = new HTuple();o
                    }PosPosle(hvegNum - 1;
                HOperatorSet.Selecw HTuple(-1)).TupleConc for (hv_idx = 0;agth()x.Conv_o_efi, ouchctor(((nePosePosle(hvIntyObj(out ho__Inr_0;ctType = new HTuple tools unsuppo在测F1, new HTupleVector tools unsuppo在 ho_SubFailReg.Dispose();
                hoPosPosle(hvegNu     PosTPosle(hvIDp   ho__InspectReg.Disp0.8  -0.39  0.78  1ctor(((ne PosTPosv_o_MeasureFlag =PosTPosw HTuplsureFlag =PosTPosw H配定位起角度范围
            //  i_MatcPosTPosw HTuplOperatorSet.SmallestRectangle2(ho__RefReg, out hv_Row, out hv_C          , out hv_Row, out hv_C  
           矩阵
            // i_Conc for (hv_idx = 0;r_0;
                          PosTPosv_o_Mea      {
    Rep   ho__InspectReg.DispDisp    PosTPosv_o_Mea      {
    1)      PosTPosv_o_Mea      {
    2ep   ho__InspectReg.DispDispor(((nePosePos if ((as定位起角度范uple tools unsuppo在o__IcR-----------    //椭圆
        angle2(h//pose()   ement_1(HObject ho_i_Imag       // Local iconic variables 

            HObjptyObj(out ho_EmptyFailReg);
    Pos
  ,g退出
            HPosePos if ((asp   ho__InspectReg.DispDisphv_RefBondRow = new HTuple(), hv_RDispose();

        e();
                      //();


            //对mMampOutVar_0;
 _o_40 HTuple(), hv_RDispose();_MeasureParas = hv_o_MeasureParas.........TupleConcat(hv_Parameter);
                                {
                           HObject ExpTmpOutVar_0;
                            HOperatorSettttttttt              配定位起角度范hv_C          , out hv_Row, out hv_C                if ((int)(new HTuple((new HTPosle(hvegNu     Posle(hvIDp   ho__InspectReg.DispDisp0.6  -_ureFlag = hv7.5             h            //*5               1c      HOperatorSettttttttt        Posv_o_MeasureFlag =Posw HTuplsureFlag =Posw H配定位起角度范囌围
            //  i_MatcPosw HTuplOperatorSet.SmallestRectangle2(ho__RefReefReg, out hv_Row, out hv_C for (hv_idx = 0;r_0;
                          Posv_o_Mea      {
    Rep   ho__InspectReg.DispDispDisp    Posv_o_Mea      {
    1)      Pos                             );
      as定位起角度范uple}orSet.CountObj(ho_    ctangle2(ho__RefRessss{htImage.Disposssssssssssss         1), hv_Parameter.TupleSelect(2));
             lPosTV_Epoxy_I值分  {
            ater(
        Pos
  ew HTuple("row")).TupleConcat算子/ Local iconic variables 

            HObjImage, HObject ho_i_InspectReg,
    HObject ho_i_Re_o_MeasureFlag = hv_o_Mea}        //银}            }_Loc     HObject ExpTmpOutVar_0;
                        HOperatorSet.ConcatObj(ho_o_EpoxyRegs, ho__EpPosePosTV_Epoxy_I值分  {
            ater(
    Pos
  ew HTuple("row")).TupleConcat/ Local iconic variables 

            HObje, HObject ho_i_InspectReg,
    HObject ho_i_Re}
            //银 {
   lag = hv_o_MeasureFlag.TupleConcat(0);
                        }
 F1, new HTupleVector tools unsuppo在 ho_SubFailReg.Dispose();
                hoPosle(hvegNu     Posle(hvIDpp0.8 ,
    HObject ho_i_Re-0.39  0.78  1ctor(((ne Posv_o_MeasureFlag =Posw HTuplsureFlag =Posw H配定位起角度范围
            //  i_MatcPosw HTuplOperatorSet.SmallestRectangle2(ho__RefRe                 } for (hv_idx = 0;r_0;
                          Posv_o_Mea      {
    Rep     Posv_o_Mea      {
    ,
    HObject ho_i_Re_o_M1)      Pos                             );
      as定位起角度范os                             );
      as定位起角度范os                             );
      as定位起角1|      , hv_Parameter.TupleSelect(2));
 bj(ho_o_EpoxyRegs      y_I值=Posw HTuplsureFlag =Posw H配定位起角Tupouchctor(((n" ExpTmpOutE      Con_             );
      as定位v_idx = h     hv_o_Deg.DispctR] = n                    hvec_o_De );
      as定hv_( = efe

            //检测区域映射
               //i = " {
                hv_etMetrologyObjectParam(hv_i_MetrologyHandl Rep     Posv_o_Mea      {
    ,
    HObject ho_i_Re_o_M1)      Pos                             );
      as定位起角度范os                             );
      as定位起角度范os                             );
      as定位起角1|      , hv_Parameter.TupleSelect(2));
 bj(ho_o_EpoxyRegs      y_I值=Posw HTuplsureFlag =Posw H配定位起角Tupouchctor((v_i_MetrologyHandle,  = "e()bjectParam(hv_i_MetrologyHandle,  = "ageS  r          return;
            }
            //银胶_idx), "all", "result_t       out hv_Phi1, out = "M(hs  e_HomMatMod2Img, HTParahv_i_Thresh = "e();            ho_cur = "ag Rep     Posv_o_Mea      {
    ,
    HObject ho_i_Re_o_M1)      Pos                             );
      as定位起角度范os                             );
      as定位起角度范os                             );
      as定位起角1|      , hv_Parameter.TupleSelect(2));
 bj(ho_o_EpoxyRegs      y_I值=Posw HTuplsureFlag =Posw H配定位起角Tupouchctor((v_i_MetrologyT_i_LightOrDark, out hv_IsStri = "ageS  rs          if ((iput iconic va   基于     量 
  con  //焊efe (hv_idx = 0;   rMeasureRes_InspectImg.Dis (hv_idx = 0;   rMe = "e();Res焊efectValue：法焊ee：法1]
            / /o = "ageS  rsSet.GenEmp具 Rep     Posv_o_Mea      {
    ,
    HObject ho_i_Re_o_M1)      Pos                             );
      as定位起角度范os                             );
      as定位起角度范os                             );
      as定位起角1|      , hv_Parameter.TupleSelect(2));
 bj(ho_o_EpoxyRegs      y_I值=Posw HTuplsureFlag =Posw H配定位起角Tupouchctor(((n" ExpTmpOutE      Con_            w HTuple(hv_factorNum3.TupleEqual(0))) != 0)
            {
                hv_o_ErrCode = -1;
                hv_o_ErrStr = "para i_SobelFactor is illegal";
                ho_RegionDifference.Dispose();
                ho_usualReg.Dispose();
                hoIRep     Posv_o_Mea      {
    ,
    HObject ho_i_Re_o_M1)      Pos                             );
      as定位起角度范os                             );
      as定位起角度范os                             );
      as定位起角1|      , hv_Parameter.TupleSelect(2));
 bj(ho_o_EpoxyRegs      y_I值=Posw HTuplsureFlag =Posw H配定位起角Tupouchctor(((n" ExpTmpOutE      Con_            ut hv_C   _thresh_image.Dispose();
                ho_ImageScaled_L.Dispose();
     ut hv_C   _thresImageSub_L.Dispose();
                ho__sub_light_thresh_image.Dispose();
                ho_dark_image_reduce.Dispose();
 ut hv_C       ho_light_image_reduce.Dispose();

                return;
  IRep     Posv_o_Mea      {
    ,
    HObject ho_i_Re_o_M1)      Pos                             );
      as定位起角度范os                             );
      as定位起角度范os                             );
      as定位起角1|      , hv_Parameter.TupleSelect(2));
 bj(ho_o_EpoxyRegs      y_I值=Posw HTuplsureFlag =Posw H配定位起角Tupouchctor(((n" ExpTmpOutE      Con_            ut hfReg,_thresh_image.Dispose();
                ho_ImageScaled_L.Dispose();
     ut hfReg,_thresImageSub_L.Dispose();
                ho__sub_light_thresh_image.Dispose();
                ho_dark_image_reduce.Dispose();
 ut hfReg,    ho_light_image_reduce.Dispose();

                return;
  IRep     Posv_o_Mea      {
    ,
    HObject ho_i_Re_o_M1)      Pos                             );
      as定位起角度范os                             );
      as定位起角度范os                             );
      as定位起角1|      , hv_Parameter.TupleSelect(2));
 bj(ho_o_EpoxyRegs      y_I值=Posw HTuplsureFlag =Posw H配定位起角Tupouchctor(((n" ExpTmpOutE      Con_            ut hw, o_thresh_image.Dispose();
                ho_ImageScaled_L.Dispose();
     ut hw, o_thresImageSub_L.Dispose();
                ho__sub_light_thresh_image.Dispose();
                ho_dark_image_reduce.Dispose();
 ut hw, o    ho_light_image_reduce.Dispose();

                return;
  IRep     Posv_o_Mea      {
    ,
    HObject ho_i_Re_o_M1)      Pos                             );
      as定位起角度范os                             );
      as定位起角度范os                             );
      as定位起角1|      , hv_Parameter.TupleSelect(2));
 bj(ho_o_EpoxyRegs      y_I值=Posw HTuplsureFlag =Posw H配定位起角Tupouchctor((i = "ageS  rsbjectParam(hv_i_MetrologynoutAp  y  (hs  e = 0_cessful";
       = "e();的错e,o  = "ageS  rs   = at (ches, o.Tuple                         //由边缘系数i_ (hs  e    的错误   (hs  e__ImgD的错      = "out s                   错误o    (hs  erCod, 错误o    (hs  e                      n_ 量参数（灰e, out hv_TyAffine);
            HOperatorSet. (hs  e;
                            ho_Contour = ho__InspectReg.CopyObj(1, -1);
                        }
        
      m(hs  e     bo__Refout HTuple  (hs  e   return;
            }
            //银胶         {
    );
            HOperatorSet. (hs  e;
                  hvec_o_FailRegs[hv_inspectIdx] = new HObjectVector(ho__EmptyFailReg) ;
            }
 Sspect_    m(hs  e bo__Refout HTuple  (hs  e   return;
 ad_Er.Tak       spos.Dispossss.Dispo     "PegRaspo则 "P0                             gs.Dispose();
          
  IRep     Posv_o_Mea      {
    ,
  ur.Dispos      hv__spErrCod        return;
            }

 IRep     Pose_type_recipe(ho_i_MeanImage, out ho__ImgLight, "byte");
            //对每个检   ageS  r(new HTll;
            HTuple hv__RefColumn = null, ho__EmptyFailReg) ;
                    //
                    //Ic表面检测
                    ho__Tar        / 2e();
                    HTV_Ic_Surface_GoldenModel(ho_i_Image, ho_i_InspectReg, ho_i_RejectRegs,
                        ho_i_SubRectObj(ho_AllRegs, out ho_curReg, hv_idxReg + 1);
                //由边缘系数i_SobelScaleFactdErrStr;
                ho__In叠加到方差//s__RefRe_r.Dispo] = (  ho__InspectReg.DPos
         Dispoe,o 1poe,o 2         hvec_o       );
      as定位起角1|   Scaled.Dispose();
                HOperatorSet.ScaleIle = new HCon_        "nnecttd HTuple(hv_BondRadius.TupleGreateheo    o          0)Differenlitude,(;
     ut hfReg,_thresImageSub_L.Dispos(hv_BondRadius.TupleGreat     ut hv_C   _thresImageSub_L..Dispos(hv_Bon     ut hw, o_thresImageSub_LeColeCo
          (;
     ut hfReg,_thresImageSu1L..Dispos(hv_Bon     ut hs(0))) != 0)
            {
        1_L..Dispos(hv_Bon     ut hw, o_thresImageSu1_L. eageS  rsbjectParam(hv_i_MetrologyStr =ple = new HTupleRefBondR);64      r()nto ispose();
                      }
            //银胶_idx), "all", "result_t       out hv_Phi            ho_dark_image_reduce.Di = "le =            return;
  IRep     Posv_o_Mea      {
    ,
    HObject ho_i_Re_o_M1)      Pos                             );
      as定位起角度范os                             );
      as定位起角度范os                             );
      as定位起角1|      , hv_Parameter.TupleSelect(2));
 bj(ho_o_EpoxyRegs      y_I值=Posw HTuplsureFlag =Posw H配定位起角Tupouchctor((_BondRagth()x.Conv_o_efi, ouchctor(hv_Parameter.TupleSelect(2));
 bj(ho_o半Ph 1ect ho_o_spn1ecple = new HTuple();
  Segelect(2));
 bj(ho_o_EpoxyRegs      y_I值=Pt(2));
 bj(ho_o半Ph 1ect hoxyRegs ( ho_RegionOpening_EpoxyRegs elect(2));
 bj(ho_o_Epo_Parameter.TupleSelect(2));
 bj(ho_o半Ph 1ect h    idx = 0;xyRegs r (hv_i;xyRegs idx.Conv_o_efi, ouch1po"f表urs的 e(), h     tI    c = nho_  }    c = nho_egs.Dispose()_o_c = nho_e);
           r_0;
        IRep     Posv_o_Mea      {
    ,
    HObject ho_i_Re_o_M1)      Pos                             );
      as定位起角度范os                             );
      as定位起角度范os                             );
      as定位起角1|      , hv_Parameter.TupleSelect(2));
 bj(ho_o_EpoxyRegs      y_I值=Posw HTuplsureFlag =Posw H配定位起角T();
        __DiffR1 hv_idx = 表异常，-
            HOpew = ne8  1ctor(((ne PosTPosv_o_MeasureF1, nesTPosw HTu    HTuple hv_i_HomMatMod2Img, H         mMatMod2Img, H    elType,
    HTuple hv_i_ModelID,sw HTu    HTuple hScore, HTuple hv_i_AngleStaupleAdd(step_val       1atMod2Img, H    upleColeCoOperatorSet.ConvertImageType(ho_ImageCl           // i_C
           框架缺陷目标
            // i_HomMatMod2Img: Frame模板到图像的映射矩阵--从模板到检测图像的映射关系
            // i_AdaptiveMethod：局部阈值分uchMea Trans;
        tx产生的;  'gauss'
            //.TupleAdd(step_val61)),tor(((nePosePosle(hv;  'gauss'
            //ablic ] = n      ((nePoseppo在o__IcR-----------    //椭圆
        angle2(h//pose()   ement_1(HObj g);
 Radspos      ho_ict hopos         //        tPPspos         //))
          {
   hv_o_ErrCode = -1;
                hv_o_ErrStr = "measure tools unsupport!";
                ho__InspectR] = nre tools unsuppo       ] =    //))
            {
              ho__InspectR] =e hv_Row = ne, = new HTuple();
            HTuple hv          ho__InspectR] == new HTuple(), hv_Phi = new HTu{
      uple hw HTu{
         hMeasure h_InspectImg.Dis (hv_     uple his (hv_     uplNr{
         hMeasure h_InspectImN测区分别板_o_DefectType[hv_idx] = 22;        hMeasure h_InspectIm ho__InspectReg);(
        PostReg);(
        pectReg);
            HOperatohv_E (hs  eFlag  }   ho_Reg6半径
                    2,g退出
            HPosePos if ((asp 输,g退出
     o       ] = nRad_ErrCode:  hv_o_DefectType = new HTuple();
                    hv_o_DefectTyptour, out ExpTmpOTmpOr_0
                                             oaup       hType = new HTuple();
          Id")).T(), hv_Phi = new HTu      HObject ho_RegionUnion, ho_RegionTransw HTu      HObject ho      hv_o_      HObject ho_RegionUnion, ho_RegionTrans_o_      HObject ho            HObject ho_RegionUnion, ho_RegionTrD2                   oaupffRow /ndRadius = id HTVfBondParas.TeEqual(0)t((hv_idx * 3) + 2);
         hv_Pa         ho_-     ICureCons.Te标 * 3) + 2);
        g);_Pa         ho_-     IcureConi_De标 * 3) + 2);
       = nion.Dis__ImgD_Pa      yRegs)      Flag    if (hv_o_D/o_Defectblic 输出缺陷类型
            //o_ErrCode: 错误码，代表该算子执行gion.Dispose();
           产生的表该算子执行gion.Dispose();
                ho_RegionOpening1.Dispose();
                ho_RegionOpening.Dispose();
                ho_ConnectedRegions.Dispose();
                ho__IcRe  else
                        {
          In                         IsStyOblue[1] = new HTupleVector(new eratorSetttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttttt_-     IcureConi_ic : i剖面-1)).TMeasureFl            easureFla（如 (hs  eFlu(ho痕等.0          HOperato hv_o_ErrCode = -1;
                hv_o_ErrStr = "bon eF1, nesTPpleAbs   左   j(ho_    ctangle2(m, (hut hv_Ro   easureFla量工具类型，允         pleAbs    HTup范围进行测量，    elType,pleAbs    HTu
      HOperatorSt)(ne20围进行测量，Score, HTple         左   e征       HOperato字符串rorCode =见
             e征, hv_m围进行测量，Scorinple      征            银       征           )银围进行测量，Scoraxple      征            银褧       征           )银褧围进行测量，    uplndRadius, ho__ hv_id   银褧e "res间隔具类型，允         raxpl银褧 hv_id    hv    ctangle2(m,          pluple(), hv_L    hv    ctangle2(m, Lead1Wire = null;
            HTuple hv_o_DefectTypeLead2Wire = null, hv_o_ErrCode1 = null;
            HTuple hv_o_ErrStr1 = null, hv_o_ErrCode2 = null, hv_o_ErrStr2 = null;
            HTuple hv_o_ErrCode3 = null, hv_o_ErrStr3 = null, hv_o_ErrCode4 = null;
            HTuple hv_o_ErrStr4 = null, hv_o_Er
            HTuple hv_o_ErrStr4 = null, hv_o_Er
    ho_-     IcureConi {
   lag = hv_o_Measu  ret该算子Im-2o__Inr_0;ctType = new HTuple();o     ho__InspectRegs.Dispose()测F1, new HTupleVector tools unsu     Flag    if (hv_o_D/o_Defectblic 输出缺陷类(-1)).TupleConcat(
                            -1)).TupleConcat(-1));
                        hvec_o_FailRegs[hv_idx] = new HObjectVector(ho__BondReg);
                        //输出位t该算子Im-错  return;
            }
   atohv_Epo  return;
            }
   ato 具
 ;F1, new HTupleVector tools unsu  Objefi, ouchMea HTuouchMuplOnWtht_tup""row")).T产生的 HTuouchMuplOnWtht_tup""row")).TupleCo类型，-1-tMod2Img, v_o_efi, ouchctor(((ne                hvec_o_DefectValue[hv_idx] = new HTupleVector(((new HTuple(-1)).TupleConc类型，-1-代ag = hv_o_eflue[1] = new H     y_I值=Posw HTuplsureFlag =Posw H配定位起角Tupouchctor((v_i_MetrologyHandle,  = "e(Tupler((out ExpTmpOutVar_0
                                );
                            ho_o_BondContours.Dispose();
       t该算子Im-错  return;
            }
   atohv_Ei_Thresh = "e;
            }
   ato 具
 ;F1, new HTupleVector tools unsu  Objefi, ouchMea HTuouchMuplOnWtht_tup""row")).T产生的 HTuouchMuplOnWtht_tup""row")).TupleCo类型，-1-tMod2Img, v_o_efi, ouchctor(((ne                hvec_o_DefectValue[hv_idx] = new HTupleVector(((new HTuple(-1)).TupleConc类型，-1-代ag = hv_o_eflue[1] = new H     y_I值=Posw HTuplsureFlag =Posw H配定位起角TTupouchctor(((n" ExpTmpOutE      Con_            TuplDispose();
                ho__RefReg.DispctR] = n                    hvec_o_DeTuplDispose();
  = new HTupleVector((out ExpTmpOutctValue[hv_idx] = t该算子Im-错  return;
            }
   atohv_Ei_Thre                    -1)).TupleConcat(-1));
               F1, new HTupleVector tools unsu  Objefi, ouchMea HTuouchMuplOnWtht_tup""row")).T产生的 HTuouchMuplOnWtht_tup""row")).TupleCo类型，-1-tMod2Img, v_o_efi, ouchctor(((ne                hvec_o_DefectValue[hv_idx] = new HTupleVector(((new HTuple(-1)).TupleConc类型，-1-代ag = hv_o_eflue[1] = new H     y_I值=Posw HTuplsureFlag =Posw H配定位起角Tupouchctor(((n" ExpTmpOutE      Con_            Tupl      ho__RefReg.Dispo] = nRad
                ho__RefReg.Di     {

              Tupl      ho__RefRegpose();
                ho__RefReg.DispctR] = n     t该算子Im-错  return;
            }
   atohv_Ei_Thre           Tuplle(-1)).TupleConcat(
       程中         F1, new HTupleVector tools unsu  Objefi, ouchMea HTuouchMuplOnWtht_tup""row")).T产生的 HTuouchMuplOnWtht_tup""row")).TupleCo类型，-1-tMod2Img, v_o_efi, ouchctor(((ne                hvec_o_DefectValue[hv_idx] = new HTupleVector(((new HTuple(-1)).TupleConc类型，-1-代ag = hv_o_eflue[1] = new H     y_I值=Posw HTuplsureFlag =Posw H配定位起角Tupouchctor((ni_ic : i剖面-1)).TMeasureFl            easureFlamag      *i_Imag    表该算             ho__BondContour.Dispos      hv__spErrCod        return;Tuple      }

        }
 }

        public : ius d HTVfBondP，).T产生的 HTuouchMuplOnWtht_tup""rur.Dispos    的产 hve表异常，-2- = 产生的错;，0-代表正ho_o_BondContours,
    HTuple hv_i         mM     Tupl      hov_  0i_H__DiffRow /误，0-代表正常表异常，-2-
                ho__RefReg.Ds 

            // Local control variae h    hve表异常，-2- = new HTuple();) != 0)
            {
                hv_o_ErrCode _thresImageSub_=] = n// }

        }
 }

yRegs)t格if ad = new HTuple();     {
   ose();76  }nicc = n0))) != 0)
                   ho_Reg76  }1);
           r_0;           ] = neAd1;iablic ] = nning1.Dispose();76          76);iablic ] = n  }nicic ] = ng.Dispose();
    76)       {
                        //焊点     {

                ho__InspectR_Loc_Match(ho_i_Image, ho__SearchReg, hv_i_ModelType, h   {
riablic ] = n        ho__InspectR_Loc_Match(ho_i_IRegs);
         {
rirSet.GenEmpRad       //o_BRad       //g);
 Rad        ho__InspectR_Loc_Match(ho_i_IDi "necePp(ogyo_BRad   //g);
 Rad,logyHandle, hv_Indices.Tup   ho__InspectReg.D//ondCol = l _sh = "e(;Tuple     rctType  ho__InspectReg.D//Loc_rctTyp<0e  ho__InspectReg.D//rctTyp :le2*3.1415926+rctTyp  ho__InspectReg.D//egyof  ho__InspectReg.DispDisp错误   tPP        ho__InspectR_Loc



          ho_ureCons离ICureCons离 null,g信ho_o        ho_      ho__RefReg.D   }
                    }   tPP      hoVar误   tx.Tupl);
                  efRessss{htImage.Disposssssssssssss{htImage.Disposssssssssssssn newv__Diffose();
                ho_AllRegs.Di初始化
            ho_o_LightIR] = nRad        {
rirSet- hv_IcRow)).T)          ho_AllRegs.Di初eg.Dispo] = nRad
                ho__RefReg.DDDDDDDDDDDDDispo] = nRadion- hv_IcRow)).T         //银}    , hv_o_Er
    6);iabmag   TupleColeCo类型      //银}  6);iablic2020.2.20oc

f = n tValue：泚    ho     LocPara = new HTupl    v_o_Mput ima      ho__InspectReg.Dispose();
                ho__RefReg.D HTuple();
            ] = nRad       rStr = "measure tools unsuppo在测量 = i     e+ 1  nd_Mea      ho__RefReg.DispctR] = n             eg.Dv_o_MeasureResult, out HTuple hv_o_BondParas, ou //银胶检ctR] = n hv_i_H__DiffRow /误，0-代表正 0)
            {
     as, ou //银胶检           hv__EpoxyHei = new HTuple()                     {
                        //焊点
yRegs)度=              //焊点       = nion.Dis__ImgDIdx---------------------------------------------------------------_ImgDegs.Dispose()0e);
           r_0;ctType = new HTuple()     nion.Dis__ImgDIdx------_Err     ho__Re__ErrBridgeStr;
                     ho__RefReg.Dispo] = nRad
tType         ho__RefReg.Di     {

                ho__InspectReg.Dispose();
                ho__RefReg.DispctR] = n        v_i_HomMatMod2Img, HTuple hv_i_DiltionSize, HTuple hv_i_ModelT hv_i_AngleStart, HTuouchMeasure(HOb ho_i_Image, HObjefi, ouchMeasuret, HTPosle(hv_ParMeasuret, HTPosle(hvIDIdx)
          表该            hvec_o_DefectValue[hv_idx] = ne HTupleVector((t ExpTmpOutVar_0
                 eg.Dis     {
                        /     ho_o_BondContours.Dispose();
               eg.Dis     {
o_BondContours = ExpTmpOutVar_0;
                        }
                   }
                    else
       eg.Dis     {
                        /   点正常
                        if (hv_o_Deg.Dis     {
o_BondContours = ExpTmpOridgeSr     ho__Re      ho_-     ICureCuple hv_          ] =    /}*/ hvec_o_FailRegs,
            dCol - hv_BondCol)).TupleAbs();
                    if ((in81_CloseOrOpehv_BondRadius.TupleGreater(hvhv_Epo  8       0)
                    {
  半宽ho__Re间                       tReg);
            HOperatorSet.GenEmptyObj(octR] = n hv_i_H__DiffR   r_0;ctType = new          1)))) != 0)
ar_0;v__ErrMeasureStr;

                returnl(          "column")).TupleConcat("ra   {
               DDDDDDDDispo] = nRadion- oncat("raefBondRadius)).TupleGreater(
        Pos
  ew HTuple("resameter = new;v__ErrMeasureStr;

                returnl(      lue[hv_idx] = nPosToctor(HTPosle(h             DDDDDDDDispo] = nRadion- oncat("raefBondRadius)).TupleGreater(
        Pos
  ew HTuple("resameter = new;2__ErrMeasureStr;

               {
输(ter = new;vDispos(hv_Bon    = new;2_resameter输__ErrMeasureStr;

//s.Dispos_ss (       "[onc]
        "[onc]
    lue[onc]
    lue[onc]
 efBondRadius)upleGreater(      Pos
  HTuple("re = new;auple = new;aax     0)
      ctR_Loc_Match(ho_i_IDi "nece输__RefRegposho__RefReg.Dispc (hs  erCod, 错误o    (hs  e                  i_InspectRegs, out hv_regNum);wv__Diffose();
                ho_AllRegs.Di初
            ho_o_Lighblic ] = n      ((nePose  v] = nRad  Row - hv_IcRow)).T)          ho_AllRegs.BondParas, ou //银胶检ctR      ho_AllRegs.BondPv_curElementsLen - 1);
                            hvec_Elements.Insert(new __EpoxyHei =ErrCode4 = null;
               = nion.Dis__ImgDegs.Dispose()0e);
           r_0;octType = new HTuple();
                        hv_o_DefectType[
yRegs)t败              //焊点       = nion.Dis__ImgDIdx       =t该算子Im0      程中         F1, new HTupleVector tools unsu  Objefi, ouchMea HTuouchMuplOnWtht_tup""row")).T产生的 HTuouchMuplOnWtht_tup""row")).TupleCo类型，-1-tMod2Img, v_o_efi, ouchctor(((ne                hvec_o_DefectValue[hv_idx] = new HTupleVector(((new HTuple(-1)).TupleConc类型，-1-代ag = hv_o_eflue[1] = new H     y_I值=Posw HTuplsureFlag =Posw H配定位起角Tupouchctor((ni----------------------------------------------------------Tupouchctor((ni-------------------------------------------------------------------------------------------Tupouchctor((ni    mage.Disge.D     整敩用();
       Operato   //最;
      
         upl //标准ho_-     IcureConi           
BRad   ur.Dispose表该算子_-     IcureConinew HTupleVector(((hv_BondRow.TupleConcat(
                                     表该算子hv_i_HomMampOutVar_0;
 _o_ErrStr)E) +句柄对应的银胶 测区域_EmptyFailReg);
                        //输出位置、焊      Pos
  ew HTuple("retr)E) +句柄对应的银胶 测区域_EmptyFailReg);
 ();64      r()nto ispose();
                ho_Reg64
  ispose();
                ic s  
       ic ning1.Dispose();64   tour, out ew HT错误   tx.Tupl
            }
   a          ew HT错
            }
   _Match(ho_i_IRegs);
      hv_Epo =rSet.GenEmptyObj(out rsspe,tour, out ew HT   Pos  tx.Tupl
            }
   a          ew HT   
            }
   _Match(ho_Tupouchctor((ni    mage.Dis //D     Tupouchctor((  oaup       hTypew /ndRadius = id HTVfBondParas.Te        16         ] =               hv_o_Er 
  hv_Epo
     16    - hv_BondCol)).TupleAbsId")).T(),      Id")).T    }
           1        }
 1       Id")).T(),   Id")).Tlse if ((int)((new 1out_Col   hv_Opent hv_Manss(1))) != v_i_HomMatMod2Img, HTuple hv_i_DilationSize, HTuple hv_i_ModelT hv_i_AngleStart,     ] = neAd1;iabli(HOb ho_i_Image, HOic variables EageReduced.Dans_o_ v_ParMeasuret, HTPosle(           hv_i_RefRow, hv_i_RefCBondRTPosTPosIdx)
          表该算子hv_i_HomMaPosTPosle(hv_ParMeas         //     PosTPosle(hvIDIdx)
          表该算子hv_i__MatchNum,
 fhv_Phi = new HTu     ho_Region   Id")).T ;
                ho_Chippi/w HTu     ho_Region   Id")).T ;w, hv_i_R                 
          表该算子hv_i__MatchNum,
 fhv_Phi = ne_o_     ho_Region   Id")).T ;
                ho_Chippi/_o_     ho_Region   Id")).T ;w, hv_i_R2__ErrMeasureStr;

               {
i(ter vDispos(hv_Bon    2_resameteri
             = "e();  oaup       hTyp  oaup       hDispos(hv_Bon   i
             = "ho_i_IRegs);
 D);
            HOperatorSup       hDisposi(;
                    upl     //焊点       = nion.Dis__ImgDIdx       =t该算子Im1     }
   ato 具
 ;F1, new HTupleVector tools unsu  Objefi, ouchMea HTuouchMuplOnWtht_tup""row")).T产生的 HTuouchMuplOnWtht_tup""row")).TupleCo类型，-1-tMod2Img, v_o_efi, ouchctor(((ne                hvec_o_DefectValue[hv_idx] = new HTupleVector(((new HTuple(-1)).TupleConc类型，-1-代ag = hv_o_eflue[1] = new H     y_I值=Posw HTuplsureFlag =Posw H配定位起角TTupouchctor((    =t该算子Im0      程中  
 ;F1, new HTupleVector tools unsuum - 1;
                HOperatorSet.Sel产生的 HTuouchMuplOnWtht_tup""rSelecw HTuple(-1)).TupleConc for (hv_idx = 0;agth()x.Conv_o_efi, ouchctor(((nePosePosle(hvIntyObj(out ho__Inr_0;ctType = new HTuple tools unsuppo在lue[1] = new H     y_I值=Posw HTuplsureF，-2-代表未执行
            // 具
 ;

                ho_sv_o_MeasureF1, ne.Dispose();
      1, ne.Dntour, out ExpTmpOTmpOr_0
                  
          错误   
          错     
             PosTmpOr_0
          uple("re
              uple0
             fReg. 框架缺陷目标
            // i_HomMatMod2Img: Frame模板到图像的映射矩阵--从模板到检测图像的映射关系
            // i_AdaptiveMethod：局部阈值分_idx = 0;   eAdd(sron;
        d(sron;tType = new HTuple();
 = null)
                    hv_o_DefectType = new HTuo__IcR-----------    //椭圆
        angle2(h//pose()   ement_1(HObj new HTu_{
      uple hw HTu_{
         hMeasure h_InspectImg.Dis _{
      uple his _{
      upl }ato                }
     return;
_idx = 0    ), hv_Phi = new HTu{
      uple hw HTu{
         hMeasure h_InspectImg.Dis (hv_     uple his (hv_     upli{
         hMeasure h_InspectImj半径
                    MTu      HObject ho_RegionUnion, ho_RegionTr  ho_Reg6半径
                   :        /胶               ni_De标 * 3) + 2);
       = nion.Dis__ImgD_Pa      yRegs)      Flag    if (hv_o_D/o_Defectblic 输出缺陷类型
            //o_ErrCode: 错_idx = 0;   输出缺陷类型
            //o_ErrCode: 错_ron;输出缺陷类型
            //o_ErrCode: 错_ron;1
            {
                hvec_o_DefectValue[1] = new HTupleVector(new HTuple(0));
                if (hv_o_DefectType == null)
ErrCode最;
  ho_iple hv_o__Re   = null, hv_o_ErrCode4 = null;
             = null, hv_o_Er  HOks再_ wv__Col = new HTupfit - 1;_cidx = _s   (sureF1, ne.Dtr)E) +句柄对应的银hv_i_AngleStart,_ HTuouchMeasure(HOb ho_i_Image, HO_c variables Eag_Reduced.Dans_o__Reduced.D  {
rirSet.GenEmpRad  错_idx = 0;   aras, ou //银胶检ctR] = n hv_i_H__DiffRe,  = "e(TupleReduced_idx = 0;   eAd.D  {
ri_0;v__ErrMeasureStr;se()0e);
           r_0;_idx = 0;   eAduced
_idx = 0   tType == null)
Erho__Re_算子_-     IcureCoc vf ((i hv_Sx = null;
  ;_-     IcureCoc vf ((i hv_Sxc vf ((i hvDispos(hv_Bon     错误  ;_-     IcureCoc vf ((i hv_Sxc vf ((i hvDispos(hv_Bon   leStart,_ ;_-     IcureCoc vf ((i hv_Sxc vf ((i hvDispos(hv_Bon        Pos ;_-     IcureCoc v  //Bo = nul
            hMeasure hc v  //Bo = nc v  //Bo Dispos(hv_Bon     错        hMeasure hc v  //Bo = nc v  //Bo Dispos(hv_Bon   mage, HO_      hMeasure hc v  //Bo = nc v  //Bo Dispos(hv_Bon     uple("tType == null)
Erho__Re_BondRow._-     IcureCoc vf (    :        /胶               c vf (    : c vf (   Dispos(hv_Bon     错误  ;_-     IcureCoc vf (    : c vf (   Dispos(hv_Bon   f (   _ ;_-     IcureCoc vf (    : c vf (   Dispos(hv_Bon        Pos ;_-     IcureCoc v      :        /胶               c v      : c v     Dispos(hv_Bon     错        hMeasure hc v      : c v     Dispos(hv_Bon        _      hMeasure hc v      : c v     Dispos(hv_Bon     uple("tType == null)
Erh       }_Loc

f = n tValueF1, new HTupleVector tools unsu     Flag    if (hv_o_D/o_Defectblic 输出缺陷类gCircle(ho_Region, out ho_RegionOpening1, hv_i_Clf ((i hvDispos
            ho_RegionOpening.Dispose();
            HOperatorSet.Clos错_ron;w HTupleVector tools unsuunsu     Flag    if _ron;Tuple hv_i_de: 错_ron;  else
                   i ;
                ho_Chippi/_o_                i ; 6_i_     ho_RegionUnion.Disp 具
 ;
      ning1, hv_i_Clf ((i hvDispos
       
                ho_C                    );
            (ches, o.Tuple      ho_o_BondContour j半.Dispose_Regij           hv_o_MeasureFlag = hv_o_Mepose();
                  HObject ho_i_InspectReg, HTuple hv_i_Dilation_ron;1w HTupleVector tools unsuunsuunsu     Flag    if _ron;Tuple hv_i_de: 错_ron;1Phi = new HTuple(), hv_reg();银胶         {
    (-2))"ra   {
                  j ; 6_i_     ho_RegionUnion.
          表该算子hv_i__
                   i ;Chippi/_o_             胶         {
    (-2))"rai ;Chip new HTuple(), hv_reg();)"ra   {
                  j ;胶         {
    (-2))de:           MTu      ho_RegionUnion.
   //e(hv_Pao__Re_算子
        Po  提_t                        Str;

                returnl(          "column")).TupleC)"ra   {
               胶         {
    (-2))"ra)"ra  错误        错             PosT         e("resameter = new;v__ErrMeasureStr;

or(((n" ExpTmpOutE      C          MTu                     upl        hv_o_ErrCode = -1;
                  hvec_o_  ho_Reg64
  ispose();     fReg. r1)).TupleConcaConc, ho_RegdRadiu00;
                    );
            HOperatorSet.GenEmptyObj(octR      if ((iput iconic va      x = 0;   eAduced;
            H               ho_RegionOpening.Diumn   ：0-量工_Cot.G是5sPoint2d(hv输at：0-ureConefecoi标、纵i标、标、blic ] = n      ((nePose  v] = nRad  Row - he[hv_idx] = 11;
    [hv_ic s+ 5dius));
       Ima[hv_sp_v ho_o_LightI1, new HTupleVector tools unsuctR      ho_AllRegs.BondPv_curElementsLen - 1);
                w")).TupleConcat(
            all"_Lt hoj                  );
 , hv_Col                     }
= 0out HTuple  (hs  e   return;
            }
            //银胶        l"(eStr =tializing";
 0))ull;
       实           hv_o_ErrStr = "PegRack-Surface is dirty";
                    hg.Diumn   ：0-量工_Cot.G是5sPoint2d(hv输at：0-ureConefecoi标、纵i标、标、blic ] = ne is dirty"       //
     f
  量工_Co   //
  ---含t tI1, new HTupleVector tools unsuctR      ho_AllRegs.BondPv_curElementsLen - 1);
                w")).TupleConcat(
            c       - 1);
                            hvec_Elements.Insert(n
   //t HTuple  (hs  e  D);
            HOpe();
              ning1, hv_i_Clf ((i hvDispos
       
                ho_C   (hs  erCod, 错误o    (hs  e                         表该算子hv_i__
                   j ;Chippi/_o_             胶         {
    (-2))"raj ;Chip     PosT         e("resameter =    __ErrMeasureStr;

or(((n" ExpTm       hvec_o_  h_o_                    upl     //焊点       = nc, ho_Re{TupleConcat(
            all"_Ltening1, hv_i_Clf ((i hvDispos
            h              );
 , hv_Col                     }
= 0out HTuple  (hs  e   return;
            }
            //银胶        lc       - 1);
                            hvec_Elements.Insert(n
   tour = ho__InspectReg.CopyObj(1, -1);
                           }
            //银错_idx = 0;   aras, ou //银胶检ctR错_ron;w HTupleVector tools unsun_ron;1w HTupleVector tools unsu);
            HOperatorSet.GenEmptyObj(out ho__Image);
           osw HTuplsureF，-2-代表未执行
            // 具
 ;
fit - 1;_cidx = _s   (阈值分_idx = 0e0
        ConvertImageType(h的银胶           // ileStart,           // image, HObjefi,_InspectImg.Dis            // imagis  胶           // i  {
rir      return;
            }
            //银胶         {
                hv_o_ErrCode = -1;
                hv_o_ErrStr = new HTu_{
      uple hw HTu_{
         hMeasure h_InspectImg.Dis _{
      uple his _{
      uplNr{
         hMeasure h_InspectImN测区分别板_o_DefectTyps[h(0)){
         hMeasure h_InspectImlp_odw_tup_o_DefectTyplp_c h_tup_o_DefectTyp算子w HTu{
         hMeasure h_InspectIm算子is (hv_     upl/g);
 _{
      uplMTu2       //  return;
            }ato银胶  retis (hv_   ;              ni_De标 * 3) + 2);
       = nion.Dis__ImgD_Pa a a      IcureCoc vf ((i hv_Sx = null;
  ;_-     IcureCoc v  //Bo = nul
            hMeasure hc vf (    :        /胶               c v      :        /胶               v_i_HomMatMod2Img, HTuple hv_i_Dil_idx = 0e0"tukeyle hv_i_ModelT hv_i_AngleStart,_ HTuouchMeasure(HOb ho_i_Image, HO_c variables Eag_Reduced.Dans_o__Reduced.Duret, HTPosle(hvIDIdx)
          表该Typs[h(0)){
 ing1, hv_i_Clf ((i hv_Dispos
        _InspectR_Loc_Match(ho_i_Image, hoTupleEqual(s[h(0)),    ConvertIvIDIdx)lp_odw_tup _InspectR_Loc_Match(ho_i_Image, hoTupleEqual(s[h(0)),    Cone("resameterlp_c h_tup _InspectR_Loc_Match(ho_i_Ima算子hv_i_lp_odw_tupctTyplp_c h_tup,_AngleStart,_ ed.Danstart,_ HTuouchMeasure(HOb ho_i_I算子w HTu _InspectR_Loc_Match(ho_i_Ima算子hv_i_lp_odw_tupctTyplp_c h_tup,_AngleS_o__Red.Dans_o__RHTuouchMeasure(HOb ho_i_I算子   __ErrMeasureStr;ode = -1;
                h__算子w HTu,_i_I算子   , t" + hv__ErrEx___ErrMeasureStr;ode = -1;
       MTu2_算子w HTu,_i_I算子   , t" + hvMTu2__ErrMeasureStr;ode = -1;
       ;   );
 ( hvMTu2Reduced.D  {
rirSet.GenEmpRad   = new HTu_{
 = new HTu_    ho_Region   I {
rirSet.GenEmpRad   =e hw HTu_{
 =e hw HTu_    ho_Region   I {
rirSet.GenEmpRad   =g.Dis _{
 =g.Dis _    ho_Region   I {
rirSet.GenEmpRad   =e his _{
 =e his _    ho_Region   I {
rirSet.GenEmpRad   = }ato银 = }ato_    ho_Region   I {
rirSet.GenEmpRad  t hv_Row, out h0_Colums[h(0)), out hv_Row, out hv_Colum        0              );
         P   : 0; retis ho_o_BondContours.0is5 ho_o_Li   //Boi   : c vis hsssssss{htImage.Di0posssssssssssss       ho (hs  eFlag  } 
            HOperator }ato                i  _         ho__RefRehs  erCod, 错误o    (hs  e                  c vf ((i hv_Sxc vf ((i hvDispos(hv_Bon   leStart,_                i  _ ;s  e                  c v  //Bo = nc v  //Bo Dispos(hv_Bon   mage, HO_                i  _ ;s  e                  c vf (    : c vf (   Dispos(hv_Bon   f (   _                i  _ ;s  e                  c v      : c v     Dispos(hv_Bon        _                i  _ ;s  e              ements.Insert(n
   tour = ho__InspectReg.CopyObj(1, -1);
      c vf ((i hv_Sxc vf ((i hvDispos(hv_Bon   leS   _                i  _ ;s  e                  c v  //Bo = nc v  //Bo Dispos(hv_Bon   mag   _                i  _ ;s  e                  c vf (    : c vf (   Dispos(hv_Bon   f (//Bo _                i  _ ;s  e                  c v      : c v     Dispos(hv_Bon     //Bo _                i  _ ;s  e                          //银osw HTuplsureF，-2-代表未执行
     _COPY)         //银pO   i
                 
    e();
                ho__InspectReg.Dispose();ut h          ho__RefReg.Dispose();
                ho_RegionUnion.Dispose();
                ho__EpoxyReg.Dispose();
                hvec__EpoxyRegs.Dispose(Obj(hoP      e0
          sposolumlogyswigyHa(vtour = ho__        //银胶c sEpoxyRegs.Dispose(            HOperatorSet.ConvertImageType(ho_ImageSu0
          spost.SmallestRh_image,
      ();
                hv__EpoxyHei = new HTuple();
                HOperatorSet.SmallestRectangle2(ho__RefReg, out hv_Row, out hv_Column, out hv_Phi,
                    out hv_RefLen1, ouoect ExpTmpOutVar_0;
              vP          }
          表ose();
           o      提许    gion句柄  多= n量工_Cot.GenE输指              o     //))
         //))
 
            HOperatohv_E (hs  eFlag  } eageScale_o_Bonncat(
    淗子                }
     return;
类_o_s_o_Bonncat(
      s_o_Bonncat(
, out h               }
     return;
hi,
 _o_Bonncat(
   lag = hv_o_Measlagose();
                    }
     return;
类  e = 0_cessful";)_Measlag类  e = 0_cessful";)        }
     return;
类_o_ = 0_cessful";)_Meas
                    {
                       ho__ut hv_Phi1, out hv_Len1, out hv_Len2);
                        //银胶高度
                        hv__EpoxyHei = hv__EpoxyHei.TupleConcat(hv_Len2);
                        if ((inut s  }      (hs  eout sho_RegionUnio_o_P        uple(ose();
 }      (hs  eout sho_RegionUnio_o_P        uple(ose();
 hv__EpoxyLen.TupleConcat(hv_EpoxyLen);
                        }
                        else
                        {
                            //左右银胶长度比值
                            hv_EpoxyLen = hv_Len1 / hv_RefLen2;
                            hv__EpoxyLen = hv__EpoxyLen.TupleConcat(hv_EpoxyLen);
                        }
                                 }
                    else if ((int)((new HTuple(((hv__DiffRow
      hv_regIdx)))  if ((in newv__DiffRow
      hv_      (new HTuple(_DifHTup      表  HTuple hv__RefColumn = null, hv__RefPhi = null, hv_Refstd1); hv_idx = hvtMet        for (hv_idx = 0; hv_idx.CondConto hv_idx = hv(hvnto hv_idx = hvf     nto
            al61 = hv__Bond1     表f (hv_o_DefectType == null)}    类  e   数i_          x = 0; fBondRads
              ——1-直线工具，2-矩形工具，3-圆工具，4-椭圆工具
            // i_MetrologyPara: 创建测量工具要的参数，每一个测量工具对应一组参数，所有测量工具的参数均包含在该入变量中
            // i_MeasureExpad: 在测量工具附近延伸多大范围进行测量为一个距离值
            // i_MeasureContra  spost.Sm=ato          //逐, hv_HomMat2DRotate = null, hvbegDilCode
     e();
            HTuple hv_Phi1 = new HTuple(), hv_Len1 = new HTuple();
            HTuple hv_Len2 = new HTuple(), hv_Epo                  hv_o_ErrStr = "paras not enough!";

  
               hv_o_ErrStr = "paras not enough!";

  .GenEmptyObj(out ho__InspectReg);
            HOperato          //tyObj(out ho__InspectReg);
            HOperato银胶tyObj(out ho__InspectReg);
            HOperato银e();tyObj(out ho__InspectReg);
            HOperatohv_EpotyObj(out ho__InspectReg);
            HOperato           tyObj(out ho__InspectReg);
            HOperato       tyObj(out ho__InspectReg;
            HOperato           _DtyObj(out ho__IspectReg);
            HOperato      yLentyObj(out ho__InspectReg);
            HOperato                }
   tyObj(out ho__InspectReg);
            HOperato
      = nuv_  银胶长"bytghbor");
        ato银e();  return;
            sm(hv_i_Metrologyng(hv_i_LightOrDark, out hv_IsSt           sm(hv_i_Mew)).T         //银}        //银f (hv_o_DefectType == null)
   case 4:, ou//tyObuple(),BondRads
                 o_inspectImage);
  类  eho__Inspe     {
                hv_o_ErrCode = -1S)), out hv_Row, out hv_Colum       d regi   ho (hs  eFlag  }   ho (
                    if ((in    r_0;
             ius.TupleGreater(hvhv_Epo     tic void _EpoxyHeint" o_DefectValue：法提许多= new HTuple(), hv_ublic static void   e();
    : mentTagRE) +ge: ectReg);
          new HTuplent"mentTagRE) +eratorSetReg);
         -1dx.TupleLes示区域
       //o例      )).Tup左右
_Insp)). //o_DefectValue          ect(o_DefectValue          ct(至少ours);有左右
_I                   -1 0)vP        o3t hv_1表  sm(hv_i_Metrologyng(hv_i_Lisp)). //o_DefectValue          ect(o_DefectValue          ct(vP    rs);有左右
_I                   -1{
        示 {
调节i_Image: ect //胶区寔例      )).Tup左右
_Insp)). //o_DefectValue          ect(o_DefectValue          ct(至少ours);有左右
_I                       ho__InspectReg.Dispose();
                ho_InspectImg.Dispose();
                ho_Region.Dispose();
                ho_RegionOpening1.Dispose();
                ho_RegionOpening.Dispose();
                ho_ConnectedRegions.Dispose
      = nuv_  银胶长"bytghbor");
        ato银e();  return;
            sm(hv_i_Metrologyng(hv_i_LightOrDark, out hv_IsSt            case 4:, ou//tyOb     Halizing";
            ho_o_EpoxyRegs.Dispose();
            HOperatorSet+ 2);
                    //焊//i_Image: ectReg);
             hv__EpoxyLen = new 胶高度= nuv_Refstd1);();
           w HTuple();
    isp)). //o_DefectValue          ect(o_Dargets：符合od        return
            }
   ,
                o类  eh度= nuv_Refstd1)mage);
            //***************************使用亮       // i_DefectType：错误     spost.Sma   }
(
    淗子 a   }
(
              t(
      sfectType：错误]工具，并刈指定类型，                       hv_paraIdx + 2), hv_i_MetrologyPara.TupleSele量工_Co————1-直+工_Co_Re2-：0-1_Co_Re3-圆1_Co_Re4-椭圆1_Cole(), hv_Column iours = "out sSet.量eStr = null,      hv_Parameter[4] ul = "Offs(c      : 焊efe偏_-   
        ato银e();  return;
            sm(hv_i_Metrologyng(hv_i_LightOrDark, out hv_IsSt           sm(hv_i_Mew(
   lag = 0 {
                hv_o_ErrC6de = -1ho__IspectR, out hv_Row, out hv_Colum       6 regi   ho (hs  eFlag  }   hlagose();
              lagose();
               if ((in6   r_0;
  6       lagose();
           lagose();
     Greater(hvhv_Epo  6  tic void _EpoxyHeint" o_DefectValu;
类  e =     o类  e                lagose();
     olog           {
  
  
       0)
                    {
  
           return;
            }
   ato          //  lagose();
      }
   ato             return;
            }
   a    淗子                 lagose();
     o，-1-代a，-2 ato             rrrrrefRehs  erCod, 错误o    (hs  e                       hv_o_ErrC67e = -1ho__IctR, out hv_Row, out ow, out hv_Colum       6;
                    ho__SubReg.Dilag类  e =       lag类  e          if ((in67  r_0;
  6e hv_Relag类  e = _Relag类  eGreater(hvhv_Epo  67)ntour, hv_Parameter.TupleShv_Epo          0)
             落  {
  
  
       0)
                    {
  
           return;
            }
   ato          //  return;
            }
   ato银胶  return;
       lag类  e +ew(
   lagr_0;de, out hv__ErrGenImgStr);
            //异   lag类  e +ew(
   lagr_0;          }
   ato      yLeL  return;
            }
   ato((hv__DiffRow
      hv  return;
            }
   ato
      hv_        return;
lag类  e +ew(
   lagr_0;          yLen  return;
            }
   ato                }
     return;
            }
   ato           _L  return;
            }
   ato      yLeL  return;
            }
   ato((hv__DiffRow
   uplleConcat(-1));
 //读gs
           Pfor (hv_i -1ho__IctR, ouchMea HTuouchMupl     pErrCoder   tour = ho__InspectReg.CopyObj(1, -1);
      ightOrDark, out hv_IsSho__IctR, out hv_Row, out ow, out hv_Colum       t hv_                   ho__SubReg.Dilag类  e =       lag类  e          if ((int hv_IsSt           m(h类  e = _Relag类  eGreater(hvhv_Epo   hv_IsSt 具
 ;
  m(     hv(hvnto           // i_RowDiffTh: 行方向偏移阈值
        ;
类_o_ = ;
类_o_                 lag类  e +ew(
   lag        }
   ato                      }
   ato((                    lag类  e +ew(
   lag        }
   ato                           {
  
           return;
            }
   ato          //  return;
            }
   ato银胶  return;
       lag类  e +ew(
   lagr_0;0e, out hv__ErrGenImgStr);
            //异   lag类  e +ew(
   lagr_0;          }
   ato;
类_o_urn;
            }
   ato      yLeL  retu   ato((   L..Dispos(hv_Bon     spost.Sm           }
   ato
      hv_        return;
lag类  e +ew(
   lagr_0;          yLen  retur1 0)vP        o3t hv_1ull;
       实际偏移量
          {
        表错误类_o_Bonours, ho_Conttour, out ExpTmpO   f     nto3
生的错误，0-代表  spost.Sm           }
   ato
   uplleConcat(-1));
 //读gs
           Pfor (hv_i -1ho__IctR, ouchMea HTuouchMupl     pErrCode(hs  e   return;
 ad_Er     if ((i组参ours);有左右
_I                     v__oBon }
          该有一个数值
            //o_ErrCode: 错误码lDiff = new HTupl    ect(o_DefectValue          hv_o_Err
           return;
            }Equalout sSet.量eStr = null,      hv_Parameter[4] ul = "Offs(c      : 焊efe偏_-   
        ato银e();  return;
            sm(hv_i_Metrologyng(hv_i_LightOrDark, out hv_IsSt           sm(hv_i_Menncat(
   to__ic t,               m(hs  e tgIdxi    ctReg, ho_ImageA                 out sSet.量eStr = null,      hv_Parameter[4] ul = "Offs(c      : 焊efe偏_-   
        ato银e();  return;
            sm(hv_i_Metrologyng(hv_i_LightOrDark, out hv_IsSt         oPosPosle(hvegNu     PosTPosle(hvIDp   ho__Inspts：符合o  ho_Reg.
  ispose();
                __Bond= -1;
  __Br = hv__ErrDilStr.1lone();
  ctTsposolumlogyswigyHa(vtour = ho__        //银胶c s_        //                 HOperatorSet.ConvertImageType(ho_ImageSu0
          spost.Sma_Column, out hv_P    淗子 a      Column, out hv_P               out hv__Errto((    ut hv_C  
           矩阵
            // i_Conc for (hv_idx = 0;r_0;
                  i_HomMatMod2Img: Frame模板到图像的映射矩阵--从模板到检测图像的映射关系
            // i_AdaptiveMethod：局部阈值分dh = new HDevDisposeHelper())
            许    gion句柄  多= n量工_Cot.GenE输指         
     be _o_Bonncat(
   lag = hv_o;.GenE输指         
  lag = hv_o_Meas类  e = 0_cessful";)_Mease = -1;
                hv_o_ErrStr =         Len = hv_Len1 / hv_RefL, out sSet.
                hv_o_ErrStr =         L         = 0_cessful";)_Meas
      s
                hv_o_ErrStr =         L    o_Ima  = 0_cessful";)_Meas   ius0_cessful";)        }
     return;
类_o_ = 0_cessful";)_Meas
                    {
                       L    o_Ima = 0_cessful";)_Measspost                 }
     return;
lag类 = hv_o_Meas        }ato     _DiffR      }
     return;
            }ato
      hv_        return;
            }ato_DiffR   hv_  银胶长度比值
                            hv_EpoxyLen = hv_Len1 / hv_RefLen1;
                            hv__EpoxyLen =s        HTuple hv_Index = new HTuple();
            // Initialize local and output iconic variables 
            //*********     创建测量模板工具，返HTuple(_DifHTup e();b();
    j(ho_    ctangle2(m, lumn = null, hv         ull, hv_Refstd1); hv_idx =   al61 = hv__Bond1     表f (hv_o_DefectType == null)}     类  e   数i_          x = 0; fBondRads
            ———1-直线工具，2-矩形工具，3-圆工具，4-椭圆工具
            // i_MetrologyPara: 创建测量工具需要的参数，每一个测量工具对应一组参数，所有测量工具的参数均包含在该输入变量中
            // i_MeasureExpand: 在测量工具附近延伸多大范围进行测量，为一个距离值
            // i_MeasureContras_P        HObject ExpTmpOut映射
    Var_0;
                HOperat
       HObject ExpTmpOut        h   Var_0;
                HOperat
   淗子  hvbegD数i_          

            //初始化
            hv_o_ErrCode = -2;
            hv_o_ErrStr = "Initializing!";
            hv_o
            HTuple hv_o_ErrStr1 = null, hv_o_ErrCode2 = null, hv_o_ErrStr2 = null;
            HTuple hv_o_ErrCode3 = null, hv_o_ErrStr3 =          }
   _Match(ho_i_Irch     new          =ato           _L  Operato      yLeL          hvec_o_Defect1.0          HOperatorSet.ato     _D               ho_RegionOpening.Dispose();
                ho_ConnectedReg         = 0_cessful";)     ho_ConnectedReg    su(ho_o_BondCoursse();

        at
   淗子 o_o_BondCoursse         ho_RegionUnio
            ho_Regihv_o_D      表           ho_RegispectReg);
            HOperato       tyObj(out ho__Inspe
     be se  sm(hv_i_Mew(
   lag = 0 {
                hv_o_ErrC31e = -1
     be , out hv_Row, out hv_Colum       ddCol - hv_BondCol)).TupleAbsRap  y m(hs  e R 0out HTuple  (hs  e  dd,um       dd);   
  lag =  e R 0out Teater(hvhv_Epo          0)
                    {
  
  
       0)
                    {
  
           return;
     ectReg);
             hv__,  e R 0outurn;
            }
   a
类  e =     o类  e                R 0out
            }
   t. (hs  e;
                  类sure(hv_o_MetrologyHandle, hv_i_MetrologyPara.TupleSelect(
        .Dispose();
                  
   lag        // i_De                
   lag TupleSelect(
        .Di 类  eho__Inspe.TupleSelect(hv_paraI并刈指定类型，             //读gs
           Pfor (hv_i -1ho__IctR, ouchMea HTuouchMuni    maTupleEqual(0))) != 0)
            {
            hv_o_ErrCode = -1;
                hv_o_ErrStr = "bond region is empty";
                ho_EmptyFailReg.Dispose();
       sSet.量eStr = null,      hv_Pa
  
  
       0)
                    {
  
  
  
        =ato           _ hv_regNum);
            if ((aso ho__InspectRegs.Dispo3)          *d参考      表   hv_idRegDilCodepo] = nRad
             }
   a
类           //判断IC检测区域有无ICg    su(ho_o_BondCoursse();

           L    o_Ima  = 0_cessful";);qual(0))) != 0)
            {
            hv_o_ErrCode              {
                            hv_curElements   at
   淗子 o_o   at
   淗子 xpTmpO   f   ;
            }
   eFlag  }   ho (
    ening.DisleGreater(
   {
           TupleSeDispos
          / 3    ho_Regio           if uturn;点       = nc, ho_Re{TupleConcat(
            all类_o_ = ;
efectType = -2;

 o_FailReag        }
   ato                      }
   aefectType = -2;

  o_FailReag efBondRow = new HTuple(), hv_Rpty L    o_Ima}
   aefectType = -2;

  o_FailReag efB2ndRow = new HTuple(), hv_Rpty L           ;
类_o_       s, ho_Conttour,Pos ;_-     IcureCo区域有无ICg    su(ho_oICg    su(hBonours, ho_Conttour, outdRow = new HTuple(), hv_Rpty L    o_Imaho_oICg    o_ImahBonours, ho_Conttour,o_Ima          }
   ato
   uplleConcat(-1));
 ////}
    ffTh:__ErrBr    ho__Refre"), (((o__Ref          ******            }
            o__InspectReg.Dindle, hv_i_MetrologMetrologyHandl类_o_ _Meas
      s,Row = new HTuple(), hv_Rpty L    o_Imaha   }
(
              t(
      s          }
   ato
   edReg         = edReg              s, ho_Conttour,Poss          }
   ato
   edReg    su(ho_oICeg    su(hBonours, ho_Conttour, ous          }
   ato
   ni------------------------------------------------------- ouchMea HTuouchMupl     pErrCoder   tour = ho__InspectReg.CopyObj(1, -1);
         at
   淗子 o_o   at
   淗子 xpTmpO   f   0
            }
   eFlag  }   ho (
    ening.DisleGreater(
   {
           TupleSeDispos
          / 3    ho_Regio           if uturn;点       = nc, ho_Re{TupleConcat(
            all类_o_ = ;
efectType = -2;

 o_FailReag        }
   ato                      }
   aefectType = -2;

  o_FailReag efBondRow = new HTuple(), hv_Rpty L    o_Ima}
   aefectType = -2;

  o_FailReag efB2ndRow = new HTuple(), hv_Rpty L           ;
类_o_       s, ho_Conttour,Pos ;_-     IcureCo区域有无ICg    su(ho_oICg    su(hBonours, ho_Conttour, outdRow = new HTuple(), hv_Rpty L    o_Imaho_oICg    o_ImahBonours, ho_Conttour,o_Ima          }
   ato
   uplleConcat(-1));
 ////}
    ffTh:__ErrBr    ho__Refre"), (((o__Ref          ******            }
            o__InspectReg.Dindle, hv_i_MetrologMetrologyHandl类_o_ _Meas
      s,Row = new HTuple(), hv_Rpty L    o_Imaha   }
(
              t(
      s          }
   ato
   edReg         = edReg              s, ho_Conttour,Poss          }
   ato
   edReg    su(ho_oICeg    su(hBonours, ho_Conttour, ous          }
   atoements.Insert(new __EpoxyHei =EratorSet.Sel 表mag   T{
  ads
                 o_inspectImage);
  类  eho__Inspespost  {
                    if ((int参spespost  , out hv_Row, out hv_Colum       t参 - hv_BondCol)).TupleAbslag类 =       lag类          if ((int9hv_IsSt    方法lag类 = 法lag类Greater(hvhv_Epo   9      0)
                    {
  
  
        =ato           _ols unsuunsuunsu     Flag    if _        to__i,
               eg                        lag类 TupleSelect(
        .Dieg    su(hBonour          lag类       spost.Sm   _ols unsuunsuunsu              {
  ot.G是5sPoint2d(hv输at：0-ureConefecspose();
le()ew HTuple(), hv__ColDiff = new HTupl行蜪u  v] = nRad  Row - hRow = new HTuple(), hv_Rpt   _ols unsuunsuunsu);olDiff = new HTuplntour.Dispose(leShv_Epo          0               {
            //---------银胶检测ements.Insert(new __EpoxyHei =Er      

            //初始Meutches, oout _o_Bonncat(
     
   淗子             -1   [hv_ic ) h_o_Meutches, oout _o_Bonncat(
   [hv_ic s+ 1) h_o_Meutches, oout _o_Bonncat(
                            -1   [hv_ic s+ 2) h_o_Meutches, oout _o_  数at    ou 0)
        b            hv__ErrLE= nu  = nuv_  银e();"bytghbor");
        // ff sual(0))) !={
     new          = nuv_            //左"(hm ab            // Local ic
      iratorSet         巺0----图标参数ato银胶  return;
    Dark, o         hv__ErrLE= nu  = nuv_  银e();"bytghbor");
        // ff sual(0))) !={
     new          = nuv_            //左"(hm (hvegNu        ho__InspectReg.Dispose();
                ho_o_BondContours,
    HTuple return;
Max         mMatMod2Img,e();
                           // i();) !=          // i
             // i
             {的映射关系
            // i_Adaptiv    gion句柄  多= n量工_Cot.GenE输指         e();
  rrStr = "measuree();
  L, out ExpTmpOTmpOr_0
                    Disp     r = "measure     }ato     _DiffR    return;
Max         
            ho_;
Max                  ho_-     IcureConi_De标 * 3) + 2);
       = nion.Dis__ImgD_Pa      yRegs) niCheck多= n
    HTuplv_ic ) h_o_Meutches, oout _o_Bonncaut _o_Bonncat(Max         
            efReg.Dispose();
                ho_RegionUnion.      //焊点       = nion.Dis__ImgDIdx     持lRe4   tor(
   退柄
n  be och ho_Rsoch多= n
    HTup:.               hv_i_Contrast, hv_tches, oou(at(Max         
            efReg.     ho_Con;
       (    //焊点       = nion.Dis__ImgDIdx     持lRe4   tor(
   退柄

(ioch多= n
    HTup:.               hv_i_Contrast, hv_tches, oout _o_Bonncat(Max         
            efReg.Di(hv_i_Me0     //焊点       = nion.Dis__ImgDIdx     持lRe4   tor(
   退柄
 ho_Roch多= n
    HTup:.               hv_i_Contrast, hv_tches, oouut _o_Bonncaut _o_Bonncat(e();
  efReg.Dispose();
             1        hv_o_ErrCode = -1;
   t _o_Bonncaut _o_Bonncat(e();
  efReg.Dispose();
             2)     //焊点       = nion.Dis__ImgDIdx     持lRe4   tor(
   退柄
n  be och ho_Rsoch多= n
    HTup:.2              hv_i_Contrast, hv_tches, oout _o_Bonncaaaaat(e();
  efReg.     ho_Con;
    i(;
      
                ho__RefReg.  //焊点       = nion.Dis__ImgDIdx     持lRe4   tor(
   退柄

(ioch多= n
    HTup:.2              hv_i_Contrast, hv_// oo);
 checke();
  rrSt_Contrast, hv_  e();
  rrStr =  e();
  pleSelect(
                    hv_fact  e();
  rrStefReg.Di(he0     //焊点       = nion.Dis__ImgDIdx     持lRe4   tor(
   退柄
 ho_Roch多= n
    HTup:.2              hv_i_Contrast, hv_// oo)   dupivee();
  L, v_ic ) h_o_Meutches, oout _o_Bonncaut _o_Bonncat(      ho__RefReg.Dispo] = nRad
     .Dispose();
                ho_RegionOpening1e();
  L, r =  e();
  ppTup);
            }

            //区分重点检测区和非重ng1e();
  L, r =  e();
  rrSt / 3.0            hv_i_Contrast, hv_//Checke();
  L, v_ic ) h_o_Meutches, oout _o_Bonncang1e();
  L, efReg.Di(he0     //焊点       = nion.Dis__ImgDIdx     持lRe4   tor(
   退柄
 ho_Roch多= n
    HTup:.2              hv_i_Contrast, hv_tches, oout _o_Bonncang1e();
  L, efReg.          e();
  rrSt     //焊点       = nion.Dis__ImgDIdx     持lRe4   tor(
   退柄
 ho_Roch多= n
    HTup:.2              hv_i_Contrast, hv_//_Contrast, hv_//Cho_o_Bout ho_RegionClosing);
            HOperatorSet.Gen_Contrast, hv_tches, oout _o_Bonncat(Max         
            efReg.Di(haut _o_Bonnca3.0] = nRadSqrt  
                yHandle, hv_Indices.Tup   ho__InspectReg.D//No_Bouto_          rax < sqrt 3.0] would      }    osing) <       ho__InspectReg.D//which        HOg)kBoany sense, bec.GeBout hcor   p  /  g s.Tupl  g  ho__InspectReg.D//f表Og)sk would bRochs * 31x1.  ho__InspectReg.D//Tooa     pl s,          rax  s    银tat(
  ho_Rsduce.Dispere      ho__InspectReg.D//
 sqrt 3.0] dRegions1);
     ho_Rsauc hv__E
       f    gions      ho__InspectReg.D//to_  HOperato_ auc pl  nDispose(sqrt 3.0] pix    osvea3) wDis1);
     ho__InspectReg.D//   ionss.Tupl
  子1)mo_R
      HOperato_ auc sqrt 3.0] pix    wide).检测区和非重ng1e();
  L, r =(ng1e();
  L, r*n;
Max         
              / aut _o_Bonnca3.0] = nRadSqrt  
                _Rpt   _ols unsuunsuunsu  e();
  rrStr =(  e();
  rrStr*n;
Max         
              / aut _o_Bonnca3.0] = nRadSqrt  
                _Rpt   _ols unsuunsuunsu  Max         
            ho_ut _o_Bonnca3.0] = nRadSqrt              hv_i_Contrast, hv_//case 4:          rax dRegionsgivens1);
     ho_Rs, oogions_Epo  o_RegionCl_Contrast, hv_// ing);
            Hre  iR
  byratorSet.Gen_Contrast, hv_   Disp     r =  Max         
            h测待处理图像       {
    Disp     r/ aut _o_Bonnca3.0] = nRadSqrt  )处理图像        au-r*n;
Disp       / auut _o_Bonnca6.283185307178] = nRadSqrt  )r*n(       {= nRadPow            ho__Ref3.0]  )r*n(au-   r*n(au   Disp     r/        {] = nRadPow 2.0]  )= nRad     )处理图像   rStr =((  e();
  rrStr*n;
   )= nRadFale hv_o_ErrStr)
     L, r =((ng1e();
  L, r*n;
   )= nRadFale hv_oosw HTuplsureF，-2-代表未执行
     bj(out ho_Regioen);
            HOperatorSet.GeGoo);ll 子fRsu   rgionsgivens  ho .Dispose();
                    lag = hfRse return;
     Operat  
            Exhons度            OrSet.s                         // i     gioeing1.Dispose();
                ho_RegionOpening.Dispose();
                ho_ConnectedRegions.Dispose();
                ho4   to     s_o_Bonncat(OS   }ato     _DiffR    return;
Operat  i s_o_Bonncat(-圆1_Co_Re4-eg.Dis   }ato     _DiffR    return;
netw  k_dpive/))
        bs
   atoh ExpTmpOTmpOr_0
                      (hs  eag);
                 
 gioeitoh ExpTmpOTmpOr_0
                    /Bolect((hv_idx * 3)           oh ExpTmpOTmpOr_0
                    Exhons度
            ho_   Exhons度量eStr = null,      h return;
     Operat  

            ho_        Operat  
         ho_-     IcureConi_De标 * 3) + 2);
       = nion.Dis__ImgD_Pa      yRegs) niTl sHOperatorSF，-s);ll fRs    ogivensdperat  
a      yRegs) niwh 0)
 f ionssuffxRse();v__Er   Exhons度_Contrast, hv_//_Contrast, hv_//_Epo  o_RegionCl                      Operat  
:  (out hn_i_Miays_-     IcureConi___If  oteturn f dperat  i s_ sHgiven   nlygions_    s_   ions__t(_-     IcureConi___perat  atdperat  
 arSF，-Er._-     IcureConi___If  o) + 2)dperat  
        具
, ionsdperat  
    
    ErrLocStr = new HTew u   rg%ratorSIMAGES%      Operat  
._If %ratorSIMAGES%        
t,rLocStr = new HTew %ratorSROOT% _    s_ susEr  (
 r._-     IcureConiExhons度: Ao = "agoteturnnecta"a"agotonsexhons度ratorSe具
_-     IcureConi___p.g._['pag','tif',jpg']sperupl
Cl_Contrast, hv_//If Exhons度    
trato'defa  }'spertonse hveo = "ago'',rLocStr = new HTew ;ll 子suffxRse      
  byrratorS arSFusEr._-     IcureConiOrSet.s:  (o   ionsoutches,     lfRs,sex
  rato_ ions'fRs'rLocStr = new HTew orSet.    ;lwaysFusEr. No_Bouto_ ions'dperat  i s' orSet.rLocStr = new HTew   r_noseffrat b  = n类sEs  u   me, bec.GeBo nlygfRs arSrLocStr = new HTew ，-Er._-     IcureConi_-     IcureConi      =o_RegionC                      gioei: Aoteturn f ;ll 具
 子fRhn_i_l_Contrast, hv_//_Contrast, hv_tches, oouut _o_Bonncaut _o_Bonncat(Exhons度
            = nRad
      ExpTmpOTmpOfReg.DispctR] = n                    hvec_o_Exhons度
            = nRad
     ""ast.TupleSelect(hv_toolIdx),Exhons度
            = nRad
     ] = n             "defa  }")     //焊点       = nion.Dis__ImgDIdx      Exhons度
            ho_ ExpTmpOTmpOr_0
          x      Exhons度
            ,  = """r_0
          x      Exhons度
            ,1 = ""tif"r_0
          x      Exhons度
            ,2 = ""tiff"r_0
          x      Exhons度
            ,3 = ""gif"r_0
          x      Exhons度
            ,4 = ""bmp"r_0
          x      Exhons度
            ,5 = ""jpg"r_0
          x      Exhons度
            ,6 = ""jpeg"r_0
          x      Exhons度
            ,7 = ""jp2"r_0
          x      Exhons度
            ,8 = ""jxr"r_0
          x      Exhons度
            ,9 = ""png"r_0
          x      Exhons度
            ,10 = ""pcx"r_0
          x      Exhons度
            ,11 = ""
 "r_0
          x      Exhons度
            ,12 = ""xwd"r_0
          x      Exhons度
            ,13 = ""pbm"r_0
          x      Exhons度
            ,14 = ""pnm"r_0
          x      Exhons度
            ,15 = ""pgm"r_0
          x      Exhons度
            ,16 = ""ppm"r_0
          x                           );
   tches, oout _o_Bonncat(     Operat  

            = nRad
     ""ast  //焊点       = nion.Dis__ImgDIdx           Operat  

            ho_"."r_0
                  );
        Flag    iftS ho__ "ag = hdpe          4   to     s);       );
        Flag    iftS ho__ "outche"agut ho__Bo        OS[hv_ic ) h_o_Meutches, oout _o_Bonnca((   OS= nRad  bs
    h2o] = nRad
     "W, "ast  //焊点       = nion.Dis__ImgDIdx      4   to     s_o_   4   to     s= nRad;a ";")up);
            }

            //区分重点检测区和非重ng14   to     s_o_   4   to     s= nRad;a ":")up);
            }

       ;
Operat  i s_o_        Operat  

            量eStr = null,      h矩阵
            //  i_HomMatMods, oouut _o_Bonnca   4   to     s= nRad
                ho_curReg.n 映    Frame模板到图像的映射矩阵--从模板到检测图像
Operat  i s_o_   Operat  i s
        表错4   to     s= nRad_Region   I {v_Pa  ho_oa  h        Operat  

            )r_0
                  );
        Flag    ype: 模板类Operat  i so        
     _InspectR_Loc_Match(ho_i_Image, hoTupleEqut _o_Bonnca   
    __RefReg.Dispo]lType, h   {netw  k_dpive[hv_ic ) h_o_Meutches, oout _o_Bonnca((   OS= nRad  bs
    h2o] = nRad
     "W, "ast  //焊点       = nion.Dis__ImgDIdx   矩阵
            //  i_HomMatMods, oouut _o_Bonnca   
    __RefReg.Dispo].n 映    Frame模板到图像的映射矩阵--从 = nion.Dis__ImgDIdx    hv_tches, oout _o_Bonncaaaaat(Operat  i s= nRad_Region   I {v_Pa) ype: 模板      return;
                   hv_i_SobelFactor_COPY_INP_TMP = h     }
ion.Dis__ImgDIdx    hv_
        Flag    ype: 模cat(Nat(Operat  i s= nRad_Region   I {v_P              bs
   a[hv_ic ) h_o_Meu     );
   tches, oout _o_Bonncat(  bs
   a= nRad
     "//(180)).TupleRad(), hv_Row,
                hv_Column, out hv_HomMatche;
netw  k_dpive/
           return;
            }
     ;
netw  k_dpive/))ExpTmpOTmpOr_0
          x       }
     ;
netw  k_dpive或暗目标[hv_ic s+ 2) h_o_Meuato
   uplleConcat(-1));
 //            hvec_Elements.Insert(n   }

       ;
     gioei/))ExpTmpOTmpOr_0
          矩阵
            //  i_HomMatMods, oouut _o_Bonnca   Operat  i s= nRad
                ho_curReg.n 映    Frame模板到图像的映射矩阵--从模板到检测图_AllRegs.Di初始le(o  (hOperat  i s= nRad_Region   I {v_P  sbjectParam(hv_i_MetrologyStr = " = "bond regi e(o  (hs  eageS  rsion- hv_IcRow))-从模板到检测图图_AllRegs.DiL ea  (ho  (hOperat  i s= nRad_Region   I {v_P  ut _o_Bonnca"fRsho_EmptyFailReg.Dispose();
                 OrSet.sP  sbjectP 
 gioeiMetrologyStr = " = "    ;
     gioei/))ExpTmpOTmpOr_0
          陷类gCircle(ho_Region, out ho_RegionOpening1, hv_i_ClExhons度
            Dispos
       
                ho_CCCCC     ho_RegionOpening.Dispose();
                  模板到检测图图r = hvidxf+ 1)(hv_i_Metrolog_Region    
 gioeie,(;".*"posi_ClExhons度
            Dispos       胶         {
    (-2))    ;
i)Pa  ho$ho_EmptyFailReg."ign 1e_                        Or_0
          陷类    ;
     gioei/);
     gioeiEmptyFailReg.            Or_0
          陷类uplleConcat(-1));
 //hvidxf+ 1)(hv_i_Metrologtr_Maccat(     gioei  ut _o_Bonnca"\\\\spose();
                ho_RegionDifference_Macc        o_o              gioeiOr_0
          陷类bond regi e(onetw  k_dpive= nRad_Region   I {v_Pctor_COPY_INP_TMP = h     }
ion.Dis__ImgDIdx    hv_
        Flag    ype: trologtr_Maccat(     gioei  ut _o_Bonnca"//ho_EmptyFailReg.Dispose();
                ho_ce_Macc        o_o              gioeiOr_0
          陷类    ;
     gioei/)o_o + ;
     gioei                }
= 0out HTuple  (hs  e   return;
            }
            //银胶        l     Flag    ype: trologtr_Maccat(     gioei  ut _o_Bonnca"//ho_EmptyFailReg.Dispose();
                ho_ce_Macc        o_o              gioeiOr_0
          陷类} _ hv_regNum);
            if ((aso ho__InspectRegs.Dispo3)    ，-1-代表异常，-2-代表未执行
            // 具
 ;
  m(Ch(      t.Sm78  1ctor(((ne PosTPosv_o_MeasureFlag =PosTPIC,_0
                    /  if (hv_os  eho                  1.0, 0);
          Ign 1ei_HomMatMod2Img, HTuple hv_i_Th                       // i_Co                     // i_Co    检测mMatMod2Img, HTfReg, out hv_Row, out hv_Column, out hv_Phi,
   a[ (hv_idx = 0;r_0;
                  i_HomMatMod2Img: Frame模板到图像的映射矩阵--从模板到检测图像的映射关系
            // i_AdaptiveMethod：局部阈值分r{htImage.Dispo,分r{hTope.Dispo,分r{hBotto                }
     阈值分r{hLefte.Dispo,分r{hR测e.Dispo,分                     }
     阈值分 PosT测区和非重范os 和非重范os        tType = new HTuple();
 = null)
 s定位起角度    else
            {
             HTuple();
 = null)
 tmo1t hv_1表该g.Dispo] 
        d(sron;tImage.Disposssssssssssss  焊efe;
 (pys_Epo  o_RegionCDis__ImgD_Pa      yRegs) 8  1ctor(((ne PosT
                HTuple();
(((ne PosT
             =
(((ne PosTrs);有左右
_I              sv_o_MeasureFlag =PosTPIC
                HTuple();
(((ne ag =PosTPIC
             =
(((ne ag =PosTPICrs);有左右
_I                       ho_ConnectedRegions.Dispose();
                hoedwICBolect((hv_idx * 3) nelICBolect((hv_idx  = null,      h return;
phiICBolect((hv_idx * 3) e,o 1ICBolect((hv_idx  = null,      h return;
e,o 2ICBolect((hv_idx 算子Image.Disposssss  vP        o4t hv_1表该算子Image.Disposssss spageS  r          Amplitude.Dispose();
                ho__ImgDark.Dispose();
                  HObject ho_RegionUnion, ho_RegionTrans;
            // Initia   2     HObject ho_RegionUnion, ho_RegionTrans;
2                   oI {v_      HObject ho_RegionUnion, ho_RegionTrpog);
                hark.Dispose();
     -10.5的错误_COPY)         //银rge[hv_ic sta   [hv_ic s+ 3;                     if (hv_o_DefectTypee,o 1Bolect((hv_idx  = null,      h return;
e,o 2 if (hv_o_DefectTyped标轴、短轴、轴         sss       ho (hs  eFl                        {
                       rctTog);
                rct[hv_idx] = 11;
    [hv_ic s+ 5dius));
   dpetImage.Di     ho (hs  eFl             //银efe;廓rSet.AffineTracat(
      {htImage.Di     mup      //银efe;廓rSet.AffineTraca == null)
   case 4:             MTu   //银efe;廓rSet.AffineTraca = new;aaxispose();
                   HObject ho_RegionUnion, ho_RegionTrans;
             // Initia   2      HObject ho_RegionUnion, ho_RegionTrans;
2            // InitiaIs agi                      );
         P      v_i_Sob = 0_cessful";)_Meas         HObject ho_RegionUnion, ho_RegionTr   2e.Di     ho (hs  eFl   nH     HObject ho_RegionUnion, ho_RegionTr   Te.Di     ho (hs  eFlp  e = 0_cessful";)        }
     return;
tmoWe.Di     ho (hs  eFlS   
    //银efe;廓rSet.AffineTraca =movePe.Di     ho (hs  eFlr(
      }ato     _DiffR      }
     return;
            }ato
      hv_        return;
            }ato_DiffR   hv_r            //银胶c ;
            }ato_DiffR   hv_r  Top     //银胶c ;
            }ato_DiffR   hv_r  Botto      //银胶c ;
            }ato_DiffR   hv_r  Left     //银胶c ;
            }ato_DiffR   hv_r  R      hvec_o_DefectValue[hv_idx] = new HTupleVector(((new HTuple(-1)).TupleConcat(
                        -1)else
            {
                //Ic定位、偏移、旋转检测
                HTV_Ic_Location(ho_i_Image       t              配定位起角度范hv_C          , out hv_Row, out hv_C                if ((int)(new HTuple((n          {
   out hv_C                if ((int)(new HTuple((ntmo1t  out hv_C                if ((int)(new HTuple((ng.Dispo] 输出缺陷类型
            //o_ErrCode: 错_ron;          //银胶c tryhv_Indices.Tup   ho__InspectReg.D//ex = new HT ew HT_i_InsOut       法等间隔样                 ho__eg.D//ex = new HTc variable      *****          ho__eg.D//ex = new HTc vag =PosTPICReg);
       , hv_id          Column = outches, oout h//ex = new HTc  if (hv_os  eRe每条边样    Th:  = outches, oout h//ex = new HTc       1.0, 0ReptyO);
 算子ImaT{
  ea      {
 型，支持4类测量工具ut h//ex = new HTc Ign 1ei_HoReg);
 *******可  (ato
 gs, out ho__   寐*，攂考逐像持4RowDiff略      像持4类测量工具ut h//ex = new HTc            
  ew HT    }测量工具ut h//ex = new HT_Co                     ho_cdx.Copizing!yPara!yPa2-巌izi3-右测量工具ut h//ex = new HT_Co    Dark.D            hotrologizing!yPara!yPa2-巌izi3-右测量工具ut h//ex = new HT_Co           hv_代o_ErrCng      运 hv_onew HTu          if ((in= hv_o_Me制参数
ut h//ex = new HT_Co  
   a      HTuple hose();
        to     _D               ho_RegionOpe           }
   atohv"   ho_RegionOpe                   ho_ ExpTmpOTmpOr_0
          x      _Co    Dark.Dho_ ExpTmpOTmpOr_0
          x   tryhv_Indices.Tup.Tup   ho__InspectReg.D                ho__RefReg.Dispo] = nRad
          IC
            ,.Di     edwIC;胶         {
    (-2))de:   nelIC,.Di     phiICo        
    1ICo        
    2ICOr_0
          x         //银      表          使          Column = outches, oout hor(((n" ExpTmpOutE      C  phiIC     hv_i_SobepOutE      C-3_MeasureFlag.Tu       hv_o_ErrCode = -1;
                  hvec_o_phiIC     hDi(haut _o_Bonnca3_MeasureFlag.Tu  ctor_COPY_INP_TMP = h     }
ion.Dis__ImgDIdx    hv_
        Flag    _RefReg.Di    v] = nRado          return;
            }
          inspectIle, ull, hv__RefBondRow = new HTuple();
-   phiICo    edwIC;   nelIC,
            }
                       HTuple hv_RefBondRow = new HTuple(), hv_umn   ：0-量工_Cot.G是5sPoint2d(hv输at：0-ureConefecoi标、纵i标   //焊//i_Image: ec          IC
            ,.Di  Point2d(hv,
            }
                       HTuple hv_Reeg);
            HOperatorSet.GenEmptyObj(out ho_Ima: ec          IC
            _  银e();"bytghbor");
  HTuple();
(((ne ag =PosTPIC
             =
urElementsLen - 1);
                w")).TupleConcat(
            umn   ：0-量工_Cot.G是5sPoint2d(hv输at：0-ureConefecoi标、纵i标   //焊/I);
           
            ,.Di  Point2d(hv,
            }
                       HTuple hv_Reeg);
            HO否存在，2.再阈值刈          
            _  银e();"bytghbor");
  HTuple();
(((ne     
             =
urElementsLen - 1);
                w")).TupleConcat(
                 Flag    ift指定重点检测
            区，则整个检测区都作为非重点检测eConcat(            ho__RefReg.Dispo] = nRad
          IC
            ,.Di     edwIC;胶         {
    (-2))-2))de:   nelIC,.Di     phiICo        
    1ICo        
    2ICOr_0
          x       .TupleConcat(
                    ho__RefReg.Dispo] 1 nRad
          IC
            ,.Di     es 
            HOperatorSet.GDi     ans;
 ,.Di     es 2,GDi     ans;
               return;
   spose( = ne(      11odel(ho_            return;
 hv_r       _  银e();"bytghbor");
  HTu;
            }ato_DiffR   hv_r            //银胶c         hv_r  Top_  银e();"bytghbor");
  HTu;
            }g.Dispo] 1 R   hv_r  Top          -            1.0, 0);nTrans;
  -      Ign 1ei_HomMatMod2Img, HTTTTTTTTTTTTT        -      Ign 1ei_HomonTrans;
2 +      Ign 1ei_Ho);"bytghbor");
  HTuumn   ：0-量工_C是5sPoint2d(hv输at：0-ureConefecoispose();
le()ew HTuple(),r       , hv_r  Top        //
     f
  量工_Co   //
  ---hv_r       _  银e();"bytghbor");
  HTu---hv_r       i初sStri] = nRadoispose();
                ho_AllRegs.Disposhv_r  Botto _  银e();"bytghbor");
  HTu;
            }g.Dispo] 1 R   hv_r  Botto nitia   2 +      Ign 1ei_Ho);nTrans;
  -      Ign 1ei_HomMatMod2Img, HTTTTTTTTTTTTT      2 +            1.0, 0);nTrans;
2 +      Ign 1ei_Ho);"bytghbor");
  HTuumn   ：0-量工_C是5sPoint2d(hv输at：0-ureConefecoispose();
le()ew HTuple(),r       , hv_r  Botto ni      //
     f
  量工_Co   //
  ---hv_r       _  银e();"bytghbor");
  HTu---hv_r       i初sStri] = nRadoispose();
                ho_AllRegs.Disposhv_r  Left_  银e();"bytghbor");
  HTu;
            }g.Dispo] 1 R   hv_r  Left,T        -      Ign 1ei_HomonTrans;
  -            1.0, 0)MatMod2Img, HTTTTTTTTTTTTT      2 +      Ign 1ei_HomonTrans;
  -      Ign 1ei_Ho);"bytghbor");
  HTuumn   ：0-量工_C是5sPoint2d(hv输at：0-ureConefecoispose();
le()ew HTuple(),r       , hv_r  Left,T      //
     f
  量工_Co   //
  ---hv_r       _  银e();"bytghbor");
  HTu---hv_r       i初sStri] = nRadoispose();
                ho_AllRegs.Disposhv_r  R    _  银e();"bytghbor");
  HTu;
            }g.Dispo] 1 R   hv_r  R    ,T        -      Ign 1ei_HomonTrans;
2 +      Ign 1ei_Ho)MatMod2Img, HTTTTTTTTTTTTT      2 +      Ign 1ei_HomonTrans;
2 +            1.0, 0);"bytghbor");
  HTuumn   ：0-量工_C是5sPoint2d(hv输at：0-ureConefecoispose();
le()ew HTuple(),r       , hv_r  R    ,T      //
     f
  量工_Co   //
  ---hv_r       _  银e();"bytghbor");
  HTu---hv_r       i初sStri] = nRadoispose();
             oispose();
          矩阵
    dCol -pening.Di
    dC<ol4;   oI {v_    ening.Di
    dCrn;点       = nc, ho_Re{TupleConcat(
            allphv_Parameter.TupleS_RefBondRads
            allhark.Dho_ ExpTmpOTmpOr_0
          x   i1, outAp  y  (hs  e = 0_HomMatMod2Img, HTuple  i1, ou
           return;
     r          ho_cur (hs  eageS
    d为非重点检测eConcat(            ho__RefReg.Dispo] = nRa (hs  eais null";
                ho__InspectReose();
                           
    1o        
    2leS_RefBondRads
            alld标   
    1r/    c  if (hv_os  eeS_RefBondRads
            a下限参数
            hv_threshNum = new ontour.Dispos      hv__spErrCod        r
            ,.nRa (hs  eais nuv_o_ErrCode = -1;
                              hv_threshNum = new ontoi = "ageS  rsb   hv_threshNum = new ontoi ninonsty ( (hs  ea            ho if   Devias.Dispose()1e);
               bject ho_i_Re_o_M1)      Pos          j(ho_//-                        0));
                    hvec__i_Th            -1;
                         tOrDark, out hv__Erm = new ontoi o      _c      (   hvec_   hvec_3spose()1e);
               bject ho_       ti_Re_o_M1)      Pos          j(ho_//-             InspectReg, ho_i_Reject            hve       t错;，0-代表          j(  as定位起角度范os                              //由边缘系数i_SobelScaleFactdErrStrlement = hvecTxoncat( hv_idx = hvTyoncat( hv_i        //e(h ho_ConnectedRegions.Dihv_i        //
            td (  ho__InspectReg.D          {
  lem'max_Diff'em70spose()1e);
               bje          {
  范os                              //由边缘e();
                HOperatorSet.Scale          {
  ho_EdgeAm-1;
                         litude,200e,__Threx = hvTyoncat( hv_i        //u_o_sp (          {
  ho          {
  )  oispose();
          et.AffineTrColFag);;
    c  if (hv_os  e, out hv_Row, out         et.AffineTri1, out] 7标[hv_ic s+ 2) h_o_Meuato
   矩阵k =       kv__RefBondColFag);7
          e hv_Rek
    k out hv_Phi1, out] 7)pleRad(), hv_Row,
                hv_Column, out hv_HomMatches, oout _o_Bonncat(peco_MeStr =tializing";
 0))).TupleOr(new HT1;tia            hv_Column, out hv_HomMaaaaaeFl             (rge[hv-   
    1+ 1)(((2r*n;
k efBonr*n;
d标ex = hvTyoncat( hv_i        omMaaaaaeFlrctTog);rge[h量eStr = null,      hhhhhhhhhhhhhhhhhhhhh   rct[hv_id   
    1IC量eStr = null,      hhhhhhhhhhhhhhhhhhhhhtches, oout _o_Bonncat(R, efReg.Di(he   edwICizing";
 0))).TupleOr(new HT1;tia                hv_Column, out hv_HomMaaaaaaaaa   dpetImage.D0;       hv_Column, out hv_HomMaaaaaaaaa                t(R,  +    
    2;       hv_Column, out hv_HomMaaaaa}       hv_Column, out hv_HomMaaaaaurn;
            }
                         hv_Column, out hv_HomMaaaaaaaaa   dpetImage.D1;       hv_Column, out hv_HomMaaaaaaaaa                t(R,  -    
    2;       hv_Column, out hv_HomMaaaaa}       hv_Column, out hv_HomMa}       hv_Column, out hv_HomMaurn;
            }
                     hv_Column, out hv_HomMaaaaaeFl       R, r =(ng1R, r-   
    1+ 1)(((2r*n;
k efBonr*n;
d标ex = hvTyoncat( hv_i        omMaaaaaeFlrctTog);Pos  tx.Tupl
            }
 hhhhhhhhhhhhhhhh   rct[hv_id   
    2IC量eStr = null,      hhhhhhhhhhhhhhhhhhhhhtches, oout _o_Bonncat(rge[hfReg.Di(he   nelICizing";
 0))).TupleOr(new HT1;tia                hv_Column, out hv_HomMaaaaaaaaa   dpetImage.D0;       hv_Column, out hv_HomMaaaaaaaaa                rge[hv+    
    2;       hv_Column, out hv_HomMaaaaa}       hv_Column, out hv_HomMaaaaaurn;
            }
                         hv_Column, out hv_HomMaaaaaaaaa   dpetImage.D1;       hv_Column, out hv_HomMaaaaaaaaa                rge[hv-    
    2;       hv_Column, out hv_HomMaaaaa}       hv_Column, out hv_HomMa}       hv_Column, out hv_HomMa          HOperato                 {
  o           be se  sm(hv_i_Meeeeeeeeeeeeeeeee   mup      99999se  sm(hv_i_Meeeeeeeeeeeeeeeee ICureCuple hv_3         be se  sm(hv_i_Meeeeeeeeeeeeeeeee ICureChv_Epo  83e.D1;       hv_Column, out hv_HomMa 
      ap  y m(1;  e = 0out HTuple  (hs  e  83,Chv_Epo  83        }
            //银胶        83 
 0))).TupleOr(new HT1;tia            hv_Column, out hv_HomMaaaaae(ntmo1t 范os                                i1, ou
           return;
               {
  o      (ntmo1t ,         /                              i1, ou
           r算子r( (ntmo1t ,           R,   eFl          o         = new;aupl       hv_Column, out hv_HomMaaaaaaaaa        = new;aaxr = null,      hhhhhhhhhhhhhhhhhhhhhtches, oout _o_Bonncat(mup        hv_i_Sobe    = new;aupizing";
 0))).TupleOr(new HT1;tia                hv_Column, out hv_HomMaaaaaaaaa   mup          = new;aup量eStr = null,      hhhhhhhhhhhhhhhhhhhhh}       hv_Column, out hv_HomMa}       hv_Column, out hv_HomMa          HOpo__RefReg.Dispo] 1 nRa          {
  o             
                
= null,      hhhhhhhhhhhhhhhhhhhhh          2 
              2ex = hvTyoncat( hv_i        omMa((ng.Dispo] 范os                                i1;
            }g.Dispo] 1 R   hv_g.Dispo] ,         
            
       2 
= null,      hhhhhhhhhhhhhhhhhhhhh         2ex = hvTyoncat( hv_i        omMa((n_ron;     范os                                i1;
            }_ron;Tuple hv_i_de: 错_ron;     ,           R,   eFl          o= null,      hhhhhhhhhhhhhhhhhhhhh3_i_     ho_RegionUnion.
   v_i     tches, oout _o_Bonncat(
   [           hv1izing";
 0))).TupleOr(new HT1;tia            hv_Column, out hv_HomMaaaaa              fReg.{
      (hv_g.Dispo] ,           R, r-a   mup   l       hv_Column, out hv_HomMaaaaaaaaaeFl          o        Is agi  r = null,      hhhhhhhhhhhhhhhhhhhhhtches, oou   Is agi  rng";
 0))).TupleOr(new HT1;tia                hv_Column, out hv_HomMaaaaaaaaa (n_ron;     范os                                i1hhhhhhhh;
            }_ron;Tuple hv_i_de: 错_ron;     ,           R, r-a   mup   l       hv_Column, out hv_HomMaaaaaaaaaaaaaeFl          o 6_i_     ho_RegionUnion.
   v_i     hhhhhhhhallhark.Dho_allhark.DEmptyFailReg.   mup        ho_RegionUnion.
   v_i     hhhhhhhhallpog);pogEmptyFailReg.   m         r = null,      hhhhhhhhhhhhhhhhhhhhh}       hv_Column, out hv_HomMa}       hv_Column, out hv_HomMaurn; tches, oout _o_Bonncat(
   [           hv2izing";
 0))).TupleOr(new HT1;tia            hv_Column, out hv_HomMaaaaa              fReg.{
      (hv_g.Dispo] ,           R, r+a   mup   l       hv_Column, out hv_HomMaaaaaaaaaeFl          o        Is agi  r = null,      hhhhhhhhhhhhhhhhhhhhhtches, oou   Is agi  rng";
 0))).TupleOr(new HT1;tia                hv_Column, out hv_HomMaaaaaaaaa (n_ron;     范os                                i1hhhhhhhh;
            }_ron;Tuple hv_i_de: 错_ron;     ,           R, r+a   mup   l       hv_Column, out hv_HomMaaaaaaaaaaaaaeFl          o 6_i_     ho_RegionUnion.
   v_i     hhhhhhhhallhark.Dho_allhark.DEmptyFailReg.   mup        ho_RegionUnion.
   v_i     hhhhhhhhallpog);pogEmptyFailReg.   m         r = null,      hhhhhhhhhhhhhhhhhhhhh}       hv_Column, out hv_HomMa}       hv_Column, out hv_HomMaurn; tches, oout _o_Bonncat(
   [           hv3izing";
 0))).TupleOr(new HT1;tia            hv_Column, out hv_HomMaaaaa              fReg.{
      (hv_g.Dispo] ,           R,   eFl          r-a   mup   l       hv_Column, out hv_HomMaaaaaaaaa       Is agi  r = null,      hhhhhhhhhhhhhhhhhhhhhtches, oou   Is agi  rng";
 0))).TupleOr(new HT1;tia                hv_Column, out hv_HomMaaaaaaaaa (n_ron;     范os                                i1hhhhhhhh;
            }_ron;Tuple hv_i_de: 错_ron;     ,           R, l       hv_Column, out hv_HomMaaaaaaaaaaaaaeFl          r-a   mup   l 6_i_     ho_RegionUnion.
   v_i     hhhhhhhhallhark.Dho_allhark.DEmptyFailReg.   mup        ho_RegionUnion.
   v_i     hhhhhhhhallpog);pogEmptyFailReg.   m      Pos ;_-     IcureCo区域有 hhhhhhh}       hv_Column, out hv_HomMa}       hv_Column, out hv_HomMaurn; 0))).TupleOr(new HT1;tia            hv_Column, out hv_HomMaaaaa              fReg.{
      (hv_g.Dispo] ,           R,   eFl          r+a   mup   l       hv_Column, out hv_HomMaaaaaaaaa       Is agi  r = null,      hhhhhhhhhhhhhhhhhhhhhtches, oou   Is agi  rng";
 0))).TupleOr(new HT1;tia                hv_Column, out hv_HomMaaaaaaaaa (n_ron;     范os                                i1hhhhhhhh;
            }_ron;Tuple hv_i_de: 错_ron;     ,           R, l       hv_Column, out hv_HomMaaaaaaaaaaaaaeFl          r+a   mup   l 6_i_     ho_RegionUnion.
   v_i     hhhhhhhhallhark.Dho_allhark.DEmptyFailReg.   mup        ho_RegionUnion.
   v_i     hhhhhhhhallpog);pogEmptyFailReg.   m      Pos ;_-     IcureCo区域有 hhhhhhh}       hv_Column, out hv_HomMa}       hv_Column, out hv_H}       hv_Column, out hv_Hode = -1;
                h__hark.D_i_ist" + hv__ErrExistStr;
g.Dispose()on.
   vMeutches, oout _o_Bonncat(
   __ErrEx                istStr;
g.Dispose()on.
   vMeutches, oout _o_BonnLa(
   __ErrEx                      { = "e();的错e,  = "e();    Hut _o_Bonncat(         hv_i_Sobe-1        hv_o_t _o_Bonncat(                              ho_o_Bhv_Column, o-1   0)).TupleRad(), hv_Row,
                hv_Column, out hv_HomMa               {
输(terhark.DEmptyF      RectRat(    ,         
           nH     ho_RegionUnion.
   v_i     tches, oout _o_Bonnca((terhark.DEmptyF      at(    o，-1-代a，-2 ato             rrrrrrrrrrrrrrrrr      nH zing";
 0))).TupleOr(new HT1;tia            hv_Column, out hv_HomMaaaaa               _o_Bonncat(
   __ErrExEmptyF      RectRat(    + 1 ut _o_Bonnca   __ErrExEmptyF
       
                ho_CCCCCto          Set.Closi0            Tr = null,      hhhhhhhhhhhhhhhhhhhhhtches, oout _o_Bonncat(   T     hv_i_Sobe-1   ng";
 0))).TupleOr(new HT1;tia                hv_Column, out hv_HomMaaaaaaaaa as       at(    +       Tr  HObject ho__Inspeeeeeeeeeeeeeeeeeeeee}       hv_Column, out hv_HomMaaaaa               _o_Bonncat(
   __ErrExEmptyF      RectRat(     ut _o_Bonnca   __ErrExEmptyF
       
                ho_CCCCCto          Set.Closi1            Tr = null,      hhhhhhhhhhhhhhhhhhhhhtches, oout _o_Bonncat(   T     hv_i_Sobe-1   ng";
 0))).TupleOr(new HT1;tia                hv_Column, out hv_HomMaaaaaaaaa as       t(    +       T;       hv_Column, out hv_HomMaaaaa}       hv_Column, out hv_HomMaaaaaurn;
            }
                         hv_Column, out hv_HomMaaaaaaaaa          -1;_-     IcureCo区域有 hhhhhhh}       hv_Column, out hv_HomMa}       hv_Column, out hv_H    tches, oout _o_Bonnca((terhark.DEmptyF      at(   2o，-1-代a，-2 ato             rrrrrrrrrrrrrrrrr      nH zing";
 0))).TupleOr(new HT1;tia            hv_Column, out hv_HomMaaaaatches, oout _o_Bonncat(   64
  ispose();   2ong";
 0))).TupleOr(new HT1;tia                hv_Column, out hv_HomMaaaaaaaaaMeutches, oout _o_BonnLa(
   __ErrExEmptyF      RectRat(    ,             ;
                ho_CCCCCCCCCCCCCCCCCCCCC0            Tr = null,      hhhhhhhhhhhhhhhhhhhhhhhhhtches, oout _o_Bonncat(   T     hv_i_Sobe-1   ng";
 0))).TupleOr(new HT1;tia                    hv_Column, out hv_HomMaaaaaaaaaaaaa      2   t(    +       T;       hv_Column, out hv_HomMaaaaaomMa}       hv_Column, out hv_H    aaaaaaaaMeutches, oout _o_BonnLa(
   __ErrExEmptyF      RectRat(    ,             ;
                ho_CCCCCCCCCCCCCCCCCCCCC1            Tr = null,      hhhhhhhhhhhhhhhhhhhhhhhhhtches, oout _o_Bonncat(   T     hv_i_Sobe-1   ng";
 0))).TupleOr(new HT1;tia                    hv_Column, out hv_HomMaaaaaaaaaaaaa      2   t(    +       T;       hv_Column, out hv_HomMaaaaaomMa}       hv_Column, out hv_H    aaaaaaaaurn;
            }
                             hv_Column, out hv_HomMaaaaaaaaaaaaa      2   -1;       hv_Column, out hv_HomMaaaaaomMa}       hv_Column, out hv_H    aaaa}       hv_Column, out hv_HomMaaaaaurn;
            }
                         hv_Column, out hv_HomMaaaaaaaaa          -1;_-     IcureCo区域有 hhhhhhhaaaa      2   -1;       hv_Column, out hv_HomMaaaaa}       hv_Column, out hv_HomMa}       hv_Column, out hv_H}       hv_Column, out hv_H"e();    Hut _o_Bonncat(         hv_i_Sobe-1        hv_o_t _o_Bonncat(                              ho_o_Bhv_Column, o-1   0)).TupleRad(), hv_Row,
                hv_Column, out hv_HomMaallpog);pogEmptyF      RectRat(    ,         ;       hv_Column, out hv_HomMaallhark.Dho_allhark.DEmptyF      RectRat(    ,         ;       hv_Column, out hv_HomMaallp  e = 0_cessful";pogEmptyF
        _InspectR_Loc_MMMMMMMMMMMMMMMMMtches, oout _o_Bonncat(p  e     hv_i_SobelFactor_COPY_INP_TMP = h     }
oc_MMMMM        hv_Column, out hv_HomMaaaaa;
tmoWe.Da((terpogEmptyF      at(p  e     et.C(terpogEmptyF      alizin+C(2r*n;
d标e  / ar*n;
rct[hv _InspectR_Loc_MMMMMMMMMMMMMMMMM                   ho_               EmptyFailReg.   tmoW                              i1, ou
           rmptyF    (_hark.D_i       S   
                               i1, ouaca =movePe.D((terc  if (hv_os  e/ 10.0] = nRadR
tr = null,      hhhhhhhhhhhhhhhhhhhhhtches, oout _o_Bonncat( =moveP败              //焊点       = nupleOr(new HT1;tia          hv_Column, out hv_HomMaaaaa, ouaca =movePe.D1;       hv_Column, out hv_HomMaaaaa}       hv_Column, out hv_HomMax      _Co    Dark.Dho_   _Co    Dark.DEmptyFailReg.(   S   
 EmptyF      a       hv_Column, out hv_HomMaaaaa, ouat(p  e        aca =movePzin+C     Ign 1ei_Ho);"bytghbor");
  HTupectR_Lo}       hv_Column, out hv_HomMaurn; tches, oout _o_BonncaaaaaaterpogEmptyF      aliz   aca =tTogsegIdx.TupleL       hv_Column, out hv_HomMaaaaa，-1-代a，-20.3r*n;
rct[hv actor_COPY_INP_TMP = h     }
oc_MMMMM        hv_Column, out hv_HomMaaaaa;
            ho_               EmptyFailReg.0.0];       hv_Column, out hv_HomMax      _Co    Dark.Dho_   _Co    Dark.DEmptyFailReg.0.0];       hv_Column, out hv_HomMa}       hv_Column, out hv_HomMaurn;PY_INP_TMP = h     }
oc_MMMMM        hv_Column, out hv_HomMaaaaa;
tmoWe.D;
d标 / ar*n;
rct[hv _InspectR_Loc_MMMMMMMMMMMMMMMMM                   ho_               EmptyFailReg.   tmoW                              i1, ou   _Co    Dark.Dho_   _Co    Dark.DEmptyFailReg.     Ign 1ei_HoefBondRow = new HTuple(), hv_RptomMa}       hv_Column, out hv_H.TupleConcat(
                "column")).TupleConcat("ra   {
                                        ho_               EmptyFailReg.0.0];       hv_Column, out hv_HomMa   _Co    Dark.Dho_   _Co    Dark.DEmptyFailReg.0.0];       hv_Column, out hv_H.TupleConcat(
        .TupleConcat(
    .TupleConcat(
    // Regityvr(
   ) TupleConcat(
    Regityv4   tor(
   选效r(pDefa  }r(
   逘射矩阵--从 = nion.Dis__ImgDIdx    hv_效r(pDefa  }r(
   逘.To_Bonnca       r(
   ];       hv_Column, out pty";
                ho_EmptyFailReg.Dispose();
  atohvr(
   选occ(hvdhv      ho_EmptyFailReg.Di         
            _  银e();"bytghbor");
  HTua: ec          IC
            _  银e();"bytghbor");
  HTuhv_r       _  银e();"bytghbor");
  HTuhv_r  Top_  银e();"bytghbor");
  HTuhv_r  Botto _  银e();"bytghbor");
  HTuhv_r  Left_  银e();"bytghbor");
  HTuhv_r  R    _  银e();"bytghbor");
  HTunRa (hs  ingFailReg.Dispose();
                        HOperatorSet.Difference(ho_RegionUnion, ho__SubFailReg, out ho__ChippingFailReg
           ti_Re_o_M1)      Pos          j(ho  as定位起角度范os                          bje          {
  范os                          e(ntmo1t 范os                          ((ng.Dispo] 范os                           (n_ron;     范os       hv_regNum);
            if ((aso ho__InspectRegsic
      iratorSet         巺0----图标参数ato银  atohv                }PosPosle(hvegNeg.Di         
            _  银e();"bytghbor");
 a: ec          IC
            _  银e();"bytghbor");
 hv_r       _  银e();"bytghbor");
 hv_r  Top_  银e();"bytghbor");
 hv_r  Botto _  银e();"bytghbor");
 hv_r  Left_  银e();"bytghbor");
 hv_r  R    _  银e();"bytghbor");
 nRa (hs  ingFailReg.Dispose();
      pe = new HTuple();
                            hv_o_DefectType[3] = 0;
                         ti_Re_o_M1)      Pos            as定位起角度范os                      bje          {
  范os                      e(ntmo1t 范os                      ((ng.Dispo] 范os                       (n_ron;     范os       hv_regNum);
       = nuv_            //左"(hm     Regit//左"(hm     {osPosle(hvegNeg.Di         
            _  银e();"bytghbor");
 a: ec          IC
            _  银e();"bytghbor");
 hv_r       _  银e();"bytghbor");
 hv_r  Top_  银e();"bytghbor");
 hv_r  Botto _  银e();"bytghbor");
 hv_r  Left_  银e();"bytghbor");
 hv_r  R    _  银e();"bytghbor");
 nRa (hs  ingFailReg.Dispose();
      pe = new HTuple();
                            hv_o_DefectType[3] = 0;
                         ti_Re_o_M1)      Pos            as定位起角度范os                      bje          {
  范os                      e(ntmo1t 范os                      ((ng.Dispo] 范os                       (n_ron;     范os       hv_regNum);
      nuv_            //左"(hm our.Dispose();

                return;
量模板     
RasureFlag.TupleConca           lag.TupleConc   HTuple hv_HomMatSu }

            //检测区域映射
      Bond= -1;
  __Br spose();Set.AffineTransRegion(ho_i_BondRegs,Union, ho_RegionTr  HTuple hv__Bond            //  i_Mle hv__Bond            //tour);
        [ (hv_idx = 0;                i_HomMatMod2Img: Frame模板到图像的映射矩阵--从模板到检测图像的映射关系
            // i_Adaptiv hv_HomMatSu }

     hv_i_LightScaleFactors,
  UologyWideth.TupleSelect(
    ect(
sailRegactor = g    s  vP        omg            hv_i_HomMatMod2Img, hv_iratorSet.Tupl out hv__Measub量
   mage.DispossErrStr = "m         hv_i_HomMatMod2Img, hv_i                     // o_ErrCod out hv__MeasureResult, out h  hv_i_HomMatMod2Img, hv_i dParas,
                out       // o_ErrCoL, out h  hv_i_HomMatMod2Img, hv_i;
            if ((int)(new HTuple(hv__ErrBondMeasureCode.TupleLess(0))) != 0)
            {
           1, out h
                     ho_Conto, out h  hv_i_HomMatMod2Img, hv_i  = hv_Gr          许    gion句柄  多= n量工_Cot.GenE输指            be _o_Bonncat(   be tType = new HTuple();
          
   [age.Dispose();
     ExpTmpOTmpOr_0
             }
     return;
            }ato
      hv_        return;
            }ato_DiffR   hv_rs, out ho__BondContour, hv_idx + 1);
                if (gion(ho_i_Bo       if (hv_o_DefectType == null)
                    hv_o_DefectType = new HTuple();
                hv_o_DefectType[1] = 29;
                hvec_o_FailRegs[1] = neect(
sailReg] = 29;
                hvec_o_FailRegs[1] = ne = g    ] = 29;
                hvec_o_FailRegs[1] = ne = g                     if (hv_o_DefectType == null)
                        hv_o_DefectType = new HTuple();
    sub量
   HTuple(-1)).TupleConcat(
                        -1)).TupleConcat(-1));
                    hvec_o_FailRegs[hv_idx] = new HObjectVector(ho__BondContour);
                }
                else if ((int)(new HTuple(((hv__MeasureResult.TupleSelect(hv_idx))).TupleEqual(
                    0))) != 0)
                {
                    //Bond参考位置及半径
                    hv__RefBondRow = hv__RefBondParas.TupleSelect((hv_idx * 3) + 0);
                    hv__RefBondCol = hv__RefBondParas.TupleSelect((hv_idx * 3) + 1);
                    hv_RefBondRadius = hv__RefBondParas.Tuple1, out h       hv_RefBondRadius = hv__RefBondParas.TupleSelect((hv_idx * 3) + 2);
       dRadius = hv__RefBondParas.Tuple1, oon(ho     //银胶c tryhv_Indices.Tup   ho__InspectReg.D//ex = neeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee  ho__InspectReg.D//pO   iorSet.AffineTransPoint2d(hv             .Tupl), (((o     HTuple hv_Great  ho__InspectReg.D//efReefReg, out    左 11odel(  ho__InspectReg.D//ef   HTu: pply measurement"    左 11odel(内.0          HOperod2Img, hv__RefBondRow, hv__RefBondCol,
                    nd        HOperatorSet.Conca      rs, out ho_tep_val66);ratorSet.Conca      rson(ho_i_Bo:o     HTuBondCol,
            HTuple hv__Bondut iffCol = ((hv_RefB     Mat2D     hv(
       t((hv_idx * 3) + 0);         hv_uple hv_tool法c_o_FaRef    hv)BondCol,
            on(hole hv__Bondut iffCoo     HTuRefB     Mat2D     hv(
       t((hv_idx * 3) + 0);         hv_uple hv_tool法c_o_FaRef    hv)BondCol,
            tour);
        : pp法tour)*******egs, ho__InHTu调ooRef    hv(
       t((hv_idx * 3) + 0);         hv_uple hv_tool法c_o_FaRef    hv)BondCol,
          ****************************************************************
     ho__InspectReg.Dispose();
                ho_inspectIma;
            }ato_DiffR   hv_rs, out ho__BondContour, hvHomMatMod2Img.TupleLength())).TupleLess(
      _idx + 1);
                if (gion(ho_i_Bo    ();
            HOperatorSet.ErosionCircle(ho__PegRackSurfaceReg, out ho_RegionErosion, hv_i_CloseOrOpenSize);
            //检测图像获取
            ho__PegRackSurfaceImage.Dispose();
            HOperatorSet.ReduceDomain(ho__Image, ho_RegionErosion, out ho__PegRackSurfaceImage
                 neect(
sailReg        HOperatorSet.ReduceDomain(ho__ImagailReg  (hs  eFlag  }
   ze);
            //ect(
sailReg] = 29;
                       {
                            HO   be ] = 29;
                       {
          ect(
sailReg       HO   be 1    ();
            Ht hv_Row, out h2         be se  sm(hv_i_Meeeeehv_Colum        引及r(hv_Area  HOper量    
   [age2Img: Frameho_o_BondContours.2is5 ho_o_Li2    Frame模   Framehsssssss{htImage.Di2Object ho_i_InspectReg, HTuple hv_i_Dilation = g            HOperatorSet.ReduceDo                {                                = g    eageS
    OperatorSet.ReduceDo     ne = g           HOperatorSet.ReduceDo                {               
      Bond= ne = g   eageS
    OperatorSet.ReduceDo     ne                     HOperatorSet.ReduceDo                { variables  = g    ea  HTuple hv_imgNum = null, hv_regNum = null;
                ho__InspectRegs.Dispose();
            easureFlag = hv_o_MeasureFs  = g    ea  HTupl;
            HTuple hv_Sy = nunull;
 ple1, oon(hopectRegs.Dispose();
            easureFlag = hv_o_MeasureFs  = g    ea  HTupl;
 ine = null, hv_Indices = nullv_Sy = nt hv_Row, out h8         be 1, out hv_Row, out ow, out hv_Colum       h8                      ho__SubReg.Dii          .Dii    ho_o_BondContours.8is5 ho_o_Li8); 错误Th(c   iramehsssssss{htImage.Di8v_IsSt 具
 ;
  m(     hv(hvnto           // i_Ro   sub量
   pectRegs.Dispose();
                            {             ect(
sailReg         sub量
   pose();
  fBondRow = new HTuple(), hv_Rpt    // i_Image: 待处理图像
          (
       // i_InspectRegs: 测量所在区域
            // o_MeasureContours;
        Dispos       胶         {
    (-2))    ;
i {v_P  0];       hv_Column, out hv_H  // i_HomMatMod2Img: 测量区域的昷类   w HTuple();
             = g   eagpe: 测量工具类型，允许对胶         {
    (-2))    0ndRow = new HTuple(), hv_Rpt    // i_Image != 0)
            {
                -圆工具，4-椭圆工具
            // o_MeasureFlag：测量;
        Dispos       胶         {
    (-2))    ;
i {v_P  0];       hv_Column, out hv_H  /   0)))) != 0)
            {
                数均包含在该变 = g    ea     // o_ErrCode: 错误码，代表该算子执行过程out hv_imgNum);
                             hv_o_ErrCode = -1;
                hvvvvvvvvvvvvv表异常，-2-代表未执行
            // o_ErrStr: 错误信息，对各种错误的具体ull, hv_Indices = nullv_Sy = n  hv_o_ErrStr = "measure tools unsupport!";












aras = new HTuple();
            ho_o_MeasureContours.Dispose();
 ;
        Dispos       胶         {
    (-2))    ;
i {v_P  0];       hv_Column, out hv_H  /   0)))) LMatMod2Img: 测量区域的昷类   w HTuple();
             = g    ea     // o_ErrCo         HOperatorSet.CountObj(ho_i_Image, out hv_imgNum);
                                       ho__InspectReg.Dispose();
              
            {
                hv_o_ErrCode = -1;
                hv_o_ErrStr = "input image isssssssssull, hv_Indices = nullv_Sy = n  hv_o_           ho_inspectImage.Dispose();
                   ho_Contour.Dispose();

                return;
  sub量
   po  }
            HOperatorSet.CountObj(ho_i_InRegs, ou.Dispose();
               umn   ：0-量工_Cot.G是5sPoint2d(hv输at：0-ureConefecoi标、纵i标    {
                hv_o_ErrCode = -1;
                hv_o_ErrStr = "inspect region         )at：0-ureConefecoi标    ho__InspectRegs.Dispose();
                        ho__InspectReg.Dispose();
                        .TupleConcat(
            pose();
                ho_Contour.Dispose();

                        return;
            }
            if ((sub量
   po  }
  e((new HTuple(hv_i_MetrologyHandle.Tupleh())).Tu.Dispose();
               umn   ：0-量工_Cot.G是5sPoint2d(hv输at：0-ureConefecoi标、纵i标    {
            {
                hv_o_ErrCode = -1;
                hv_o_ErrStr = "paaaaaaaaa.Dispose();
               ;
 ple1, oon(hopectRegs.Dispose();
                    spose();
                ho__InspectReg.Disposeeeeeeeee.TupleConcat(
        .TupleConcat(
     HTuumn   ：0-量工_C是5sPoint2d(hv输at：0-ureConefecoispose();
le()ew HTuple(),       ho__InspectRegs.Dispose();
                ho__InspectReeeeeeeeeg.Dispose();
                ho_inspectImaaaaaaaaag.Dispose();
i初sStri] = nRadoispose();
              e                  i_InspectRegs, out hv_regNum);wv__Diffose();
                ho_AllRegs.Di初
            ho_o_Lighbl     }
            if ((int)(new HTuple((new HTuple(hv_i_HomM  ho_AllRegs.Bomg.TupleLength())).TupleLess(
        ho_AllRegs.Bomg.Tuplev_curElementsLen - 1);
                            hvec_Eleme焊点检测区域（焊盘区域）
            // o_BondContoursse();
            HOperatorSet.ReduceDo neect(
sailReg        HOperatorSet.ReduceDon = g            HOperatorSet.ReduceDo    = g   trologyHandle: 测量模板句柄
            // i_HomMatMod2Img: 测量区sub量
   柄添加多个测量工具，并分别指定类型，支持4类测量工具————1-直线工具，2-矩形工具，3-圆工具，4-椭圆工具
            // o_MeasureResult：应用测量测量的结果
            // o_BondParas: 测量结果，每一个测量工具对应一组结果参数，所有测量工具的参数均包含在该变量中
            // o_ErrCode: 错误码，代表该算子执行过程中产生的错误，0 ho__InspectRegs.Dispose();
        pose();
                ho_Contour.Dispose();

ple1, oon(hopectRegs.Disp hv_regNum);
       = nuv_            //左"(hm     Regit//左"(hm     {osPosle(hvegNeg.Di  焊盘区域）
            // o_BondContoursse();
            HOperatorSet.ReduceDo neect(
sailReg        HOperatorSet.ReduceDon = g            HOperatorSet.ReduceDo    = g   trologyHandle: 测量模板句柄
            // i_HomMatMod2Img: 测量区sub量
   柄添加多个测量工具，并分别指定类型，支持4类测量工具————1-直线工具，2-矩形工具，3-圆工具，4-椭圆工具
            // o_MeasureResult：应用测量测量的结果
            // o_BondParas: 测量结果，每一个测量工具对应一组结果参数，所有测量工具的参数均包含在该变量中
            // o_ErrCode: 错误码，代表该算子执行过程中产生的错误，0 ho__InspectRegs.Dispose();
        pose();
                ho_Contour.Dispose();

ple1, oon(hopectRegs.Disp hv_regNum);
      nuv_            //左"(hm our.Dispose()v_o_Me (ches, o.Tuple      ho_Image测区域
            //　oFlag.TupleConcTIni__ImgD( =  (ches, ic va   sple hv_HomMatSu }

       loseOrOpen__Bond= -1;
  __Br                 -1;
  __Br 
            rSet.RedogyswigyHa(vtour = ho__        //银胶c s_        //Mul  胶胶s_        //     gioei       rSet.RedogyswigyHa(v     L ea
    w HTu,_ogyswigyHa(v     Ch  nc    s_        //M       Set       rSet.RedogyswigyHa(v sRevec_odogyswigyHa(vRevec_hv__Ref (hv_idx = 0;r_0;
                  i_HomMatMod2Img: Frame模板到图像的映射矩阵--从模板到检测图像的映射关系
            // i_AdaptiveMethod：局部阈值分           分     Strt = i_Refle(o  = "ageS  rsion- hv_IcRow)).T              G  e s  vP       Bo_R  vP        omg umArr "ageS  rsion- hv_IcRow)). omg2 umArr,.nRa (hsOI  vP        omg um, out h  hv_i_HomMatMod2Img, hv_i  = 2ale_o_Bonncat_i  = Arre.Dispo,分   i_Refle(o  = "ageS  rsion- hv_IcRow)).   e o (hs  e    :  PosT测区和非重
              , out h  hv_i_HomMatMod2Img, hv_i g域
     和非重
     {
   和非重
          , out h  hv_i_HomMatMod2Img, hv_i  = ale--从模onncat_i  = 2ale--从模onncat_i  =     , out h  hv_i_HomMatMod2Img, hv_i  = 2    , out h
          1模onncat_i  = Dev, out h  hv_i_HomMatMod2Img, hv_i  =                  // o_ErrC1模onncat_i  = on(ho, out h  hv_i_HomMatMod2Img, hv_i  = ut h
             = 
             ;
            H, out h  hv_i_HomMatMod2Img, hv_i PosT测区1模onncat_i on(hohs  e    : sposehs  e    :hes, oout _o_Bonncat(
                                      1.1模onncat_iBi
     tType = new HTuple();
 = null)
 
     {
   3和非重
     {
   4Type = new HTuple();
 = null)
 
          6, out h
          4Type = new h_o_Meuths  eut    _o_Bonncat(
  = Arro_Bt,       (ches, oWi1(ch_o_Bonncat(
                            -1   to__ic t, 1,       (hs   ic va胶   //))
      _Di码，代      if ((iput iconic v
   [ //))
      Ch  ng);
                     ，代      if ((iput iconic vDark.D//))
      _     Set   //))
      
   [sOI  vP        if ((iput iconic v
   [gioei/))ExpTmpOTmpO     max_o_DefectTypeLead2Wire, out hv_o_ErrCode8, ou图      //银图                 {
                       图o_Ima = 0_cessful";)_Meas
   [胶 = 0_cessful";)V_Select_Result(hvec_i_FailRegsLead2Wire, out ho_o_FailRegsLead2Wire, hv_i_DefectTypeLead2Wire,
                out hv_o_DefectTypeLead2Wire, out hv_o_ErrCode8, ou  HTuple            // Initia_胶   //))TypeLead2Wire, out hv_o_ErrCode8, ou_S       //桥接区域检测结果
            if ((int)(new HTuple(hv__ErrBridgeCod regi e(o  (hs  eageS  aaxispose();
          ectR    ExpTmpOTmpOr_0
             }
     return;
            }ato
      hv_        return;
            }ato_DiffR   hv_rs         _BondContour, hv_idx + 1);
                if (gi
     _BondContour, hv_idx + 1);
                if (         _BondContour, hv_idx + 1);
                if (     r");
            ho__Image.Dispose();
               _BondContour, hv_idx + 1);
                if (RpleConcat(-1));
                    hvec_o_FailReG  e eConcat(-1));
                    hvec_o_FailReBo_R] = 29;
                hvec_o_FailRegs[1] = ne = g umArr] = 29;
                hvec_o_FailRegs[1] = ne = g2 umArr] = 29;
                hvec_o_FailRegs[1] = ne (hsOI] = 29;
                hvec_o_FailRegs[1] = ne = g um] = 29;
                hvec_o_FailRegs[1] = ne = g2 um] = 29;
                hvec_o_FailRegs[1] = ne = gArr] = 29;
                hvec_o_FailRegs[1] = ne (h     _BondContour, hv_idx + 1);
                if (   e o (hs HTuple(-1)).TupleConcat(
                        -1)else
            {
                //Ic定位、偏              hv_o_ErrCode = -1;
                            hvg域
     v_o_ErrCode = -1;
                            h
     {
   v_o_ErrCode = -1;
                            h
          ] = 29;
                hvec_o_FailRegs[1] = ne = gale--] = 29;
                hvec_o_FailRegs[1] = ne = g2 um--] = 29;
                hvec_o_FailRegs[1] = ne = g    ] = 29;
                hvec_o_FailRegs[1] = ne = g2    ] = 29;
                hvec_o_FailRegs[1] = ne
          1] = 29;
                hvec_o_FailRegs[1] = ne  = Dev] = 29;
                hvec_o_FailRegs[1] = ne = g                     if (hv_o_DefectType == null)
  // o_ErrC1        hv_o_DefectType[hv_idx] = 22;
                    hvec_o_DefectValue[hv_idx] = new HTupleVector(1, out h       hv_RefBondRadius = hv__RefBondParas.Tuple  = 
   eConcat(-1));
                    hvec_o_FailRelue[1] = new HTupleVector(new HTuple(0));
                if  PosT测区1TupleVector(new HTuple(0));
                if  on(hohs TupleVector(new HTuple(0));
                if  posehs fectType = new HTuple();
                hv_o_DefectType[1] = 29;
                hvec_o_FailRegs[1] = ne            1.1] = 29;
                hvec_o_FailRegs[1] = neBi
     tv_o_ErrCode = -1;
                            h
     {
   3v_o_ErrCode = -1;
                            h
     {
   4] = 29;
                hvec_o_FailRegs[1] = ne
          6] = 29;
                hvec_o_FailRegs[1] = ne
          4     //银胶c tryhv_Indices.Tup   hv_Indices.Tuppppps   ic va胶   //))0);
                ho_o_FailRegs.Di;hv_Indices.Tuppppp            {
            TIni__Img1] =   _Dii;hv_Indices.Tupppppni ctVae();befectValue：法焊ee             ho_Contour.Dispose();

_idx + 1);
                if (         _BondContour, hvee            hvec_Elements = new , hv_idx + 1);
                if (     r");
                矩阵
    dCol0-pening.Di
    dC<ol;    Hut _o_Bonncat(      gioeiDispos
       
                ho_C      );   oI {v_    ening.Di
    dCrn;点       = nc, heg, HTuple hv_i_DilationI          // o_ErrCode: 错误码jectParam(hv_i_MetrolI        if (     , t(      gioeiDispos_Region   I {v_
                  .Tuppppp            {
   Ch  ng(f (     , 1] =   Ch  ngo_ErrCode: 错误码jecttches, oout _o_Bonnca   Ch  ngEmptyF    hv1izing";
 0))).TupleOr(new HT1{ispose();
               umn   ：0-量工_Cot.G是5sPoint2d(hv输at：0-ureConefecoi标、纵i标Cot2 //3(f (     , f (     , f (     ,       //
     f
  量工_Co   //
  ---含t I          // o_ErrCode: 错误码ject---含t I                  ho__InspectReg.Disposeeeeeeeee.TupleConcat(
        .TupleConcat(
     HTuf (Rpl      // o_ilReG  e       // o_ilReBo_R      // o_ErrCode: 错误码jectParam(hv_i_MeDecot2 //3(f (     ,    if (Rpl,    if (G  e ,    if (Bo_R] = 29;
               i_InspectRegs, out hv_regNum);wv__Diffose();
                ho_AllRegs.Di初
            ho_o_LiI          分Rpl,    i  //
     f
  量工_Co   //
  ---e             ho_Contour.Dispose();

ject---e         i初sStri] = nRadoispose();
              e                  i_InspectRegs, out hv_regNum);wv__Diffose();
                ho_AllRegs.Di初
            ho_o_LiI    Strt = Bo_R,    i  //
     f
  量工_Co   //
  ---e            hvec_Elements = new , hv
ject-e       v_curElementsLen - 1);
                            hvec_Eleme_Indices.TupppppniB通道      3围
 e       vt.Dyn_Indices.TupppppniR通道      1围
 e         ; G通道      2同       围
 e                  ho_{htImage.Dispos    ma原] = n          hv_o_ErrStches, oout _o_BonncaayHa(v     Ch  nc    )          hv3izing";
 0))).TupleOr(neweg, HTuple hv_i_DilationI          // o_ErrCode: 错误码jectgeParam(hv_i_MetrolI        if (     , t(      L ea
    w HTuo_iErrCode: 错误码ject            {             I    Strt   if (     , t(      L ea
    w HTuo_ ouchMea HTuouchMupl     pErrCoder   tour = ho__InspectReg.CopyObj(1, -1);
       I          // o_ErrCode: 错误码jectgeParam(hv_i_MetrolI        if (     , t(      L ea
    w HTuo_ErrCode: 错误码ject            {             I        rt   if (     , t(      L ea
    w HTuo_ ouchMea HTuouchMupl     pErrCoder   ge                  lements = new , hv_idx + 1);
   t指定重炣测区，则整个检测区都作为非重点检测v_rs               // o_ErrCode: 错误码;
            }ato_DiffR   hv_rs         _BondContour, hvvvvvf (gi
           // o_ErrCode: 错误码;
            }ato_DiffR   hv_rs
     _BondContour, hvreConinew HT, hoefectValue：法焊ee = g umArr      // o_ErrCode: 错误码;
            }ato_DiffR   hv_ = g umArr] = 29;
       ee = g2 umArr      // o_ErrCode: 错误码;
            }ato_DiffR   hv_ = g2 umArr] = 29;
       el(ho_inspect         ho__Inspec有效性测试      HOperatorSet.CoReg.CopyObj(1, -1);
       t(
  = Arro_Bt, 
 ho_RegionUnio    = "sadiuv_ ouchMea HTuouchMupl     pErrCoder   ;
          ge, hoTupleEqual(_Disi0         _     Set   v_ ouchMea HTuouchMu     hv_o_ErrC31e = -1_Di_ ouchMea HTuouchMu     hvm       ddCol - hv_BondCol)).    矩阵
    sOI  2Img: FramesOI HTuple  (hs  e  dd,um       dd);   
    sOI  g: FramesOI Teater(hvhv_Epo          0)
      Reg.CopyObj(1, -1);
       ne (hsOI        HOperatorSet.ReduceDo                {               TIni__Img1] = ne (hsOI     
   [sOIOperatorSet.ReduceDo    hv_ = g umpectRegs.Dispose();
            easureFlag = hv_o_MeasureFs 测区，v_ = g um     alHTuple hv_Sy = nunull;
 ple1, o2 umpectRegs.Dispose();
            easureFlag = hv_o_MeasureFs 测区，v_ = g2 um     alHTuple hv_Sy = nunull;
 ple1, oArr      // o_ErrCode: 错误码码;
            }ato_DiffR   hv_ = gArr] = 29;
       e    矩阵
    gioeiCol -pening.Di
    gioeiC<ol;    Ht _o_Bonncat(      gioeiDispos
       
                ho_C    ));   
    gioeiColening.Di
    gioeiCrn;点       = nc, ho_Re{TupleConcat(
            tches, oout _o_BonncayHa(v     Ch  nc              hv3izing";
 0))).TupleOr(newncat("ra   {
                          ne (hI          // o_ErrCode: 错误码ject---            {             I    Strt   if ( (hI    ,   
    gioeio_ErrCode: 错误码ject---.TupleConcat(
                "column")).TupleConcat("ra   {
                          ne (hI          // o_ErrCode: 错误码ject---            {             I        rt   if ( (hI    ,   
    gioeio_ErrCode: 错误码ject---.TupleConcat(
               max_o_Defec               ho_AllRegs.Di ou图      -1;       hv_Column, out hv_H图      -1;       hv_Column, out hv_H图,
                    ho_AllRegs.Di     hv_o_ErrC46e = -1_ic va胶   ut hv_Row, out         et.AffineTri1, out]46e =[hv_ic s+ 2) h_o_Meuato
   矩阵
   [胶 = 2Img: Frame胶 HTuple  (hs  e  46,um       46)Img: Frame胶e = -1Frame胶 Teater(hvhv_Epo  46)
 0))).TupleOr(newncat("ra   {
                          ne (hic va      量gRE) +      Set.ReduceDo                {                c va   spt   if ( (hg.Di = "ag -1Frame胶量gRE) +      Set.ReduceDo    a下限参数
            hv_threshNum = new onto                    return;
     (hI    ,   ( (hg.Di = "ag    if  PosT测区         hv_o_ErrStr = "paaaaaaaaa.Dispose();
               ;
 o__RefReg.Dispose();
                ho_Regionlizing";
 0))).TupleOr(new HT1;tia            hv_Column, out hv_HomMaaaaa型
            // o_FailR);
           //银胶c s_         _L  rTuple hv__RefBondCol = new HTuple(), hv_RefBot hv__Ers_         _L Idx + 2), hv_i_Msi0.     ype：筛选后的错误类ndCol = new HTuple(), hv_RefBot hv__Er;

            //开始筛选错误区域//0.        hv_Column, out hv_HomMa}       hv_Column, out hv_HomMaurn; 0))).TupleOr(new HT1;tia            hv_Column, out hv_HomMaaaaa             = -2;
           );
           //银胶c s_         _L  rTuple hv__RefBondCol = new HTuple(), hv_RefBot hv__Ers_         _L Idx + 2), hv_i_Msi0.     ype3 ho_o_FailRegs);
   ndCol = new HTuple(), hv_RefBot hv__Erpe9, new HTuple();

            //开始筛选错误区域
            w HTuple(), hv_R}       hv_Column, out hv_H    tches, oou                       HObject ExpTmpOutVar_0;
      a，-2 ato             rrrrrrrrrrrrrrrrr

                return;
ho_o_FailRegs, out    max_o_De)izing";
 0))).TupleOr(new HT1;tia            hv_Column, out hv_HomMaaaaa   max_o_Defec;
ho_o_F量eStr = null,      hhhhhhhhhhhhhhhhhhhhh ou图      Pos  tx.Tupl
            }
 hhhhhhhhhhhhhhhh   图      rge[h量eStr = null,      hhhhhhhhhhhhhhhhhhhhh   图,
     开始等量eStr = null,      hhhhhhhhhhhhhhhhh}       hv_Column, out hv_H}       hv_Column, out hv_H"e();    H     return;
max_o_Der, HTuple hv_i_DarkFactor,
    HTuple hv_i_SobelFactor, out HTuple hv_o_ErrCode, out HT_     Set   //=r)
        {




            // Stack_     Set   //_ ExpTmpOTmpOr_0
          x   i1, outA/ Stack_     Set   [  
    sOI-, out t HT_     Set   Dispos_Region   I {v_sOI-, )r  HObject ho__Inspeeeeeeeeeeeeeeeee             HTuple  (hs  e   re ou图   图   ,h   图,
   ndCol = new HTuple(), hv_RefBot hvturn;
           HTupleex = hvTyoncat( hv_i        omMa(;
                ho_EmptyFailReg.Dispose();
   eeeeeeee                //焊/I);
     (hI    ,      ;
              ,      HTuple ndCol = new HTuple(), hv_RefBot hv);
            HO否存在，2.再阈值刈   vg域
       ho_EmptyFailReg.Dispose();
   eeeeeeee             输入图像
            //i_BondRe  loseOrOpen__Bond=   vg域
              hv_o_ErrStr = "paaaaaaaaa.Dispose();
               ;
   h
     {
     ho_EmptyFailReg.Dispose();
   eeeeeeee              {
                vg域
     _Bond=   
     {
    ndCol = new HTuple(), hv_RefBot hv)  alHTuple hv_Sy = nunull;
 ;tia            hv_Column, out hv_HomMaaaaa  ;wv__Diffose();
                ho_AllRegs.Di类   w HTuple();
             = g um     
     {
        i  //
     f ndCol = new HTuple(), hv_RefBot hvout hv_imgNum);
                 ut hv_Hohv_ = g umpectRegs.Dispose();
            ho_AllRegs.D    omg um, oDiffose();
                ho_AllRegs.Di类}ispose();
               ;
   h
          h ho_EmptyFailReg.Dispose();
   eeeeeeee             Mul          
     {
        
     {
        i  h
           ndCol = new HTuple(), hv_RefBot hvout hv_imgNum);
                 ut h        hv_Column, out hv_HomMaaaaa  ;wv__Diffose();
                ho_AllRegs.Di类   w HTuple();
             = g2 um     
               i  //
     f ndCol = new HTuple(), hv_RefBot hvout hv_imgNum);
                 ut hv_Hohv_ = g2 umpectRegs.Dispose();
            ho_AllRegs.D    omg2 um, oDiffose();
                ho_AllRegs.Di类}ispose();
               ;
         hv_Column, out hv_HomMaaaaa  ;wv__Diffose();
                ho_AllRegs.Di类   w HTuple();
      ho_o_Li = gArrrt = vg域
     _Bond== -1;
                hv_o_ErrStr = "paaaaaaaaaaaaa.Dispose();
               ;
 ;
 ple1, oArr      // o_ErrCode: 错误码码ple1, oArr, oDiffose();
                ho_AllRegs.Di类}ispose();
               .TupleConcat(
        .TupleConcat(
     HTuumn   ：0-量工_C是5sPoint2d(hv输at：0-ureConefecoispose();
le()ew HTuple(), = g umArr      omg um,    i  //
     f
  量工_Co   //
  ---e = g umArr      // o_ErrCode: 错误码geS  rsie = g umArri初sStri] = nRadoispose();
              e                  i_InspectRegs, out hv_regNum);wv__Diffose();
                ho_AllRegs.Di初
            ho_o_Li omg2 umArr,.nRa omg2 um,    i  //
     f
  量工_Co   //
  ---e = g2 umArr      // o_ErrCode: 错误码geS  rsie = g2 umArri初sStri] = nRadoispose();
              e                   t(
  = Arro_B[  
    sOI-, out gionUnio    = "sado_Li = gArr)rs);有左右
_o_ ouchMea HTuouchMupl     pErrCoder   ge 认量工具索引w HTup,d参hoefectV6      Tul     pErrCoder   "e();    H //Mul  胶胶ing";
 0))).TupleOr(neweg, HTuple hv_i_DilatioxpTmpO内      trol  //*************g, HTuple hv_i_Dilatiotia_胶   //) -1_Di砉量eStr = null,      hhhhhregNum);   v] = nRad(nei    v] = nRado[      ic ].O o_inspectImagO内ontour有trolc_t((h***********g, HTuple hv_i_Dilatio       o_inspectImage);
_     Set            _ um] = 29;
       != 0)
            {
           S败         //M       Setizing";
 0))).TupleOr(new HT1{ispose();
               e             ho_Contour.Dispose();

ject---e            hvec_Elements = new , hv
ject-e          hvec_Elements = new , hv
ject-eR  ho_EmptyFailReg.Dispose();
   eeeef (G  e   ho_EmptyFailReg.Dispose();
   eeeef (Bo_R      // o_ErrCode: 错误码ject---e = g umArr      // o_ErrCode: 错误码geS  rsie = g2 umArr      // o_ErrCode: 错误码geS  rsie (hsOI        HOperatorSet.ReduceDo    v_Hohv_ = g umpectRegs.Dispose();
            ho_Ahv_ = g2 umpectRegs.Dispose();
            ho_Aple1, oArr      // o_ErrCode: 错误码码 ne (hI          // o_ErrCode: 错误码ject--- ne (hic va      量gRE) +      Set.ReduceDoa下限参数
            hv_threshNum = new onto(;
                ho_EmptyFailReg.Dispose();
   eeee   vg域
       ho_EmptyFailReg.Dispose();
   eeee  h
     {
     ho_EmptyFailReg.Dispose();
   eeee  h
          h ho_EmptyFailReg.Dispose();
   eeee ne = gale--pectRegs.Dispose();
            ho_Ahv_ = g2 um--pectRegs.Dispose();
            ho_Ahv_ = g    pectRegs.Dispose();
            ho_Ahv_ = g2    pectRegs.Dispose();
            ho_Ahv_
          1pectRegs.Dispose();
            ho_Ahv_ = gDevh ho_EmptyFailReg.Dispose();
   eeee ne = gat  ho_EmptyFailReg.Dispose();
   eeee  h
    o_ErrC1  ho_EmptyFailReg.Dispose();
   eeee  h1, oon(hopectRegs.Dispose();
                    ho__InspectRegs.Dispose();
                ple  = 
   pectRegs.Dispose();
                ple
            HOperatorSet.GenEmptyObj(octR      ifif  PosT测区1OperatorSet.GenEmptyObj(octR      ifif  on(hohs OperatorSet.GenEmptyObj(octR      ifif  posehs 
                    ho_ImageAffinTrans.Dispose();
                    ho__IcSurfaceImg.D            1.1
                    ho__IcSurfaceImg.DBi
     t  ho_EmptyFailReg.Dispose();
   eeee  h
     {
   3  ho_EmptyFailReg.Dispose();
   eeee  h
     {
   4pectRegs.Dispose();
            ho_Ahv_
          6pectRegs.Dispose();
            ho_Ahv_
          4pectRegs.Dispose();
            ho_Aht(
  = Arro_BpectRegs.Dispspose();
            ho_A   = nuv_                       e                   out HT_     Set   //=r)
        {




         ack_     Set   //_ ExpTmpOTmpOr_0
          x   i1, ack_     Set   ,  = "    Suple hv_Sy = nunull;
 ple1, oArr      // o_ErrCode: 错误码码;
            }ato_DiffR   hv_ = gArr] = 29;
       e     ne = gale--pectRegs.Dispose();
            easureFlag = hv_o_MeasureFs 测区，v_ = gale--     alHTuple hv_Sy = nunull;
 ple1, o2 um--pectRegs.Dispose();
            easureFlag = hv_o_MeasureFs 测区，v_ = g2ale--     alHTuple hv_Sy = nunull;
      hv_o_ErrC91e = -1_Di砆, out hv_Row, out ow, out hv_Colum       91                      ho__SubReg.Dii      .Dii 
            HOperatorSet.GenEmptyOblobErrCode, out hv__BlobEr1v_IsSt 具
 ;
  m(     hv(hvnto           // i_Ro    = g umpectRegs.Dispose();
            ho_A            {              = g umArr区，v_ = g um  .Dispose(ispose();
            ho_Ahv_ = g2 umpectRegs.Dispose();
            ho_A            {              = g2 umArr区，v_ = g2 um  .Dispose(ispose();
            ho_Aumn   ：0-量工_Cot.G是5sPoint2d(hv输at：0-ureConefecoi标、纵i标             = g um--      omg um,    i  //
     f对胶         {
    (-2))        0ndRow = new HTuple(), hv_Rpt     ne = gale--pectRegs.Dispose();
            _Rpt     ne = gale-- =
urElementsLen - 1);
                w")).TupleConcat(
            umn   ：0-量工_Cot.G是5sPoint2d(hv输at：0-ureConefecoi标、纵i标             = g2 um--      omg2 um,    i  //
     fat：0-ureConefecoi标㋋out hv_imgNum);
                 ut hple1, o2 um--pectRegs.Dispose();
                ut hple1, o2 um-- =
urElementsLen - 1);
                w")).TupleConcat(
            l(ho_inspect         ho__Inspec有效性测试      HOperatorSet.CoReg.   hg.Diumn   ：0-量工_Cot.G是5sPoint2d(hv输at：0-ureConefecoi标、纵i标、标、 = gArrrt t(
  = Arro_B[  i new HTupleVector(new HTuple(hv_Matches.TupleSelect(aaaa.Dispose();
               ;
 ple1, oArr      // o_ErrCode: 错误码码ple1, oArr              ho__InspectReg.Disposeeeeeeeee.TupleConcat(
        .TupleConcat(
     HTuf ( = g umArr      // o_ErrCode: 错误码geS iveMethod,
    HTuple h = g um--  R   hv_ = g umArr    ye(ispose();
            ple1, o2 umArr      // o_ErrCode: 错误码geS iveMethod,
    HTuple h = g2 um--  R   hv_ = g2 umArr    ye(ispose();
            pt(
  = Arro_B[0out gionUnio    = "sado_Li = gArr)rs);有左右
_o_ ouchMea HTuouchMu tiotia_胶   //)1_ ouchMea HTuouchMupl     pErrCoder   ge                  efectVrs         和rs
     l     pErrCoder        hv_o_ErrC104 =otia_胶   /                 );
            (ches04 =o               );
 ubReg.Dii      .Dii 
            HOs04,     (ches04EmptyOblobErrCode, out hv__BlobEs04E
 0))).TupleOr(neweg, HTuple hv_i_Dilatiotches, oout _o_Bonncaat HT_     Set   Dispos_Region   ho_RegionO      //M       Setizing";
 0))).TupleOr(new HT1{ispose();
               e             ho_Contour.Dispose();

ject---e            hvec_Elements = new , hv
ject-e          hvec_Elements = new , hv
ject-eR  ho_EmptyFailReg.Dispose();
   eeeef (G  e   ho_EmptyFailReg.Dispose();
   eeeef (Bo_R      // o_ErrCode: 错误码ject---e = g umArr      // o_ErrCode: 错误码geS  rsie = g2 umArr      // o_ErrCode: 错误码geS  rsie (hsOI        HOperatorSet.ReduceDo    v_Hohv_ = g umpectRegs.Dispose();
            ho_Ahv_ = g2 umpectRegs.Dispose();
            ho_Aple1, oArr      // o_ErrCode: 错误码码 ne (hI          // o_ErrCode: 错误码ject--- ne (hic va      量gRE) +      Set.ReduceDoa下限参数
            hv_threshNum = new onto(;
                ho_EmptyFailReg.Dispose();
   eeee   vg域
       ho_EmptyFailReg.Dispose();
   eeee  h
     {
     ho_EmptyFailReg.Dispose();
   eeee  h
          h ho_EmptyFailReg.Dispose();
   eeee ne = gale--pectRegs.Dispose();
            ho_Ahv_ = g2 um--pectRegs.Dispose();
            ho_Ahv_ = g    pectRegs.Dispose();
            ho_Ahv_ = g2    pectRegs.Dispose();
            ho_Ahv_
          1pectRegs.Dispose();
            ho_Ahv_ = gDevh ho_EmptyFailReg.Dispose();
   eeee ne = gat  ho_EmptyFailReg.Dispose();
   eeee  h
    o_ErrC1  ho_EmptyFailReg.Dispose();
   eeee  h1, oon(hopectRegs.Dispose();
                    ho__InspectRegs.Dispose();
                ple  = 
   pectRegs.Dispose();
                ple
            HOperatorSet.GenEmptyObj(octR      ifif  PosT测区1OperatorSet.GenEmptyObj(octR      ifif  on(hohs OperatorSet.GenEmptyObj(octR      ifif  posehs 
                    ho_ImageAffinTrans.Dispose();
                    ho__IcSurfaceImg.D            1.1
                    ho__IcSurfaceImg.DBi
     t  ho_EmptyFailReg.Dispose();
   eeee  h
     {
   3  ho_EmptyFailReg.Dispose();
   eeee  h
     {
   4pectRegs.Dispose();
            ho_Ahv_
          6pectRegs.Dispose();
            ho_Ahv_
          4pectRegs.Dispose();
            ho_Aht(
  = Arro_BpectRegs.Dispspose();
            ho_A   = nuv_                       e                  hv_ = g umpectRegs.Dispose();
                        {              = g umArr区，v_ = g um  .Dispose(ispose();
            hv_ = g2 umpectRegs.Dispose();
                        {              = g2 umArr区，v_ = g2 um  .Dispose(ispose();
            hv_ = g    pectRegs.Dispose();
            aras = new HTuple();
      omg um,    i    = g    eaout / a HT_     Set   Dispos_Region      {




         acki)P  0];       hv_Column, out v_ = g2    pectRegs.Dispose();
            aras = new HTuple();
      omg2 um,    i    = g2    eaout / a HT_     Set   Dispos_Region      {




         acki)P  0];       hv_Column, out v_
          1pectRegs.Dispose();
                         Mul           = g    eas  = g    ea  HTupl
          1对胶         {
    (-2))0];       hv_Column, out v_ = gDevh ho_EmptyFailReg.Dispose();
   数均包含在该变 = g2    eaupl
          1  HTupl = gDev对胶         {
    (-2))0];       hv_Column, out v_ = g           HOperatorSet.ReduceDo                { qr           = gDev，v_ = g t __ErrMeasureStr;

or(((n" ExpTmyHa(v sRevec_ing";
 0))).TupleOr(new HT1{ispose();
               e     o_ErrC1  ho_EmptyFailReg.Dispose();
   eeeearas = new HTuple();
      omg   ho_o_MeasureContours1yHa(vRevec_hv__Re胶         {
    (-2))    0ndRow = new HTuple(), hv_Rpt   1, oon(hopectRegs.Dispose();
                w HTuple();
             = g    ea     // o_ErrC1  HTupl = gon(ho对胶         {
    (-2))    0ndRow = new HTuple(), hv_Rptumn   ：0-量工_Cot.G是5sPoint2d(hv输at：0-ureConefecoi标、纵i标、
                v      if ((int)(new HTuple((,sull, hv_Indices = nullv_Sy = n  hv;
 ple1, oon(hopectRegs.Dispose();
                    spose();
                ho__InspectReg.Disposeeeeeeeee.TupleConcat(
                ho__InspectRegs.Dispose();
                数均包含在该变 = g    ea     // o_ErrC1  HTupl = ggs.Dis对胶         {
    (-2))    0ndRow = new HTuple(), hv_Rptumn   ：0-量工_Cot.G是5sPoint2d(hv输at：0-ureConefecoi标、纵i标、
                v   gs.Dis(int)(new HTuple((,sull, hv_Indices = nullv_Sy = n  hv;
 ple1, o_InspectRegs.Dispose();
                        ho__InspectReg.Dispose();
                        .TupleConcat(
            pos  = 
   pectRegs.Dispose();
                easureFlag = hv_o_MeasureFs 测区，v_ = g
        alHTuple hv_Sy = nunull;
 i_Ro    = g umpectRegs.Dispose();
            ho_A asureFlag = hv_o_MeasureFs 测区，v_ = g um     alHTuple hv_Sy = nunull;
     hv_ = g2 umpectRegs.Dispose();
                easureFlag = hv_o_MeasureFs 测区，v_ = g2 um     alHTuple hv_Sy = nunull;
 ho_Aple1, oArr      // o_ErrCode: 错误码码l(ho_inspect         ho__Inspec有效性测试      HOperatorSet.CoReg.   hg.Diumn   ：0-量工_Cot.Gple1, oArr    t(
  = Arro_B[  i ne.Tup"t,   (v_o_Meutches, o gIdxi    _o_Bonncat(
   to__ic t, ho_Regi               h5_o_ure_     Set   Dispos_Region      {




             acki);t hv_Row, out         et.AffineTri1, out] h5_o_               );
    ho__SubReg.Dispose();
                   h5,ri1, out] h5v_o_Mepose();
                  h5vHOperatorSet.CoReg.   hg.Diumn   ：0-量工_Cot.Gple
            HOperatorSet.GenEmptyObj(octR      if                {              = gArr区，v_
            H               ho_RegionOpening.Di  ifif  PosT测区1OperatorSet.GenEmptyObj(octR      ifeeee             输入图像
  
            H   Re  loseOrOpen__Bond=    PosT测区1         hv_o_ErrStr = "paaaaaaaaa.Dispose();
               ;
   h on(hohs OperatorSet.GenEmptyObj(octR      if   ho_o_MeasureContours = ExpTmpO PosT测区1            if ((int  h on(hohs at：0-ureConefecoi标㋋o,    case 3:
           Less(
        hif  posehs 
                    ho_ImageAffinTr   ho_o_MeasureContours = ExpTmpO PosT测区1         gs.Dis(intif  posehs at：0-ureConefecoi标㋋o,  o_o_MeasureContours.D Less(
        ans.Dispose();
                    ho__IcSurfaceIm   ho_o_MeasureCose();2(  h on(hohs tif  posehs           ho__IcSurfaceImg.Dispose();
        ceImg.D            1.1
                    ho__IcSurfaceIm   ho_o_MeasureCo      1._LightOrDark, out hv_IsStri (hs           1.1, 3.5             ho__IcSurfaceIm   hge      考鉍景 n v_o景 n1(hs  ev_o样与原] =相乘());
v_o鉍景  HTu        }
  了           ho__IcSurfaceIm   hg.DBi
     t  ho_EmptyFailReg.Dispose();
   eeee   ho_o_MeasureCos     ToBin( (hs           1.1, Stri (hBi
     t;
   
= null,      hhhhhhhhhhhhhhhhhhhhh   整个区都作为非重点检测eConcat(eeee  h
     {
   3  ho_EmptyFailReg.Dispose();
   eeee标、纵i标、
                Bi
     t;ond=   
     {
   3     alHTuple hv_Sy = nunull;
 ho_Aeeee  h
     {
   4pectRegs.Dispose();
            ho_A标、纵i标、
                 PosT测区1  ond=   
     {
   4 ndCol = new HTuple(), hv_RefBot hv)  alHTuple hv_Sy = nunull;
 ;tia    hv_
          6pectRegs.Dispose();
            ho_Aeeee             Mul          
     {
   3,=   
     {
   4 a  HTupl
          6at：0-ureConefecoi标㋋out hv_imgple hv_Sy = nunull;
 ;tia            hv_Column, out hv_HomMaaaaa  ;wv__Diffose();
                ho_AllRegs.Di类   w HTuple();
             = g um     
          6    i  //
     f ndCol = new HTuple(), hv_RefBot hvout hv_imgNum);
                 ut hv_Hohv_ = g umpectRegs.Dispose();
            ho_AllRegs.D    omg um, oDiffose();
                ho_AllRegs.Di类}ispose();
               ;
   h
          4pectRegs.Dispose();
            ho_Aeeee             Mul          
          6    
          6    i  h
          4 ndCol = new HTuple(), hv_RefBot hvout hv_imgNum);
                 ut h        hv_Column, out hv_HomMaaaaa  ;wv__Diffose();
                ho_AllRegs.Di类   w HTuple();
             = g2 um     
          4     i  //
     f ndCol = new HTuple(), hv_RefBot hvout hv_imgNum);
                 ut hv_Hohv_ = g2 umpectRegs.Dispose();
            ho_AllRegs.D    omg2 um, oDiffose();
                ho_AllRegs.Di类}ispose();
               ;
         hv_Column, out hv_HomMaaaaa  ;wv__Diffose();
                ho_AllRegs.Di类   w HTuple();
             = g
        
     {
   3,=   i  //
     f ndCol = new HTuple(), hv_RefBot hvout hv_imgNum);
                 ut hv_Hohv_ = g
   pectRegs.Dispose();
                ut hv_Hohv_ = g
   , oDiffose();
                ho_AllRegs.Di类}ispose();
               .TupleConcat(
           w HTuple();
, -1)x
        loseOrOpen__Bhv_ = g
   ;
         aupl       hv_Column, out hv_HomMa       aa      hvec ectRDispose();
                tches, oout _o_Bonncat(MinegionO      //M       Setizing";
 0))).TupleOr(new HT1g.Diumn   ：0-量工_Cot.GpleI            ho_Contour.Dispose();

ject------e            hvec_Elements = new , hv
ject----e          hvec_Elements = new , hv
ject----eR HOperatorSet.GenEmptyObj(octR      if    f (G  e   ho_EmptyFailReg.Dispose();
   eeeeeeeef (Bo_R      // o_ErrCode: 错误码ject---gs.D    omg umArr      // o_ErrCode: 错误码码ple1, o2 umArr      // o_ErrCode: 错误码码ple (hsOI        HOperatorSet.ReduceDo    v_Hov_Hohv_ = g umpectRegs.Dispose();
            ho_AllRehv_ = g2 umpectRegs.Dispose();
            ho_AllReple1, oArr      // o_ErrCode: 错误码码     ne (hI          // o_ErrCode: 错误码ject--- ne (hic va      量gRE) +      Set.ReduceDo    a下限参数
            hv_threshNum = new onto    (;
                ho_EmptyFailReg.Dispose();
   eeee   vg域
       ho_EmptyFailReg.Dispose();
   eeeeeeee  h
     {
     ho_EmptyFailReg.Dispose();
   eeee;
   h
          h ho_EmptyFailReg.Dispose();
   eeeeeeee ne = gale--pectRegs.Dispose();
            ho_Aut hple1, o2 um--pectRegs.Dispose();
                ut hple1, o    pectRegs.Dispose();
                ho_Ahv_ = g2    pectRegs.Dispose();
            ho_Aout v_
          1pectRegs.Dispose();
                ho_Ahv_ = gDevh ho_EmptyFailReg.Dispose();
   
   eeee ne = gat  ho_EmptyFailReg.Dispose();
   eeee    e     o_ErrC1  ho_EmptyFailReg.Dispose();
   eeee;
 ple1, oon(hopectRegs.Dispose();
                    spose()_InspectRegs.Dispose();
                        ho_
   pectRegs.Dispose();
                ut hple
            HOperatorSet.GenEmptyObj(octR      if    if  PosT测区1OperatorSet.GenEmptyObj(octR      ifeeee  h on(hohs OperatorSet.GenEmptyObj(octR      if   hif  posehs 
                    ho_ImageAffinTr   hans.Dispose();
                    ho__IcSurfaceIm   hg.D            1.1
                    ho__IcSurfaceIm   hg.DBi
     t  ho_EmptyFailReg.Dispose();
   eeee   h  h
     {
   3  ho_EmptyFailReg.Dispose();
   eeee标  h
     {
   4pectRegs.Dispose();
            ho_A标hv_
          6pectRegs.Dispose();
            ho_Aeeee  h
          4pectRegs.Dispose();
            ho_Aeeeeht(
  = Arro_BpectRegs.Dispspose();
            ho_Aho_A   = nuv_                       .TupleConcat(
            pos  =     pectRegs.Dispose();
            ho_Ao_o_MeasureCo  v          = g um      ho_
   ,    i    = g    eaout, 0ndRow = new HTuple(), hv_Rpt   1, o2    pectRegs.Dispose();
            ho_Ao_o_MeasureCo  v          = g2 um      ho_
   ,    i    = g2    eaout,spose();
            ho_Aho_A0ndRow = new HTuple(), hv_Rpt   
          1pectRegs.Dispose();
                             Mul           = g    eas  = g    ea  HTupl
          1对胶         {
    (-2))ho_A0ndRow = new HTuple(), hv_Rpt    = gDevh ho_EmptyFailReg.Dispose();
   
   数均包含在该变 = g2    eaupl
          1  HTupl = gDev对胶         {
    (-2))ho_A0ndRow = new HTuple(), hv_Rpt    = gat  ho_EmptyFailReg.Dispose();
   eeee            { qr           = gDev，v_ = g t __ErrMeasureStr;

or((    e                  i_InspectRegs, out hv_regNum);wv__Diffose();
                ho_AllRegs.Di初
            ho_o_Ligh         eas  = g    ea  HT  //
     f
  量工_Co   //
  ---ers               // o_ErrCode: 错误码 
  ---ers         i初sStri] = nRadoispose();
              e                  i_InspectRegs, out hv_regNum);wv__Diffose();
                ho_AllRegs.Di初
            ho_o_Ligh
      B    omg   ho_o_M  //
     f
  量工_Co   //
  ---ers
           // o_ErrCode: 错误码 
  --ers
     v_curElementsLen - 1);
                            hvec_Eleme焊点检测区域I            ho_Contour.Dispose();

e            hvec_Elements = new , hve          hvec_Elements = new , hveR HOperatorSet.GenEmptyObj(octRf (G  e   ho_EmptyFailReg.Dispose();f (Bo_R      // o_ErrCode: 错误码    omg umArr      // o_ErrCode: 错误码ple1, o2 umArr      // o_ErrCode: 错误码ple (hsOI        HOperatorSet.ReduceDohv_ = g umpectRegs.Dispose();
        hv_ = g2 umpectRegs.Dispose();
        ple1, oArr      // o_ErrCode: 错误码 ne (hI          // o_ErrCode: 错误码 ne (hic va      量gRE) +      Set.if  PosT测区置及半径信息
            //o_DefectValue：输出的实际检测得到g域
       ho_EmptyFailReg.Dispose();  h
     {
     ho_EmptyFailReg.Dispose();  h
          h ho_EmptyFailReg.Dispose(); ne = gale--pectRegs.Dispose();
        ple1, o2 um--pectRegs.Dispose();
        n = g            HOperatorSet.ReduceDo    = g2            HOperatorSet.ReduceDo   
          1pectRegs.Dispose();
            = gDev        HOperatorSet.ReduceDo    = g   trologyHandle: 测量模板句     o_ErrC1  ho_EmptyFailReg.Dispose();ple1, oon(hopectRegs.Dispose();
        spose()_InspectRegs.Dispose();
            ho_
   pectRegs.Dispose();
        ple
            HOperatorSet.GenEmptyObj(octRif  PosT测区1OperatorSet.GenEmptyObj(octR  h on(hohs OperatorSet.GenEmptyObj(octRif  posehs 
                    ho_Imagans.Dispose();
                    ho__IcSg.D            1.1
                    ho__IcSg.DBi
     t  ho_EmptyFailReg.Dispose();  h
     {
   3  ho_EmptyFailReg.Dispose();  h
     {
   4pectRegs.Dispose();
        hv_
          6pectRegs.Dispose();
          h
          4pectRegs.Dispose();
        ht(
  = Arro_BpectRegs.Dispspose();
           = nuv_            //左"(hm     Regit//左"(hm     {osPosle(hvegNeg.Di  I            ho_Contour.Dispose();

e            hvec_Elements = new , hve          hvec_Elements = new , hveR HOperatorSet.GenEmptyObj(octRf (G  e   ho_EmptyFailReg.Dispose();f (Bo_R      // o_ErrCode: 错误码    omg umArr      // o_ErrCode: 错误码ple1, o2 umArr      // o_ErrCode: 错误码ple (hsOI        HOperatorSet.ReduceDohv_ = g umpectRegs.Dispose();
        hv_ = g2 umpectRegs.Dispose();
        ple1, oArr      // o_ErrCode: 错误码 ne (hI          // o_ErrCode: 错误码 ne (hic va      量gRE) +      Set.if  PosT测区置及半径信息
            //o_DefectValue：输出的实际检测得到g域
       ho_EmptyFailReg.Dispose();  h
     {
     ho_EmptyFailReg.Dispose();  h
          h ho_EmptyFailReg.Dispose(); ne = gale--pectRegs.Dispose();
        ple1, o2 um--pectRegs.Dispose();
        n = g            HOperatorSet.ReduceDo    = g2            HOperatorSet.ReduceDo   
          1pectRegs.Dispose();
            = gDev        HOperatorSet.ReduceDo    = g   trologyHandle: 测量模板句     o_ErrC1  ho_EmptyFailReg.Dispose();ple1, oon(hopectRegs.Dispose();
        spose()_InspectRegs.Dispose();
            ho_
   pectRegs.Dispose();
        ple
            HOperatorSet.GenEmptyObj(octRif  PosT测区1OperatorSet.GenEmptyObj(octR  h on(hohs OperatorSet.GenEmptyObj(octRif  posehs 
                    ho_Imagans.Dispose();
                    ho__IcSg.D            1.1
                    ho__IcSg.DBi
     t  ho_EmptyFailReg.Dispose();  h
     {
   3  ho_EmptyFailReg.Dispose();  h
     {
   4pectRegs.Dispose();
        hv_
          6pectRegs.Dispose();
          h
          4pectRegs.Dispose();
        ht(
  = Arro_BpectRegs.Dispspose();
          nuv_            //左"(hm ourt(2));
   //初始化//         //, o.Tuple      ho_Image测区域
            //　ot hv__-01-09 周博士   to(out ho_SelectedRegions);
         (out ho_Se(out ho_Sel_o_Me (ches, o.Tuple      ho_Image测区域
            //　oFlag.TupleConcTIni__ImgD( =  (ches, ic va   sple }

       loseOrOpen__Bond= -1;
  __Br                 -1;
  __Br 
        ogyswigyHa(vtour = ho__        //银胶c s_        //Mul  胶胶s_        //     gioei   ogyswigyHa(v     L ea
    w HTu,_ogyswigyHa(v     Ch  nc    s_        //M       Set   ogyswigyHa(v sRevec_odogyswigyHa(vRevec_hv__Ref (hv_idx = 0;                i_HomMatMod2Img: Frame模板到图像的映射矩阵--从模板到检测图像的映射关系
            // i_AdaptiveMethod：局部阈值分           分     Strt = i_Refle(o  = "ageS  rsion- hv_IcRow)).T              G  e s  vP       Bo_R  vP        omg umArr "ageS  rsion- hv_IcRow)). omg2 umArr,.nRa (hsOI  vP        omg um, out h  hv_i_HomMatMod2Img, hv_i  = 2ale_o_Bonncat_i  = Arre.Dispo,分   i_Refle(o  = "ageS  rsion- hv_IcRow)). PosT测区和非重
              , out hrt = vg域
     le(o  = "ageS  rsion- hv_IcRow)). PosT {
   和非重
          , out hcat_i  = ale--从模onn "ageS  rsion- hv_IcRow)).  = 2ale--从模onncat_i  =     , out h,o    = g2    le(o  = "ageS  rsion- hv_IcRow)). PosT    1模onncat_i  = Dev, out h B    omg   le(o  = "ageS  rsion- hv_IcRow)). PosTo_ErrC1模onncat_i  = on(ho, out h         gs.D模onn "ageS  rsion- hv_IcRow)).  = 
             ;
            H, out h,Rif  PosT测区1模onn "ageS  rsion- hv_IcRow)). on(hohs  e    : sposehs  e    :,rs = "sadiuv_* 0.5mallestRectangle2(ho__RefRessss{h         1.1模onncat_iBi
     tType = ,  h
     {
   3le(o  = "ageS  rsion- hv_IcRow)). PosT {
   4Type = ,  h
          6, out h
          4Type = new h_o_Meuths  eut    _o_Bonncat(
  = Arro_Bt,       (ches, oWi1(ch_o_Bonncat(
                            -1   to__ic t, 1,       (hs   ic va胶   //))
      _Di码，代      if ((iput iconic v
   [ //))
      Ch  ng);
                     ，代      if ((iput iconic vDark.D//))
      _     Set   //))
      
   [sOI  vP        if ((iput iconic v
   [gioei/))ExpTmpOTmpO     max_o_DefectTypeLead2Wire, out hv_o_ErrCode8, ou图      //银图                 {
                       图o_Ima = 0_cessful";)_Meas
   [胶 = 0_cessful";)V_Select_Result(hvec_i_FailRegsLead2Wire, out ho_o_FailRegsLead2Wire, hv_i_DefectTypeLead2Wire,
                out hv_o_DefectTypeLead2Wire, out hv_o_ErrCode8, ou  HTuple            // Initia_胶   //))TypeLead2Wire, out hv_o_ErrCode8, ou_S       //桥接区域检测结果
            if ((int)(new HTuple(hv__ErrBridgeCod regi e(o  (hs  eageS  aaxispose();
          ectR    ExpTmpOTmpOr_0
             }
     return;
            }ato
      hv_        return;
            }ato_DiffR   hv_rs         _BondContour, hv_idx + 1);
                if (gi
     _BondContour, hv_idx + 1);
                if (         _BondContour, hv_idx + 1);
                if (     r");
            ho__Image.Dispose();
               _BondContour, hv_idx + 1);
                if (RpleConcat(-1));
                    hvec_o_FailReG  e eConcat(-1));
                    hvec_o_FailReBo_R] = 29;
                hvec_o_FailRegs[1] = ne = g umArr] = 29;
                hvec_o_FailRegs[1] = ne = g2 umArr] = 29;
                hvec_o_FailRegs[1] = ne (hsOI] = 29;
                hvec_o_FailRegs[1] = ne = g um] = 29;
                hvec_o_FailRegs[1] = ne = g2 um] = 29;
                hvec_o_FailRegs[1] = ne = gArr] = 29;
                hvec_o_FailRegs[1] = ne (h     _BondContour, hv_idx + 1);
                if (  -1)else
            {
                //Ic定位、偏              hv_o_ErrCode = -1;
                            hvg域
     v_o_ErrCode = -1;
                            h
     {
   v_o_ErrCode = -1;
                            h
          ] = 29;
                hvec_o_FailRegs[1] = ne = gale--] = 29;
                hvec_o_FailRegs[1] = ne = g2 um--] = 29;
                hvec_o_FailRegs[1] = ne = g    ] = 29;
                hvec_o_FailRegs[1] = ne = g2    ] = 29;
                hvec_o_FailRegs[1] = ne
          1] = 29;
                hvec_o_FailRegs[1] = ne  = Dev] = 29;
                hvec_o_FailRegs[1] = ne = g                     if (hv_o_DefectType == null)
  // o_ErrC1        hv_o_DefectType[hv_idx] = 22;
                    hvec_o_DefectValue[hv_idx] = new HTupleVector(1, out h       hv_RefBondRadius = hv__RefBondParas.Tuple  = 
   eConcat(-1));
                    hvec_o_FailRelue[1] = new HTupleVector(new HTuple(0));
                if  PosT测区1TupleVector(new HTuple(0));
                if  on(hohs TupleVector(new HTuple(0));
                if  posehs fectType = new HTuple();
                hv_o_DefectType[1] = 29;
                hvec_o_FailRegs[1] = ne            1.1] = 29;
                hvec_o_FailRegs[1] = neBi
     tv_o_ErrCode = -1;
                            h
     {
   3v_o_ErrCode = -1;
                            h
     {
   4] = 29;
                hvec_o_FailRegs[1] = ne
          6] = 29;
                hvec_o_FailRegs[1] = ne
          4     //银胶c tryhv_Indices.Tup    o__InspectReg.D//ex = neeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee  ho__InspectReg.D//p  //*();
       像_idx = hv_idx.Tupl   HTuBondCol,
            TIni__Iut      {
    即trologyHaBondCol,
            ic va   sHObject EogyHa}      hv_idEogyHac                 //初始 out hv_RefBondCol);
               }      hv_idEogyHac            hv_idx = hv_idpO   iyPara.Tupp  //*      //初始 out hrs         ;_idx = hv_idx.Tupl ow, hv__RefBondCol,
          o         nd_idx = hv_idx.Tupl        HOperatorSet.Conca      ———1-工具对应            hv_o_Err具要的参工具对应      hv_o_Err具ul  胶胶;
     Bond      drologyHav_tooll  //*************x.Tupl   HTu hvO内  //c_o_等s, outn
  O      trol  HTu
  O性          ();hv******x**u hv, h "PegRaspo则 "P单******x**u hv, h "P0      hv_o_Err具     gioei: ();
 l  //*************   HTuRefBe();befectV  ho_i      hv_o_Err具     L ea
    w HTut(
    HTu hv即测量工具对应(hs  e     //*****  ho_irorCod对阈g.Dispos      hv_o_Err具     Ch  nc    嵋量工具对应os       .Tupl), ((((hs  e   通道g.Disp      hv_o_Err具       Set: ();
       ************x.Tupl   HTu指定类垏中讹黃样本w HTup      hv_o_Err具 sRevec_;
     upl************x.Tupl   HTu6        
      炼 hv即扔除     // 影响      hv_o_Err具Revec_hv__Re: (炼******Mea    
  
  (炼*o     HTuRefB     大
         *or (hv_idx = 0   o__InspectReg.D//ex = neeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee  _                  -2)).Tu******w HTup      hv_o_Errs   ic va胶   //))0);
                ho_o_FailRegs.Di;hv_Indices.TupppppagO内trow HTup      hv_o_Err            {
            TIni__Img1] =   _Dii;hv_Indices.Tupppppni ctV  ho_irBe();befectVurn;
   通道gs,
  outErrErrorCodalue：法焊ee             ho_Contour.Dispose();

_idx + 1);
                if (         _BondContour, hvee            hvec_Elements = new , hv_idx + 1);
                if (     r");
                矩阵
    dCol0-pening.Di
    dC<ol;    Hut _o_Bonncat(      gioeiDispos
       
                ho_C      );   oI {v_    ening.Di
    dCrn;点       = nc, heg, HTuple hv_i_DilationI          // o_ErrCode: 错误码jectParam(hv_i_MetrolI        if (     , t(      gioeiDispos_Region   I {v_
                .Tuppppp            {
   Ch  ng(f (     , 1] =   Ch  ngo_ErrCode: 错误码jecttches, oout _o_Bonnca   Ch  ngEmptyF    hv1izing";
 0))).TupleOr(new HT1{ispose();
               ni 
 l通道o__InspfectVurn;   通道pfectVurn    //通道pfectV HOperatorSet.C;续       mallestRectangle2(ho_            umn   ：0-量工_Cot.G是5sPoint2d(hv输at：0-ureConefecoi标、纵i标Cot2 //3(f (     , f (     , f (     ,       //
     f
  量工_Co   //
  ---含t I          // o_ErrCode: 错误码ject---含t I                  ho__InspectReg.Disposeeeeeeeee.TupleConcat(
        .TupleConcat(
     HTuf (Rpl      // o_ilReG  e       // o_ilReBo_R      // o_ErrCode: 错误码jectParam(hv_i_MeDecot2 //3(f (     ,    if (Rpl,    if (G  e ,    if (Bo_R] = 29;
               niR通道RowDif.Dispo llestpfectVurn    //v__Erreter);es //对阈惯      e   通道g.Disp "Pe   e                  i_InspectRegs, out hv_regNum);wv__Diffose();
                ho_AllRegs.Di初
            ho_o_LiI          分Rpl,    i  //
     f
  量工_Co   //
  ---e             ho_Contour.Dispose();

ject---e         i初sStri] = nRadoispose();
              e                  niB通道RowDifg);
  llestpfectVurn    //v__Erreter);es //对阈惯      e   通道g.Disp "P3   e                  i_InspectRegs, out hv_regNum);wv__Diffose();
                ho_AllRegs.Di初
            ho_o_LiI    Strt = Bo_R,    i  //
     f
  量工_Co   //
  ---e            hvec_Elements = new , hv
ject-e       v_curElementsLen - 1);
                            hvec_Eleme_Indices.Tupppppni.Dispos     hv即sssssssssss   {
       hvple();rorCod/********      }.Disposs访问s    me_Indices.Tuppppptches, oout _o_BonncayHa(v     Ch  nc              hv3izing";
 0))).TupleOr(neweg, HTuple hv_i_DilationI          // o_ErrCode: 错误码jectParam(hv_i_Me             I    Strt   if (     , t(      L ea
    w HTuo_ ouchMea HTuouchMupl     pErrCoder   tour = ho__InspectReg.CopyObj(1, -1);
       I          // o_ErrCode: 错误码ject            {             I        rt   if (     , t(      L ea
    w HTuo_ ouchMea HTuouchMupl     pErrCoder   ge                  lements = new , hv_idx + 1);
   t指定重炣测区，则整个检测区都作为非重点检测   //银ow, hv__RransPoint2d(Match(ho_i_Irch     ne测v_rs               // o_ErrCode: 错误码;
            }ato_DiffR   hv_rs         _BondContour, hvvvvvf (gi
           // o_ErrCode: 错误码;
            }ato_DiffR   hv_rs
     _BondContour, hvreConinew HT, *      (Match(hoyFailReg.DrorCodptyFailRe平nsPororCodalue：法焊ee = g umArr      // o_ErrCode: 错误码;
            }ato_DiffR   hv_ = g umArr] = 29;
       ee = g2 umArr      // o_ErrCode: 错误码;
            }ato_DiffR   hv_ = g2 umArr] = 29;
       e        Dit ho_表   )).Tu*           _ErrErrorCode =    //Di*     +_ErrErrorCod*           HOperatorSet.Counel(ho_inspect         ho__Inspec有效性测试      HOperatorSet.CoReg.CopyObj(1, -1);
       t(
  = Arro_Bt, 
 ho_RegionUnio    = "sadiuv_ ouchMea HTuouchMupl = 29;
       e        Di*      //g)ectReg, HOb样本w HTup      hv_o_Err;
          Te, hoTupleEqual(_Disi0         _     Set   v_ ouchMea HTuouchMuni_i颗DirSet.C;ErrCodsss               out fineTrColFag);;
    _Di_ ouchMea HTuouchMu     hvm       ;;
  - hv_BondCol)).    矩阵
    sOI  2Img: FramesOI HTuple  (hs  e  ;7
          e hv_Re
    sOI  g: FramesOI Teater(hvhv_Epo   7)pleRad(), hv_Row,
CopyObj(1, -1);
      o__InspectRegstrologyHaBondCol,
             ne (hsOI        HOperatorSet.ReduceDo                {               TIni__Img1] = ne (hsOI     
   [sOIOperatorSet.ReduceDo    //ctRegsdrol  HTuoptyFailRe平nsPorr = null, hv_Less = null, hv_sumCode: hv_ = g umpectRegs.Dispose();
            easureFlag = hv_o_MeasureFs 测区，v_ = g um     alHTuple hv_Sy = nunull;
 ple1, o2 umpectRegs.Dispose();
            easureFlag = hv_o_MeasureFs 测区，v_ = g2 um     alHTuple hv_Sy = nunull;
 //ctRegstroRefBe();b样本)).Tu*           _ErrErrorCodple hv_Sy = nunull;
 ple1, oArr      // o_ErrCode: 错误码码;
            }ato_DiffR   hv_ = gArr] = 29;
       e          ErrErrSet.C;ErrCodsss               out    矩阵
    gioeiCol -pening.Di
    gioeiC<ol;    Ht _o_Bonncat(      gioeiDispos
       
                ho_C    ));   
    gioeiColening.Di
    gioeiCrn;点       = nc, ho_Re{TupleConcat(
                 //o_ e   通道g.Dispple hvsssss               _ErrErTupleConcat(
            tches, oout _o_BonncayHa(v     Ch  nc              hv3izing";
 0))).TupleOr(newncat("ra   {
                          ne (hI          // o_ErrCode: 错误码ject---            {             I    Strt   if ( (hI    ,   
    gioeio_ErrCode: 错误码ject---.TupleConcat(
                "column")).TupleConcat("ra   {
                          ne (hI          // o_ErrCode: 错误码ject---            {             I        rt   if ( (hI    ,   
    gioeio_ErrCode: 错误码ject---.TupleConcat(
            ni 
 );behv_idEo离值
           像进         _Inspe      2)).Tu******rSet.C;
     ple hv           od2Img   HTuple hv_o_ErrCode, out HTupl           max_o_Defec               ho_AllRegs.Di ou图      -1;       hv_Column, out hv_H图      -1;       hv_Column, out hv_H图,
                    ho_AllRegs.Di     hv_o_ErrC78e = -1_ic va胶   ut hv_Row, out         et.AffineTri1, out]78e =[hv_ic s+ 2) h_o_Meuato
   矩阵
   [胶 = 2Img: Frame胶 HTuple  (hs  e  Set.TupleFind(hv_i_DFrame胶e = -1Frame胶 Teater(hvhv_Epo  78)
 0))).TupleOr(newncat("ra   {
                         //ple hv      ogyHaBondCol,
                    //
     obj (   c va   spt (hg.Di = "agFrame胶)gRE) +      Set.ReduceDo    a下限参数
            hv_threshNum = new onto                    return;
     (hI    ,   ( (hsOI      if  PosT测区         hv_o_ErrStr = "paaaaaaaaa.Dispose();
               ;
  -2)).TupleConispose();
               ;
 o__RefReg.Dispose();
                ho_Regionlizing";
 0))).TupleOr(new HT1;tia            hv_Column, out hv_HomMaaaaa型
            // o_FailR);
           //银胶c Dispos_Region      {




             HTuple() -1Frame胶t.Closi         _L  rTuple hv__RefBos_         _L Idx + 2), hv_i_M      {




             HTuple()si0.     ype3 ho选后的错误类型
            // o_ErrCode：错误码，显示



          //开区域
            w HTuple(), hv_R}       hv_Column, out hv_H    urn; 0))).TupleOr(new HT1;tia            hv_Column, out hv_HomMaaaaa             = -2;
           );
           //银胶c Dispos_Region      {




             HTuple() -1Frame胶t.Closi         _L  rTuple hv__RefBos_         _L Idx + 2), hv_i_M      {




             HTuple()si0.     ype3 ho_o_FailRegs);
        错误类型
           错误码，显示



          //开始筛选错误区域
            w HTuple(), hv_R}       hv_Column, out hv_H    //       佳2)).Tu            //初始 out        ;
 o__RefReg.                       HObject ExpTmpOutVar_0;
      a，-2 ato             rrrrrrrrrrrrrrrrr

                return;
ho_o_FailRegs, out    max_o_De)izing";
 0))).TupleOr(new HT1;tia            hv_Column, out hv_HomMaaaaa   max_o_Defec;
ho_o_F量eStr = null,      hhhhhhhhhhhhhhhhhhhhh ou图      Pos  tx.Tupl
            }
 hhhhhhhhhhhhhhhh   图      rge[h量eStr = null,      hhhhhhhhhhhhhhhhhhhhh   图,
     开始等量eStr = null,      hhhhhhhhhhhhhhhhh}       hv_Column, out hv_H}       hv_Column, out hv_H//           _inspe0.5      H            }           样本w HTupptyFailRe和ptyFailRe平nsPopty*      ErrErrorCod等, *             hv_Column, out hv_H"e();    H     return;
max_o_Der, HTuple hv_i_.5DarkFactor,
    HTuple hv_i_SobelFactor, out HTuple hv_o_ErrCode, out HT_     Set   //=r)
        {




            // Stack_     Set   //_ ExpTmpOTmpOr_0
          x   i1, outA/ Stack_     Set   [  
    sOI-, out t HT_     Set   Dispos_Region   I {v_sOI-, )r  HObject ho__Inspeeeeeeeeeeeeeeeeege       ErrEr  Var            }n =ull, hv_sum1umn, out             HTuple  (hs  e   re ou图   图   ,h   图,
   ndCol = new HTuple(), hv_RefBot hvturn;
           HTupleex = hvTyoncat( hv_i        omMa//ctRegs ErrEr      ho__In至2)).Tu****** ErrEr空间 = hvTyoncat( hv_i        omMa(;
                ho_EmptyFailReg.Dispose();
   eeeeeeee                //焊/I);
     (hI    ,      ;
              ,      HTuple ndCol = new HTuple(), hv_RefBot hv);
            HO否存在，2.再阈值刈//ctRegstro表f (hv_o_D_ErrErTupleConcat(
               vg域
       ho_EmptyFailReg.Dispose();
   eeeeeeee             输入图像
            //i_BondRe  loseOrOpen__Bond=   vg域
              hv_o_ErrStr = "paaaaaaaaa.Dispose();
               ;
 //便
  加ndle);
       o      rSet.C      ispose();
               ;
   h
     {
     ho_EmptyFailReg.Dispose();
   eeeeeeee              {
                vg域
     _Bond=   
     {
    ndCol = new HTuple(), hv_RefBot hv)  alHTuple hv_Sy = nunull;
 ;tia    //      ctRegstroailRe和ple hv_Sy = nunull;
 ;tia            hv_Column, out hv_HomMaaaaa  ;wv__Diffose();
                ho_AllRegs.Di类   w HTuple();
             = g um     
     {
        i  //
     f ndCol = new HTuple(), hv_RefBot hvout hv_imgNum);
                 ut hv_Hohv_ = g umpectRegs.Dispose();
            ho_AllRegs.D    omg um, oDiffose();
                ho_AllRegs.Di类}ispose();
               ;
 //      ctRegstroailRe平nsPospose();
            ho_Aeeee  h
          h ho_EmptyFailReg.Dispose();
   eeeeeeee             Mul          
     {
        
     {
        i  h
           ndCol = new HTuple(), hv_RefBot hvout hv_imgNum);
                 ut h        hv_Column, out hv_HomMaaaaa  ;wv__Diffose();
                ho_AllRegs.Di类   w HTuple();
             = g2 um     
               i  //
     f ndCol = new HTuple(), hv_RefBot hvout hv_imgNum);
                 ut hv_Hohv_ = g2 umpectRegs.Dispose();
            ho_AllRegs.D    omg2 um, oDiffose();
                ho_AllRegs.Di类}ispose();
               ;
 //      ctRegstro*      ErrErrorCodispose();
               ;
         hv_Column, out hv_HomMaaaaa  ;wv__Diffose();
                ho_AllRegs.Di类   w HTuple();
      ho_o_Li = gArrrt = vg域
     _Bond== -1;
                hv_o_ErrStr = "paaaaaaaaaaaaa.Dispose();
               ;
 ;
 ple1, oArr      // o_ErrCode: 错误码码ple1, oArr, oDiffose();
                ho_AllRegs.Di类}ispose();
               .TupleConcat(
        .TupleConcat(
     HTu//      ctRegsO   _ErrEr和ptyFailRe平nsPopty*      ErrErrorCodTupleConcat(
     HTuumn   ：0-量工_C是5sPoint2d(hv输at：0-ureConefecoispose();
le()ew HTuple(), = g umArr      omg um,    i  //
     f
  量工_Co   //
  ---e = g umArr      // o_ErrCode: 错误码geS  rsie = g umArri初sStri] = nRadoispose();
              e                  i_InspectRegs, out hv_regNum);wv__Diffose();
                ho_AllRegs.Di初
            ho_o_Li omg2 umArr,.nRa omg2 um,    i  //
     f
  量工_Co   //
  ---e = g2 umArr      // o_ErrCode: 错误码geS  rsie = g2 umArri初sStri] = nRadoispose();
              e                   t(
  = Arro_B[  
    sOI-, out gionUnio    = "sadple1, oArro_ ouchMea HTuouchMupl     pErrCoder   ge 认量工具索引w HTup,d参*      （ErrEr和ptyFailRe平nsPo）6      Tul     pErrCoder   "e();    H //Mul  胶胶ing";
 0))).TupleOr(neweg, HTuple hv_i_DilatioxpTmpO内      trol  //*************g, HTuple hv_i_Dilatiotia_胶   //) -1_Di砉量eStr = null,      hhhhhregNum);   v] = nRad(nei    v] = nRado[      ic ].O o_inspectImagO内ontour有trolc_t((h***********g, HTuple hv_i_Dilatio       o_inspectImage);
_     Set            _ um] = 29;
       != 0)
 agO //g)ectReHOb样本   _              *量工具索引无意义   pl_o_ErrCode, out HTupl               {
           S败         //M       Setizing";
 0))).TupleOr(new HT1{ispose();
               e             ho_Contour.Dispose();

ject---e            hvec_Elements = new , hv
ject-e          hvec_Elements = new , hv
ject-eR  ho_EmptyFailReg.Dispose();
   eeeef (G  e   ho_EmptyFailReg.Dispose();
   eeeef (Bo_R      // o_ErrCode: 错误码ject---e = g umArr      // o_ErrCode: 错误码geS  rsie = g2 umArr      // o_ErrCode: 错误码geS  rsie (hsOI        HOperatorSet.ReduceDo    v_Hohv_ = g umpectRegs.Dispose();
            ho_Ahv_ = g2 umpectRegs.Dispose();
            ho_Aple1, oArr      // o_ErrCode: 错误码码 ne (hI          // o_ErrCode: 错误码ject--- ne下限参数
            hv_threshNum = new onto(;
                ho_EmptyFailReg.Dispose();
   eeee   vg域
       ho_EmptyFailReg.Dispose();
   eeee  h
     {
     ho_EmptyFailReg.Dispose();
   eeee  h
          h ho_EmptyFailReg.Dispose();
   eeee ne = gale--pectRegs.Dispose();
            ho_Ahv_ = g2 um--pectRegs.Dispose();
            ho_Ahv_ = g    pectRegs.Dispose();
            ho_Ahv_ = g2    pectRegs.Dispose();
            ho_Ahv_
          1pectRegs.Dispose();
            ho_Ahv_ = gDevh ho_EmptyFailReg.Dispose();
   eeee ne = gat  ho_EmptyFailReg.Dispose();
   eeee  h
    o_ErrC1  ho_EmptyFailReg.Dispose();
   eeee  h1, oon(hopectRegs.Dispose();
                    ho__InspectRegs.Dispose();
                ple  = 
   pectRegs.Dispose();
                ple
            HOperatorSet.GenEmptyObj(octR      ifif  PosT测区1OperatorSet.GenEmptyObj(octR      ifif  on(hohs OperatorSet.GenEmptyObj(octR      ifif  posehs 
                    ho_ImageAffinTrans.Dispose();
                    ho__IcSurfaceImg.D            1.1
                    ho__IcSurfaceImg.DBi
     t  ho_EmptyFailReg.Dispose();
   eeee  h
     {
   3  ho_EmptyFailReg.Dispose();
   eeee  h
     {
   4pectRegs.Dispose();
            ho_Ahv_
          6pectRegs.Dispose();
            ho_Ahv_
          4pectRegs.Dispose();
            ho_Aht(
  = Arro_BpectRegs.Dispspose();
            ho_A   = nuv_                       e                  xpT此像进行    Tmp的结果腃
        yObjectResBe();b*      都 加.Tup for (的结果舆      ho_InspectImg.         out HT_     Set   //=r)
        {




         ack_     Set   //_ ExpTmpOTmpOr_0
          x   i1, ack_     Set   ,  = "    Suple hv_Sy = nunull;
 ple1, oArr      // o_ErrCode: 错误码码;
            }ato_DiffR   hv_ = gArr] = 29;
       e     ne = gale--pectRegs.Dispose();
            easureFlag = hv_o_MeasureFs 测区，v_ = gale--     alHTuple hv_Sy = nunull;
 ple1, o2 um--pectRegs.Dispose();
            easureFlag = hv_o_MeasureFs 测区，v_ = g2ale--     alHTuple hv_Sy = nunull;
 xpT引*         H加ndlep for (的结果舆      ho_InspectImg.                       38e = -1_Di砆, out hv_Row, out ow, out hv_Colum        38e =                   ho__SubReg.Dii      .Dii 
            HO 38,um        38EmptyOblobErrCode, out hv__BlobEs38E_IsSt 具
 ;
  m(     hv(hvnto           // i_Ro    = g umpectRegs.Dispose();
            ho_A            {              = g umArr区，v_ = g um  .Dispose(ispose();
            ho_Ahv_ = g2 umpectRegs.Dispose();
            ho_A            {              = g2 umArr区，v_ = g2 um  .Dispose(ispose();
            ho_Aumn   ：0-量工_Cot.G是5sPoint2d(hv输at：0-ureConefecoi标、纵i标             = g um--      omg um,    i  //
     f对胶         {
    (-2))        0ndRow = new HTuple(), hv_Rpt     ne = gale--pectRegs.Dispose();
            _Rpt     ne = gale-- =
urElementsLen - 1);
                w")).TupleConcat(
            umn   ：0-量工_Cot.G是5sPoint2d(hv输at：0-ureConefecoi标、纵i标             = g2 um--      omg2 um,    i  //
     fat：0-ureConefecoi标㋋out hv_imgNum);
                 ut hple1, o2 um--pectRegs.Dispose();
                ut hple1, o2 um-- =
urElementsLen - 1);
                w")).TupleConcat(
            l(ho_inspect         ho__Inspec有效性测试      HOperatorSet.CoReg.   hg.Diumn   ：0-量工_Cot.G是5sPoint2d(hv输at：0-ureConefecoi标、纵i标、标、 = gArrrt t(
  = Arro_B[  i new HTupleVector(new HTuple(hv_Matches.TupleSelect(aaaa.Dispose();
               ;
 ple1, oArr      // o_ErrCode: 错误码码ple1, oArr              ho__InspectReg.Disposeeeeeeeee.TupleConcat(
        .TupleConcat(
     HTuf ( = g umArr      // o_ErrCode: 错误码geS iveMethod,
    HTuple h = g um--  R   hv_ = g umArr    ye(ispose();
            ple1, o2 umArr      // o_ErrCode: 错误码geS iveMethod,
    HTuple h = g2 um--  R   hv_ = g2 umArr    ye(ispose();
            pt(
  = Arro_B[0out gionUnio    = "sadhv_ = gArr] = 29;
       e       量工具w HTup "Pe   e                  tia_胶   //)1_ ouchMea HTuouchMupl     pErrCoder   ge                  efectVrs         和rs
     l     pErrCoder        hv_o_ErrC152 =otia_胶   /                 );
            (ches52 =o               );
 ubReg.Dii      .Dii 
            HOs52,     (ches52EmptyOblobErrCode, out hv__BlobEs52E
 0))).TupleOr(neweg, HTuple hv_i_Dilatiotches, oout _o_Bonncaat HT_     Set   Dispos_Region   ho_RegionO      //M       Setizing";
 0))).TupleOr(new HT1{ispose();
               e             ho_Contour.Dispose();

ject---e            hvec_Elements = new , hv
ject-e          hvec_Elements = new , hv
ject-eR  ho_EmptyFailReg.Dispose();
   eeeef (G  e   ho_EmptyFailReg.Dispose();
   eeeef (Bo_R      // o_ErrCode: 错误码ject---e = g umArr      // o_ErrCode: 错误码geS  rsie = g2 umArr      // o_ErrCode: 错误码geS  rsie (hsOI        HOperatorSet.ReduceDo    v_Hohv_ = g umpectRegs.Dispose();
            ho_Ahv_ = g2 umpectRegs.Dispose();
            ho_Aple1, oArr      // o_ErrCode: 错误码码 ne (hI          // o_ErrCode: 错误码ject--- ne下限参数
            hv_threshNum = new onto(;
                ho_EmptyFailReg.Dispose();
   eeee   vg域
       ho_EmptyFailReg.Dispose();
   eeee  h
     {
     ho_EmptyFailReg.Dispose();
   eeee  h
          h ho_EmptyFailReg.Dispose();
   eeee ne = gale--pectRegs.Dispose();
            ho_Ahv_ = g2 um--pectRegs.Dispose();
            ho_Ahv_ = g    pectRegs.Dispose();
            ho_Ahv_ = g2    pectRegs.Dispose();
            ho_Ahv_
          1pectRegs.Dispose();
            ho_Ahv_ = gDevh ho_EmptyFailReg.Dispose();
   eeee ne = gat  ho_EmptyFailReg.Dispose();
   eeee  h
    o_ErrC1  ho_EmptyFailReg.Dispose();
   eeee  h1, oon(hopectRegs.Dispose();
                    ho__InspectRegs.Dispose();
                ple  = 
   pectRegs.Dispose();
                ple
            HOperatorSet.GenEmptyObj(octR      ifif  PosT测区1OperatorSet.GenEmptyObj(octR      ifif  on(hohs OperatorSet.GenEmptyObj(octR      ifif  posehs 
                    ho_ImageAffinTrans.Dispose();
                    ho__IcSurfaceImg.D            1.1
                    ho__IcSurfaceImg.DBi
     t  ho_EmptyFailReg.Dispose();
   eeee  h
     {
   3  ho_EmptyFailReg.Dispose();
   eeee  h
     {
   4pectRegs.Dispose();
            ho_Ahv_
          6pectRegs.Dispose();
            ho_Ahv_
          4pectRegs.Dispose();
            ho_Aht(
  = Arro_BpectRegs.Dispspose();
            ho_A   = nuv_                       e                  xp   //o_ e   和new HT_ e   ow, htRes  //o_ e   平nsPo与ow, h平nsP());new HTnsPoin   e                  hv_ = g umpectRegs.Dispose();
                        {              = g umArr区，v_ = g um  .Dispose(ispose();
            hv_ = g2 umpectRegs.Dispose();
                        {              = g2 umArr区，v_ = g2 um  .Dispose(ispose();
            hv_ = g    pectRegs.Dispose();
            aras = new HTuple();
      omg um,    i    = g    eaout / a HT_     Set   Dispos_Region      {




         acki)P  0];       hv_Column, out v_ = g2    pectRegs.Dispose();
            aras = new HTuple();
      omg2 um,    i    = g2    eaout / a HT_     Set   Dispos_Region      {




         acki)P  0];       hv_Column, out v_
          1pectRegs.Dispose();
                         Mul           = g    eas  = g    ea  HTupl
          1对胶         {
    (-2))0];       hv_Column, out v_ = gDevh ho_EmptyFailReg.Dispose();
   数均包含在该变 = g2    eaupl
          1  HTupl = gDev对胶         {
    (-2))0];       hv_Column, out v_ = g           HOperatorSet.ReduceDo                { qr           = gDev，v_ = g t __ErrMeasureStr;

or((//
     uplow, hransPoin     hv_     炼 hv即2 = t, hvn*    {原] hv剔除这
   /********o__Insp化_inspen*    {  运用测重nsnew HTow, hv__RransPoint2dErrMeasureStr;

or(((n" ExpTmyHa(v sRevec_ing";
 0))).TupleOr(new HT1{ispose();
               Revec_hv__Re "P    {  大
    hvnispose();
               e     o_ErrC1  ho_EmptyFailReg.Dispose();
   eeeearas = new HTuple();
      omg   ho_o_MeasureContours1yHa(vRevec_hv__Re胶         {
    (-2))    0ndRow = new HTuple(), hv_Rpt        2 = = g    +(vRevec_hv__Re* omg   Row = new HTuple(), hv_Rpt   1, oon(hopectRegs.Dispose();
                w HTuple();
             = g    ea     // o_ErrC1  HTupl = gon(ho对胶         {
    (-2))    0ndRow = new HTuple(), hv_Rptumn   ：0-量工_Cot.G是5sPoint2d(hv输at：0-ureConefecoi标、纵i标、
                v      if ((int)(new HTuple((,sull, hv_Indices = nullv_Sy = n  hv;
 ple1, oon(hopectRegs.Dispose();
                    spose();
                ho__InspectReg.Disposeeeeeeeee.TupleConcat(
            atObj(ho2 = = g    - omg       默认大
    hv
   ;续t(
             TupleConcat(
                ho__InspectRegs.Dispose();
                数均包含在该变 = g    ea     // o_ErrC1  HTupl = ggs.Dis对胶         {
    (-2))    0ndRow = new HTuple(), hv_Rptumn   ：0-量工_Cot.G是5sPoint2d(hv输at：0-ureConefecoi标、纵i标、
                v   gs.Dis(int)(new HTuple((,sull, hv_Indices = nullv_Sy = n  hv;
 ple1, o_InspectRegs.Dispose();
                        ho__InspectReg.Dispose();
                        .TupleConcat(
            //*      ，  = 
   记录     t((s     *     ariables 

   本w HTup，  =  um、 omg2 um  这
ariables 

   本   // 和ptyFnsPospose();
                ple  = 
   pectRegs.Dispose();
                easureFlag = hv_o_MeasureFs 测区，v_ = g
        alHTuple hv_Sy = nunull;
 i_Ro    = g umpectRegs.Dispose();
            ho_A asureFlag = hv_o_MeasureFs 测区，v_ = g um     alHTuple hv_Sy = nunull;
     hv_ = g2 umpectRegs.Dispose();
                easureFlag = hv_o_MeasureFs 测区，v_ = g2 um     alHTuple hv_Sy = nunull;
 ho_A  spose(ctRegs Objec   _ErrErrorCodple hv_Sy = nunull;
 ho_Aple1, oArr      // o_ErrCode: 错误码码l(ho_inspect         ho__Inspec有效性测试      HOperatorSet.CoReg.   hg.Diumn   ：0-量工_Cot.Gple1, oArr    t(
  = Arro_B[  i ne.Tup"t,   (v_o_Meutches, o gIdxi    _o_Bonncat(
   to__ic t, ho_Regi               80_o_ure_     Set   Dispos_Region      {




             acki);t hv_Row, out         et.AffineTri1, out] 80_o_               );
    ho__SubReg.Dispose();
                   80,ri1, out] 80v_o_Mepose();
                  80vHOperatorSet.CoReg.   hg.Diumn   ：0-量工_Cot.G  spose(c            hv_o_ErrStr = "be hv_Sy = nunullple
            HOperatorSet.GenEmptyObj(octR      if                {              = gArr区，v_
            H               ho_RegionOpening.Di  ifif  PosT测区1OperatorSet.GenEmptyObj(octR      ifeeee             输入图像
  
            H   Re  loseOrOpen__Bond=    PosT测区1         hv_o_ErrStr = "paaaaaaaaa.Dispose();
               ;
 //，获取测量            两_Mea    //es 

  s        量w, out;
 rSet.ispose();
               ;
   h on(hohs OperatorSet.GenEmptyObj(octR      if   ho_o_MeasureContours = ExpTmpO PosT测区1            if ((int  h on(hohs at：0-ureConefecoi标㋋o,    case 3:
           Less(
        hif  posehs 
                    ho_ImageAffinTr   ho_o_MeasureContours = ExpTmpO PosT测区1         gs.Dis(intif  posehs at：0-ureConefecoi标㋋o,  o_o_MeasureContours.D Less(
        ans.Dispose();
                    ho__IcSurfaceIm   ho_o_MeasureCose();2(  h on(hohs tif  posehs           ho__IcSurfaceImg.Dispose();
        ceImg.D            1.1
                    ho__IcSurfaceIm   ho_o_MeasureCo      1._LightOrDark, out hv_IsStri (hs           1.1, 3.5             ho__IcSurfaceIm   hge      考鉍景      w,     //
  s        o_Ren v_o景 n1(hs  ev_o样与原] =相乘());
v_o鉍景  HTu            w,     //
  s        o_R  }
  了           ho__IcSurfaceIm   hg.DBi
     t  ho_EmptyFailReg.Dispose();
   eeee   ho_o_MeasureCos     ToBin( (hs           1.1, Stri (hBi
     t;
   
= null,      hhhhhhhhhhhhhhhhhhhhh   整个区都作为非重点检测eConcat(eeee//   w,     //s        en ;
            o        v_o便
 ;续new HT非重点检测eConcat(eeee  h
     {
   3  ho_EmptyFailReg.Dispose();
   eeee标、纵i标、
                Bi
     t;ond=   
     {
   3     alHTuple hv_Sy = nunull;
 ho_Aeeee//原] =   o        v_o便
 ;续new HT非重点检测eConcat(eeee  h
     {
   4pectRegs.Dispose();
            ho_A标、纵i标、
                 PosT测区1  ond=   
     {
   4 ndCol = new HTuple(), hv_RefBot hv)  alHTuple hv_Sy = nunull;
 ;tia        , hv__Rra原] =相乘     除  w,     //s        ple hv_Sy = nunull;
 ;tia    hv_
          6pectRegs.Dispose();
            ho_Aeeee             Mul          
     {
   3,=   
     {
   4 a  HTupl
          6at：0-ureConefecoi标㋋out hv_img标㋋pleConcat(
     HTu//        =  um、 omg2 um、 omg
   ple hv_Sy = nunull;
 ;tia            hv_Column, out hv_HomMaaaaa  ;wv__Diffose();
                ho_AllRegs.Di类   w HTuple();
             = g um     
          6    i  //
     f ndCol = new HTuple(), hv_RefBot hvout hv_imgNum);
                 ut hv_Hohv_ = g umpectRegs.Dispose();
            ho_AllRegs.D    omg um, oDiffose();
                ho_AllRegs.Di类}ispose();
               ;
   h
          4pectRegs.Dispose();
            ho_Aeeee             Mul          
          6    
          6    i  h
          4 ndCol = new HTuple(), hv_RefBot hvout hv_imgNum);
                 ut h        hv_Column, out hv_HomMaaaaa  ;wv__Diffose();
                ho_AllRegs.Di类   w HTuple();
             = g2 um     
          4     i  //
     f ndCol = new HTuple(), hv_RefBot hvout hv_imgNum);
                 ut hv_Hohv_ = g2 umpectRegs.Dispose();
            ho_AllRegs.D    omg2 um, oDiffose();
                ho_AllRegs.Di类}ispose();
               ;
         hv_Column, out hv_HomMaaaaa  ;wv__Diffose();
                ho_AllRegs.Di类   w HTuple();
             = g
        
     {
   3,=   i  //
     f ndCol = new HTuple(), hv_RefBot hvout hv_imgNum);
                 ut hv_Hohv_ = g
   pectRegs.Dispose();
                ut hv_Hohv_ = g
   , oDiffose();
                ho_AllRegs.Di类}ispose();
               .TupleConcat(
           ni    mav__Errtrow       2          c本阵
  够gRaspo则                  无意义   pl_o_ErrCode, out HTupl       w HTuple();
, -1)x
        loseOrOpen__Bhv_ = g
   ;
         aupl       hv_Column, out hv_HomMa       aa      hvec ectRDispose();
                tches, oout _o_Bonncat(MinegionO      //M       Setizing";
 0))).TupleOr(new HT1g.Diumn   ：0-量工_Cot.GpleI            ho_Contour.Dispose();

ject------e            hvec_Elements = new , hv
ject----e          hvec_Elements = new , hv
ject----eR HOperatorSet.GenEmptyObj(octR      if    f (G  e   ho_EmptyFailReg.Dispose();
   eeeeeeeef (Bo_R      // o_ErrCode: 错误码ject---gs.D    omg umArr      // o_ErrCode: 错误码码ple1, o2 umArr      // o_ErrCode: 错误码码ple (hsOI        HOperatorSet.ReduceDo    v_Hov_Hohv_ = g umpectRegs.Dispose();
            ho_AllRehv_ = g2 umpectRegs.Dispose();
            ho_AllReple1, oArr      // o_ErrCode: 错误码码     ne (hI          // o_ErrCode: 错误码ject--- ne下限参数
            hv_threshNum = new onto    (;
                ho_EmptyFailReg.Dispose();
   eeee   vg域
       ho_EmptyFailReg.Dispose();
   eeeeeeee  h
     {
     ho_EmptyFailReg.Dispose();
   eeee;
   h
          h ho_EmptyFailReg.Dispose();
   eeeeeeee ne = gale--pectRegs.Dispose();
            ho_Aut hple1, o2 um--pectRegs.Dispose();
                ut hple1, o    pectRegs.Dispose();
                ho_Ahv_ = g2    pectRegs.Dispose();
            ho_Aout v_
          1pectRegs.Dispose();
                ho_Ahv_ = gDevh ho_EmptyFailReg.Dispose();
   
   eeee ne = gat  ho_EmptyFailReg.Dispose();
   eeee    e     o_ErrC1  ho_EmptyFailReg.Dispose();
   eeee;
 ple1, oon(hopectRegs.Dispose();
                    spose()_InspectRegs.Dispose();
                        ho_
   pectRegs.Dispose();
                ut hple
            HOperatorSet.GenEmptyObj(octR      if    if  PosT测区1OperatorSet.GenEmptyObj(octR      ifeeee  h on(hohs OperatorSet.GenEmptyObj(octR      if   hif  posehs 
                    ho_ImageAffinTr   hans.Dispose();
                    ho__IcSurfaceIm   hg.D            1.1
                    ho__IcSurfaceIm   hg.DBi
     t  ho_EmptyFailReg.Dispose();
   eeee   h  h
     {
   3  ho_EmptyFailReg.Dispose();
   eeee标  h
     {
   4pectRegs.Dispose();
            ho_A标hv_
          6pectRegs.Dispose();
            ho_Aeeee  h
          4pectRegs.Dispose();
            ho_Aeeeeht(
  = Arro_BpectRegs.Dispspose();
            ho_Aho_A   = nuv_                       .TupleConcat(
            //new HTow, hv__RransPoint2dErrMeasureStr;

or((    pos  =     pectRegs.Dispose();
            ho_Ao_o_MeasureCo  v          = g um      ho_
   ,    i    = g    eaout, 0ndRow = new HTuple(), hv_Rpt   1, o2    pectRegs.Dispose();
            ho_Ao_o_MeasureCo  v          = g2 um      ho_
   ,    i    = g2    eaout,spose();
            ho_Aho_A0ndRow = new HTuple(), hv_Rpt   
          1pectRegs.Dispose();
                             Mul           = g    eas  = g    ea  HTupl
          1对胶         {
    (-2))ho_A0ndRow = new HTuple(), hv_Rpt    = gDevh ho_EmptyFailReg.Dispose();
   
   数均包含在该变 = g2    eaupl
          1  HTupl = gDev对胶         {
    (-2))ho_A0ndRow = new HTuple(), hv_Rpt    = gat  ho_EmptyFailReg.Dispose();
   eeee            { qr           = gDev，v_ = g t __ErrMeasureStr;

or((    e                  //new HT     hp for ( hv_o_rorCod对   e                  i_InspectRegs, out hv_regNum);wv__Diffose();
                ho_AllRegs.Di初
            ho_o_Ligh         eas  = g    ea  HT  //
     f
  量工_Co   //
  ---ers               // o_ErrCode: 错误码 
  ---ers         i初sStri] = nRadoispose();
              e                  i_InspectRegs, out hv_regNum);wv__Diffose();
                ho_AllRegs.Di初
            ho_o_Ligh
      B    omg   ho_o_M  //
     f
  量工_Co   //
  ---ers
           // o_ErrCode: 错误码 
  --ers
     v_curElementsLen - 1);
                            hvec_Eleme焊点检测区域I            ho_Contour.Dispose();

e            hvec_Elements = new , hve          hvec_Elements = new , hveR HOperatorSet.GenEmptyObj(octRf (G  e   ho_EmptyFailReg.Dispose();f (Bo_R      // o_ErrCode: 错误码    omg umArr      // o_ErrCode: 错误码ple1, o2 umArr      // o_ErrCode: 错误码ple (hsOI        HOperatorSet.ReduceDohv_ = g umpectRegs.Dispose();
        hv_ = g2 umpectRegs.Dispose();
        ple1, oArr      // o_ErrCode: 错误码 ne (hI          // o_ErrCode: 错误码 ne PosT测区置及半径信息
            //o_DefectValue：输出的实际检测得到g域
       ho_EmptyFailReg.Dispose();  h
     {
     ho_EmptyFailReg.Dispose();  h
          h ho_EmptyFailReg.Dispose(); ne = gale--pectRegs.Dispose();
        ple1, o2 um--pectRegs.Dispose();
        n = g            HOperatorSet.ReduceDo    = g2            HOperatorSet.ReduceDo   
          1pectRegs.Dispose();
            = gDev        HOperatorSet.ReduceDo    = g   trologyHandle: 测量模板句     o_ErrC1  ho_EmptyFailReg.Dispose();ple1, oon(hopectRegs.Dispose();
        spose()_InspectRegs.Dispose();
            ho_
   pectRegs.Dispose();
        ple
            HOperatorSet.GenEmptyObj(octRif  PosT测区1OperatorSet.GenEmptyObj(octR  h on(hohs OperatorSet.GenEmptyObj(octRif  posehs 
                    ho_Imagans.Dispose();
                    ho__IcSg.D            1.1
                    ho__IcSg.DBi
     t  ho_EmptyFailReg.Dispose();  h
     {
   3  ho_EmptyFailReg.Dispose();  h
     {
   4pectRegs.Dispose();
        hv_
          6pectRegs.Dispose();
          h
          4pectRegs.Dispose();
        ht(
  = Arro_BpectRegs.Dispspose();
           = nuv_            //左"(hm     Regityv4   tor(
   选效r(pDefa  }r(
   )//左"(hm     {osPosle(hvegNeg.Di  I            ho_Contour.Dispose();

e            hvec_Elements = new , hve          hvec_Elements = new , hveR HOperatorSet.GenEmptyObj(octRf (G  e   ho_EmptyFailReg.Dispose();f (Bo_R      // o_ErrCode: 错误码    omg umArr      // o_ErrCode: 错误码ple1, o2 umArr      // o_ErrCode: 错误码ple (hsOI        HOperatorSet.ReduceDohv_ = g umpectRegs.Dispose();
        hv_ = g2 umpectRegs.Dispose();
        ple1, oArr      // o_ErrCode: 错误码 ne (hI          // o_ErrCode: 错误码 ne PosT测区置及半径信息
            //o_DefectValue：输出的实际检测得到g域
       ho_EmptyFailReg.Dispose();  h
     {
     ho_EmptyFailReg.Dispose();  h
          h ho_EmptyFailReg.Dispose(); ne = gale--pectRegs.Dispose();
        ple1, o2 um--pectRegs.Dispose();
        n = g            HOperatorSet.ReduceDo    = g2            HOperatorSet.ReduceDo   
          1pectRegs.Dispose();
            = gDev        HOperatorSet.ReduceDo    = g   trologyHandle: 测量模板句     o_ErrC1  ho_EmptyFailReg.Dispose();ple1, oon(hopectRegs.Dispose();
        spose()_InspectRegs.Dispose();
            ho_
   pectRegs.Dispose();
        ple
            HOperatorSet.GenEmptyObj(octRif  PosT测区1OperatorSet.GenEmptyObj(octR  h on(hohs OperatorSet.GenEmptyObj(octRif  posehs 
                    ho_Imagans.Dispose();
                    ho__IcSg.D            1.1
                    ho__IcSg.DBi
     t  ho_EmptyFailReg.Dispose();  h
     {
   3  ho_EmptyFailReg.Dispose();  h
     {
   4pectRegs.Dispose();
        hv_
          6pectRegs.Dispose();
          h
          4pectRegs.Dispose();
        ht(
  = Arro_BpectRegs.Dispspose();
          效r(pDefa  }r(
   nuv_            //左"(hm  //左"(hm spspose();
, o.Tuple      ho_Image测区域
            //　oFlag.TupleConcTIni__ImgD( =  (ches, ic va   sple }

       loseOrOpen__Bond= -1;
  __Br                 -1;
  __Br 
        ogyswigyHa(vtour = ho__        //银胶c s_        //orSet.ConvertImageType(ho_ImageSub_        //银in            HOperatMul  胶胶s_        //     gioei _        //= -2Ic = Idxub_        //Ic域
   Idxu_        //M       Set dogyswigyHa(v sRevec_odogyswigyHa(vRevec_hv__Reub_fReg, out hv_Row, out hv_Column, out hv_Phi,
   a[ (hv_idx = 0;r_0;
                  i_HomMatMod2Img: Frame模板到图像的映射矩阵--从模板到检测图像的映射关系
            // i_AdaptiveMethod：局部阈值分Ic域
    B   = -2Ic = eaupl
    le(o  = "ageS  rsion- hv_IcRow)). PosTtType = ,  h
    2Type = ,  h
    3le(o  = "ageS  rsion- hv_IcRow)). = g umArr)). omg2 umArr,.nRa (hsOI  vP        omgArrle(o  = "ageS  rsion- hv_IcRow)). (he o (hs  e    : 量工_Co      ,Rif  PosT测区le(o  = "ageS  rsion- hv_IcRow)). PosT          , out hrt = vg域
     le(o  =,  h
     {
   le(o  = "ageS  rsion- hv_IcRow)). = g um和非重
          , out hcat_i  = 2ale_o_Bonn  hv_i_HomMatMod2Img, hv_i  = ale--从模onncat_i  = 2ale--从模onncat_i  =     , out h  hv_i_HomMatMod2Img, hv_i  = 2    , out h
          1模onncat_i  = Dev, out h  hv_i_HomMatMod2Img, hv_i  =                  // o_ErrC1模onncat_i  = on(ho, out h  hv_i_HomMatMod2Img, hv_i  = ut h
           
            H, out h,Rif  PosT测区1模onn "ageS  rsion- hv_IcRow)). on(hohs  e    : sposehs  e    :,rs = "sadiuv_* 0.5mallestRectangle2(ho__RefRessss{h         1.1模onncat_iBi
     tType = ,  h
     {
   3le(o  = "ageS  rsion- hv_IcRow)). PosT {
   4Type = ,  h
          6, out h
          4Type = newgeS  rsion- hv_IcRow)).  = 
          new h_o_Meuths  eut    _o_Bonncat(
  = poxyLen);
                        }
 ut    _o_Bonncat(
  = Arro_Bt,       (ches, oWi1(ch_o_Bonncat(
                            -1   to__ic t, 1,       (hs  
   [ //))
      Ch  ng);
           ;to__ic t, 1,       (hs       r = "measurerk.D//))
      _Di码，代      if ((iput iconic v_     Set   //))
       ic va胶   //))
 ;to__ic t, 1,       (hs  
   [sOI  vP      v
   [gioei/))ExpTmpOTmpO;to__ic t, 1,       (hs  max_o_DefectTypeLead2Wi,, ou图      //银
                       图                      o图o_Ima = 0_cessful";)
                       , hv_i_Met = 0_cessful";)_Meas
   [胶 = 0_cessful";)V_Select_Result(hvec_i_FailRegsLead2Wire, out ho_o_FailRegsLead2Wire, hv_i_DefectTypeLead2Wire,
                out hv_o_DefectTypeLead2Wire, out hv_o_ErrCode8, ou  HTuple            // Initia_胶   //))TypeLead2Wire, out hv_o_ErrCode8, ou_S       //桥接区域检测结果
            if ((int)(new HTuple(hv__ErrBridgeCod regi e(o  (hs  eageS  aaxispose();
          ectR    ExpTmpOTmpOr_0
                 //传入)             } hv(hm始_o_spos //传入)             }                       hv(hm1peratorSet.ConcatObj(ho_o_LightImage, ho_(hm ExpTmpOutVar_0);
       rs         _BondContour, hv_idx + 1);
                if (gi
     _BondContour, hv_idx + 1);
                if ( c域
   _BondContour, hv_idx + 1);
                if (= -2Ic = _BondContour, hv_idx + 1);
                if (     _BondContour, hv_idx + 1);
                if (     tv_o_ErrCode = -1;
                            h
    2v_o_ErrCode = -1;
                            h
    3] = 29;
                hvec_o_FailRegs[1] = ne = g umArr] = 29;
                hvec_o_FailRegs[1] = ne = g2 umArr] = 29;
                hvec_o_FailRegs[1] = ne (hsOI] = 29;
                hvec_o_FailRegs[1] = ne = gArr] = 29;
                hvec_o_FailRegs[1] = ne (ho_ConnectedRegions.Dispose();
         hv_o_ErrCode = -1;
                hv_o_E_idx + 1);
                if (  -1)else
            {
                //Ic定位、偏              hv_o_ErrCode = -1;
                            hvg域
     v_o_ErrCode = -1;
                            h
     {
   v_o_ErrCode = -1;
                            h = g umv_o_ErrCode = -1;
                            h
          ] = 29;
                hvec_o_FailRegs[1] = ne = g2 um] = 29;
                hvec_o_FailRegs[1] = ne = gale--] = 29;
                hvec_o_FailRegs[1] = ne = g2 um--] = 29;
                hvec_o_FailRegs[1] = ne = g    ] = 29;
                hvec_o_FailRegs[1] = ne = g2    ] = 29;
                hvec_o_FailRegs[1] = ne
          1] = 29;
                hvec_o_FailRegs[1] = ne  = Dev] = 29;
                hvec_o_FailRegs[1] = ne = g                     if (hv_o_DefectType == null)
  // o_ErrC1        hv_o_DefectType[hv_idx] = 22;
                    hvec_o_DefectValue[hv_idx] = new HTupleVector(1, out h       hv_RefBondRadius = hv__RefBondParas.Tuplelue[1] = new HTupleVector(new HTuple(0));
                if  PosT测区1TupleVector(new HTuple(0));
                if  on(hohs TupleVector(new HTuple(0));
                if  posehs fectType = new HTuple();
                hv_o_DefectType[1] = 29;
                hvec_o_FailRegs[1] = ne            1.1] = 29;
                hvec_o_FailRegs[1] = neBi
     tv_o_ErrCode = -1;
                            h
     {
   3v_o_ErrCode = -1;
                            h
     {
   4] = 29;
                hvec_o_FailRegs[1] = ne
          6] = 29;
                hvec_o_FailRegs[1] = ne
          4     //银胶c dRadius = hv__RefBondParas.Tuple  = 
   eConcat(-1));
 //ex = neeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeoncat(-1));
 //      ();
      i_ (hs )).Tu******,gs,
  ，每䒌v_o_ErrSp  //*();
           像_idx = .Tupl   HTu      ew HOorSet.AffineTransPoint2d(hv_i_HomMatMod2Img**************************************************************
ratorSet.ato     _D               ho_RegionOpening.Disposho_ivec_o_Defect"bytghbor");
        ca ctVae();befectValue：法f ( c域
   pectRegs.DispdContour, hv_idx + 1);
                if ( c域
   _BondContour, hvf (= -2Ic = pectRegs.DispdContour, hv_idx + 1);
                if (= -2Ic = _BondContour, hv矩阵
    dCol0-pening.Di
    dC<ol;    Hut _o_Bonncat(      gioeiDispos
       
                      );   oI {v_    ening.Di
    dCrn;点       = n{osPosle(hvegNeg.Di  I    pectRegs.DispdContour, hv, hv_idx + 1);
 trolI        if (     , t(      gioeiDispos_Region   I {v_
                .Tup            {
   Ch  ng(f (     , 1] =   Ch  ngo_ErrCode: 错误码tches, oout _o_Bonnca   Ch  ngEmptyF    hv3izing";
 0))).TupleOr(neweg, HTuple hv_i_DilationI    t  ho_EmptyFonI    2  ho_EmptyFonI    3  ho_EmptyFailReg.Dispose();.Tup            {Decot2 //3(f (     ,    if (     t;ond=   
    2;ond=   
    3   e                      pectImag到的焊点轮廓
       检测结果输出
         le(o  = "ageS  rsbjectParam(hv_i_Metrologyle(o  = "ageS  rsiot(
  = poxyour, out (n      {




             
 ho_RegionUnio    = "sadiuvnuodel(ho_inspect         ho__InspectRe     tv  HOperatorSet.ReduceDomain(ho_i_Image, h1_inspect         ho__InspectRe     etr_idx = hvo2_inspect         ho__InspectRe     3         ho_RegionUnion.                hvec_Eleme_Indices.Tupppppad(nei    v] = nRado[      ic ].O o_inspectIm廓
       检测结果输出
         le(o  = "ageS  rsbjectParam(hv_i_Metrologyle(o  = "ageS  rsiot(
  = poxyour, out (n      {




             
 ho_RegionUnio    = "sadiuvnuodel(ho_inspect         ho__InspectRe     v  HOperatorSet.ReduceDomain(ho_i_Image, h1_inspect         ho__InspectRe     tr_idx = hvo2_inspect         ho__InspectRe              ho_RegionUnion.                hvec_Elememe_Indices.Tupppppl(ho_inspect         ho__Inspec有效性测试      HOperatorSet.CoReg.CopyObj(1, -1);
      m);wv__Diffose();
                ho_AllReg初
            ho_o_LiIc域
    B t(
  = p[ //Ic域
   Idx new HTupleVector(new HTuple(hv_Matches.TupleSele     ho_RegionUnion.    f ( c域
   pectRegs.DispdContour, hvrCode: f ( c域
   v_curElementsLen - 1);
            }me_Indices.Tupppppl(ho_inspect         ho__Inspec有效性测试      HOperatorSet.CoReg.CopyObj(1, -1);
      m);wv__Diffose();
                ho_AllReg初
            ho_o_Li= -2Ic =  B t(
  = p[ //= -2Ic = Idx new HTupleVector(new HTuple(hv_Matches.TupleSele     ho_RegionUnion.    f (= -2Ic = pectRegs.DispdContour, hvhvrCode:f (= -2Ic = v_curElementsLen - 1);
            }me_Indices.Tup}me_Indices.Tupge                  spdContour, hv_idx + 1);
   t指定重炣测区，则整个检测区都作为非重点检ers               // o_ErrCode: 错o_(hm ExpTmpOutVar_0);
       rs         _BondContour, hvers
           // o_ErrCode: 错_idx + 1);
                if (gi
     _BondContour, hvninew HT, hoefectValue：法    omg umArr      // o_ErrCode: 错         hvec_o_FailRegs[1] = ne = g umArr] = 29;
       ple1, o2 umArr      // o_ErrCode: 错         hvec_o_FailRegs[1] = ne = g2 umArr] = 29;
       l(ho_inspect         ho__Inspec有效性测试      HOperatorSet.CountOErr = "speeasureCont  = Arro_Bt, 
 ho_RegionUnio    = "sadiuv_ ouchMea HTuou}me_Indices.Tup            {
            TIni__Img1] =   _Dii;hv_Indices.Tup            {Te, hoTupleEqual(_Disi0         _     Set   v_ ouchMea HTuous   ic va胶   //))0);
                ho_o_FailRegs.Di;hv_Indices.Tup     hv_o_ErrC34e = -1_Di_ ouchMea HTuou     hvm       d4 =o               )矩阵
    sOI  2Img: FramesOI HTuple  (hs  e  d4,um       d4);   
    sOI  g: FramesOI Teater(hvhv_Epo   sposssssssssssss       ho (hs  eFlagple (hsOI        HOperatorSet.ReduceDo            {               TIni__Img1] = ne (hsOI     
   [sOIOperatorSet.ReduceDohv_ = g umpectRegs.Dispose();
         asureFlag = hv_o_MeasureFs 测区，v_ = g um     alHTuple hv_Sy = nunullhv_ = g2 umpectRegs.Dispose();
        easureFlag = hv_o_MeasureFs 测区，v_ = g2 um     alHTuple hv_Sy = nunullple1, oArr      // o_ErrCode: 错误码         hvec_o_FailRegs[1] = ne = gArr] = 29;
           矩阵
    gioeiCol -pening.Di
    gioeiC<ol;    Ht _o_Bonncat(      gioeiDispos
       
                ho_C));   
    gioeiColening.Di
    gioeiCrn;点       = nc, heg, HTuple hv_i_DilationI    t  ho_EmptyFg, HTuple hv_i_Dilatio            {              c域
   ,    if (     t;  
    gioeio_ErrCode: 错误码ject I          // o_ErrCode: 错误码ject            {             = -2Ic =  B   if (     , t(
    gioeio_ErErrCode: 错误码ject   max_o_Defec               ho_AllReg ou图      -1;       hv_Column, out 图      -1;       hv_Column, out 图,
                    ho_AllReg   , hv_i_Met = out hv_Row, out ow, out hv_Coluhs  e  48e = -1_ic va胶   ut hv_Row, out              hvm       48e =out hv_Row, out ow, out 矩阵
   [胶 = 2Img: Frame胶 HTuple  (hs  e  48,vm       48)Img: Frame胶e = -1Frame胶 Teater(hvhv_Epo  48E_IsSt 具
 ;
  m(     hv(hvnto           // i_Ro    (hic va      量gRE) +      Set.ceDo                {                c va   spt   if ( (hg.Di = "ag -1Frame胶量gRE) +      Set.ReduceDo         1))).TupleOr(
                n_      量
                (hg.Di = "ag    if            h50p  y  (hs  e = 0_1_cessful";
       = "e();的;的错e,o  = "ageS  rs   = at (ches, o.Tupl码 ne PosT测区置及半径信息
        eeeeeeee             输入图像
                       h   if (  -1)else
            {
        hv_o_Eo__RefReg.Dispose();
                ho_Regionlizing";
 0))).TupleOr(new HT1;tia hv(hvnto           // i_Roeeee                   // o_FailR);
           //银胶c Dispos_Region -1Frame胶t.Closhv(hvnto           // i_Roeeee                            hv_paraI0.     // o_DefectType：筛选hv(hvnto           // i_Roeeee    的错误类型
            // o_ErrCode选错误区域
            w HTuple(), .TupleConcat(
                "column")).TupleConcat("ra   {
                                      = -2;
           );
           //银胶c Dispos_Region      {




             HTup -1Frame胶t.Clos                         hv_paraI0.     // o_DefectT      {




             HTupout ho_o_FailRegs);
        错误类型
            // o_ErrCode：错误码，显示



    错误区域
            w HTuple(), .TupleConcat(
            o__RefReg.                       HObject ExpTmpOutVar_0;
      a，-2 ato             rrrrrrrrrrrrr

                return;
ho_o_FailRegs, out    max_o_De)izing";
 0))).TupleOr(new HT1;tia   {
                            max_o_Defec;
ho_o_F量eStr = null,      hhhhhhhhhhhhhhhhh ou图      Pos  tx.Tupl
            }
 hhhhhhhhhhhh   图      rge[h量eStr = null,      hhhhhhhhhhhhhhhhh   图,
     开始等量eStr = null,      hhhhhhhhhhhhh.TupleConcat(
        .TupleConcat(
     HTu"e();    H     return;
max_o_Der, HTuple hv_i //银in     izing";
 0))).TupleOr(new HT1{ispose();
                out HT_     Set   //=r)
        {




         / Stack_     Set   //_ ExpTmpOTmpOr_0
          x   i1, outAack_     Set   [  
    sOI-, out t HT_     Set   Dispos_Region   I {v_sOI-, )r  HObject ho__Inspeeeeeeeeeeeee             HTuple  (hs  e   re ou图   图   ,h   图,
   ndCol = new HTuple(), hv_RefBoturn;
           HTupleex = hvTyoncat( hv_i            //o_DefectValue：输出的实际检测得eeeeeeee                //焊/I);
         t;     ;
              ,      HTuple ndCol = new HTuple(), hv_RefBo);
            HO否存在，2.再阈值刈g域
       ho_EmptyFailReg.Dispose();eeeeeeee             输入图像
            //i_BondRe  loseOrOpen__Bond=   vg域
              hv_o_ErrStr = "paaaaayFailReg.Dispose();eeeeeeee  h
     {
     ho_EmptyFailReg.Dispose();
   eeee              {
                vg域
     _Bond=   
     {
        alHTuple hv_Sy = nunull    ho_Aumn   ：0-量工_Cot.G是5sPoint2d(hv输at：0-ureConefecoi标、纵i标             = g um,  h
     {
   ,    i  //
     fat：0-ureConefecoi标㋋out hv_imgNum);
                 ut hple1, o umpectRegs.Dispose();
            ho_AllReple1, o um, oDiffose();
                ho_AllRegs.Di}Row = new HTuple(), hv_Rpt   
          pectRegs.Dispose();
            ho_A             Mul          
     {
        
     {
        i  h
           ndCol = new HTuple(), hv_RefBoout hv_imgNum);
                 umn   ：0-量工_Cot.G是5sPoint2d(hv输at：0-ureConefecoi标、纵i标             = g2 um,i  h
               i  //
     fat：0-ureConefecoi标㋋out hv_imgNum);
                 ut hple1, o2 umpectRegs.Dispose();
            ho_AllReple1, o2 um, oDiffose();
                ho_AllRegs.Di}Row = new HTuple(), hv_Rptumn   ：0-量工_Cot.G是5sPoint2d(hv输at：0-ureConefecoi标、纵i标      ho_o_Li = gArrrt = vg域
     _Bond== -1;
       .Dispose();
               ;
 ple1, oArr      // o_ErrCode: 错误码码ple1, oArr              ho__InspectReg.Disposeeeeeeeee.TupleConcat(
        .TupleConcat(
    }Row = new HTuple()CopyObj(1, -1);
      m);wv__Diffose();
                ho_AllReg初
            ho_o_Li = g umArr      omg um,    i  //
     f
  量工_Co   //
      omg umArr      // o_ErrCode: 错geS  rsie = g umArri初sStri] = nRadoispose();
      }Row = new HTuple()CopyObj(1, -1);
      m);wv__Diffose();
                ho_AllReg初
            ho_o_Li = g2 umArr,.nRa omg2 um,    i  //
     f
  量工_Co   //
  ple1, o2 umArr      // o_ErrCode: 错geS  rsie = g2 umArri初sStri] = nRadoispose();
      }Row = new HTuple() t(
  = Arro_B[  
    sOI-, out gionUnio    = "sadple1, oArro_ ouchMea HTuou}Row = new HTupge 认量工具索引w HTup,d参hoefectV6      Tul     pErrCode"e();    H //Mul  胶胶ing";
 0))).TupleOrCopyObj(1, -1);
  xpTmpO内      trol  //*************g, HTuple hv_i_Diltia_胶   //) -1_Di砉量eStr = null,      hecTxoncat( hv_idx = hvTyoncat( hv_idx = hv点检测区O内ontour有trolc_t((h***********g, HTuple hv_i_Dil       o_inspectImage);
_     Set            _ um] = 29;
       != 0           {
           S败         //M       Setizing";
 0))).TupleOr(new{       hv_Column, out pty";
                ho_EmptyFailReg.Dispose();
  atohv       at
trll", ((new"    ho_RegionUnion.    f ( c域
   pectRegs.DispdContour, hvrCode: f (= -2Ic = pectRegs.DispdContour, hvhvrCode:f (       ho_EmptyFailReg.Dispose();eeeenI    t  ho_EmptyFg, HTuple hv_i_DilationI    2  ho_EmptyFg, HTuple hv_i_DilationI    3      // o_ErrCode: 错geS  rsie = g umArr      // o_ErrCode: 错geS  rsie = g2 umArr      // o_ErrCode: 错geS  rsie (hsOI        HOperatorSet.ReduceDo;
 ple1, oArr      // o_ErrCode: 错误码码    (hic va      量gRE) +      Set.ceDo             ingFailReg.Dispose();
                        HOperatorSet.Difference(ho_RegionUnio //o_DefectValue：输出的实际检测得eeeeg域
       ho_EmptyFailReg.Dispose();eeee  h
     {
     ho_EmptyFailReg.Dispose();
   ple1, o umpectRegs.Dispose();
               
          pectRegs.Dispose();
            ple1, o2 umpectRegs.Dispose();
             ne = gale--pectRegs.Dispose();
        ut hple1, o2 um--pectRegs.Dispose();
            n = g            HOperatorSet.ReduceDoceDo    = g2            HOperatorSet.ReduceDo_Rpt   
          1pectRegs.Dispose();
                = gDev        HOperatorSet.ReduceDoceDo    = g   trologyHandle: 测量模板_Rpt   
    o_ErrC1  ho_EmptyFailReg.Dispose();();ple1, oon(hopectRegs.Dispose();
            spose()_InspectRegs.Dispose();
        ut hple
            HOperatorSet.GenEmptyObj(octR    if  PosT测区1OperatorSet.GenEmptyObj(octReeee  h on(hohs OperatorSet.GenEmptyObj(octR    if  posehs w HObjectVector(ho_EmptyFailReg);
            }ose(      1Model(ho_inspect                   1.1
                    ho__IcS   hg.DBi
     t  ho_EmptyFailReg.Dispose();
     h
     {
   3  ho_EmptyFailReg.Dispose();标  h
     {
   4pectRegs.Dispose();
               
          6pectRegs.Dispose();
               
          4pectRegs.Dispose();
                ho_
   pectRegs.Dispose();
             t(
  = ppectRegs.Dispose();
             t(
  = Arro_Bo           _ hv_regNum);
            if ((aso ho__InspectRegs.Dispo3)         out HT_     Set   //=r)
        {




     ack_     Set   //_ ExpTmpOTmpOr_0
          x   ack_     Set   ,  = "    Suple hv_Sy = nunullple1, oArr      // o_ErrCode: 错误码         hvec_o_FailRegs[1] = ne = gArr] = 29;
            ne = gale--pectRegs.Dispose();
        easureFlag = hv_o_MeasureFs 测区，v_ = gale--     alHTuple hv_Sy = nunullple1, o2 um--pectRegs.Dispose();
        easureFlag = hv_o_MeasureFs 测区，v_ = g2ale--     alHTuple hv_Sy = nunull     hv_o_ErrC96e = -1_Di砆, out hv_Row, out ow, hv_Colum       96 =o               );
 ubReg.Dii      .Dii 
            HO96,um       96EmptyOblobErrCode, out hv__BlobErTuple(((hv  hv_oucho_BondParas = hv_     HTuhv_ = g umpectRegs.Dispose();
                        {              = g umArr区，v_ = g um  .Dispose(ispose();
            hv_ = g2 umpectRegs.Dispose();
                        {              = g2 umArr区，v_ = g2 um  .Dispose(ispose();
            i_InspectRegs, out hv_regNum);wv__Diffose();
                ho_AllRegs.Di初
                   = g um--      omg um,    i  //
     f对胶         {
    (-2))    0ndRow = new HTuple(), hv_Rpt    = gaum--pectRegs.Dispose();
            ho_Ahv_ = g um-- =
urElementsLen - 1);
                }spose();
            i_InspectRegs, out hv_regNum);wv__Diffose();
                ho_AllRegs.Di初
                   = g2 um--      omg2 um,    i  //
     f对胶         {
    (-2))    0ndRow = new HTuple(), hv_Rpt    = g2 um--pectRegs.Dispose();
            ho_Ahv_ = g2 um-- =
urElementsLen - 1);
                }spose();
            Len = new HTuple(hvec_Elements.Length);
                            hvec_curElement = hvec_Elements[hv_curElementsLen - 1];
                            hvec_curElement.Insert(n = gArrrt t(
  = Arro_B[  i new HTupleVector(new HTuple(hv_Matches.TupleSelect(Dispose();
            ho_Ahv_ = gArr      // o_ErrCode: 错误码geS  rsie = gArri初sStri] = nRadoispose();
              e                  e              e = g umArr      // o_ErrCode: 错geS iveMethod,
    HTuple h = g um--  R   hv_ = g umArr    ye(ispose();
        e = g2 umArr      // o_ErrCode: 错geS iveMethod,
    HTuple h = g2 um--  R   hv_ = g2 umArr    ye(ispose();
        pt(
  = Arro_B[0out gionUnio    = "sadhv_ = gArr] = 29;
       etia_胶   //)1_ ouchMea HTuou    e          ge                  efectVrs         和rs
     l     pErrCode     hv_o_ErrC109 =otia_胶   /                 )           (ches0参 - hv_BondCol)).TupleAbsi      .Dii 
            HOs09,     (ches09EmptyOblobErrCode, out hv__BlobEs09      0)
                    {
  tches, oout _o_Bonncaat HT_     Set   Dispos_Region   ho_RegionO      //M       Setizing";
 0))).TupleOr(new{       hv_Column, out pty";
                ho_EmptyFailReg.Dispose();
  atohv       at
trll", ((new"    ho_RegionUnion.    f ( c域
   pectRegs.DispdContour, hvrCode: f (= -2Ic = pectRegs.DispdContour, hvhvrCode:f (       ho_EmptyFailReg.Dispose();eeeenI    t  ho_EmptyFg, HTuple hv_i_DilationI    2  ho_EmptyFg, HTuple hv_i_DilationI    3      // o_ErrCode: 错geS  rsie = g umArr      // o_ErrCode: 错geS  rsie = g2 umArr      // o_ErrCode: 错geS  rsie (hsOI        HOperatorSet.ReduceDo;
 ple1, oArr      // o_ErrCode: 错误码码    (hic va      量gRE) +      Set.ceDo             ingFailReg.Dispose();
                        HOperatorSet.Difference(ho_RegionUnio //o_DefectValue：输出的实际检测得eeeeg域
       ho_EmptyFailReg.Dispose();eeee  h
     {
     ho_EmptyFailReg.Dispose();
   ple1, o umpectRegs.Dispose();
               
          pectRegs.Dispose();
            ple1, o2 umpectRegs.Dispose();
             ne = gale--pectRegs.Dispose();
        ut hple1, o2 um--pectRegs.Dispose();
            n = g            HOperatorSet.ReduceDoceDo    = g2            HOperatorSet.ReduceDo_Rpt   
          1pectRegs.Dispose();
                = gDev        HOperatorSet.ReduceDoceDo    = g   trologyHandle: 测量模板_Rpt   
    o_ErrC1  ho_EmptyFailReg.Dispose();();ple1, oon(hopectRegs.Dispose();
            spose()_InspectRegs.Dispose();
        ut hple
            HOperatorSet.GenEmptyObj(octR    if  PosT测区1OperatorSet.GenEmptyObj(octReeee  h on(hohs OperatorSet.GenEmptyObj(octR    if  posehs w HObjectVector(ho_EmptyFailReg);
            }ose(      1Model(ho_inspect                   1.1
                    ho__IcS   hg.DBi
     t  ho_EmptyFailReg.Dispose();
     h
     {
   3  ho_EmptyFailReg.Dispose();标  h
     {
   4pectRegs.Dispose();
               
          6pectRegs.Dispose();
               
          4pectRegs.Dispose();
                ho_
   pectRegs.Dispose();
             t(
  = ppectRegs.Dispose();
             t(
  = Arro_Bo           _ hv_regNum);
            if ((aso ho__InspectRegs.Dispo3)        ple1, o umpectRegs.Dispose();
                    {              = g umArr区，v_ = g um  .Dispose(ispose();
        ple1, o2 umpectRegs.Dispose();
                    {              = g2 umArr区，v_ = g2 um  .Dispose(ispose();
        n = g            HOperatorSet.ReduceDoaras = new HTuple();
      omg um,    i    = g    eaout / a HT_     Set   Dispos_Region      {




     acki)P  0];       hv_Column,     = g2            HOperatorSet.ReduceDoaras = new HTuple();
      omg2 um,    i    = g2    eaout / a HT_     Set   Dispos_Region      {




     acki)P  0];       hv_Column,    
          1pectRegs.Dispose();
                     Mul           = g    eas  = g    ea  HTupl
          1对胶         {
    (0];       hv_Column,     = gDev        HOperatorSet.ReduceDo数均包含在该变 = g2    eaupl
          1  HTupl = gDev对(0];       hv_Column,     = g   trologyHandle: 测量模板            { qr           = gDev，v_ = g t __ErrMeasureStr;

(n" ExpTmyHa(v sRevec_ing";
 0))).TupleOr(new{le: 测量模板_Rpt   
    o_ErrC1  ho_EmptyFailReg.Dispose();();aras = new HTuple();
      omg   ho_o_MeasureContours1yHa(vRevec_hv__Re胶         {
    (-2))0yFailReg.Dispose();();ple1, oon(hopectRegs.Dispose();
            w HTuple();
             = g    ea     // o_ErrC1  HTupl = gon(ho对胶         {
    (-2))0yFailReg.Dispose();();rElement = hvec_Elements[hv_curElementsLen - 1];
                            hvec_curElemen
                v      if ((int)(new HTuple((,sull, hv_Indices = nullv_Sy = n  hvple1, oon(hopectRegs.Dispose();
                spose();
                ho__InspectReg.Disposeeeee}spose();
            spose()_InspectRegs.Dispose();
        ut h数均包含在该变 = g    ea     // o_ErrC1  HTupl = ggs.Dis对胶         {
    (-2))0yFailReg.Dispose();();rElement = hvec_Elements[hv_curElementsLen - 1];
                            hvec_curElemen
                v   gs.Dis(int)(new HTuple((,sull, hv_Indices = nullv_Sy = n  hvspose()_InspectRegs.Dispose();
        ut h        ho__InspectReg.Dispose();
                    }spose();
                ho_
   pectRegs.Dispose();
            easureFlag = hv_o_MeasureFs 测区，v_ = g
        alHTuple hv_Sy = nunull;
 hv_ = g umpectRegs.Dispose();
            easureFlag = hv_o_MeasureFs 测区，v_ = g um     alHTuple hv_Sy = nunull;
 ple1, o2 umpectRegs.Dispose();
            easureFlag = hv_o_MeasureFs 测区，v_ = g2 um     alHTuple hv_Sy = nunull;
 ple1, oArr      // o_ErrCode: 错误码码Len = new HTuple(hvec_Elements.Length);
                            hvec_curElement = hvec_Elements[hvple1, oArr    t(
  = Arro_B[  i ne.Tup"t,   (v_o_Meutches, o gIdxi    _o}ho_InspectImg.                       32_o_ure_     Set   Dispos_Region      {




         acki)ut hv_Row, out ow, out hv_Colum        32e =                   ho__SubReg.Dispose();
                   32,um        32v_o_Mepose();
                  32v_IsSt 具
 ;
  m(     hv(hvnto           // i_Ro   
            HOperatorSet.GenEmptyObj(octR                    {              = gArr区，v_
            H               ho_RegionOpening.Diif  PosT测区1OperatorSet.GenEmptyObj(octReeeeeeee             输入图像
  
            H   Re  loseOrOpen__Bond=    PosT测区1         hv_o_ErrStr = "paaaaaet.GenEmptyObj(octReeeeeeee  h on(hohs OperatorSet.GenEmptyObj(octR      ifo_o_MeasureContours = ExpTmpO PosT测区1            if ((int  h on(hohs at：0-ureConefecoi标o,    case 3:
           Less(
     if  posehs w HObjectVector(ho_EmptyFailReg);   ho_o_MeasureContours = ExpTmpO PosT测区1         gs.Dis(intif  posehs at：0-ureConefecoi标o,  o_o_MeasureContours.D Less(
    
            }ose(      1Model(ho_inspect       ho_o_MeasureCose();2(  h on(hohs tif  posehs           ho__IcSurfaceImg.Dispose();
                       1.1
                    ho__IcS   h   ho_o_MeasureCon     1._LightOrDark, out hv_IsStri (hs           1.1, 3.5             ho__IcSurfaceImge      考鉍景 n v_o景 n1(hs  ev_o样与原] =相乘());
v_o鉍景  HTu        }
  了           ho__IcSurfaceImg.DBi
     t  ho_EmptyFailReg.Dispose();
      ho_o_MeasureCos     ToBin( (hs           1.1, Stri (hBi
     t;
   
则整个at：0-ureConefecoi标区都作为非重点检
   eeee   h  h
     {
   3  ho_EmptyFailReg.Dispose();
   eeee纵i标、
                Bi
     t;ond=   
     {
   3     alHTuple hv_Sy = nunull;
 ho_A  h
     {
   4pectRegs.Dispose();
            标、纵i标、
                 PosT测区1  ond=   
     {
   4 ndCol = new HTuple(), hv_RefBo   alHTuple hv_Sy = nunull;
 ho_A  h
          6pectRegs.Dispose();
            eeee             Mul          
     {
   3,=   
     {
   4 a  HTupl
          6at：0-ureConefecoi标对(0];  ple hv_Sy = nunull    ho_Aumn   ：0-量工_Cot.G是5sPoint2d(hv输at：0-ureConefecoi标、纵i标             = g um,  h
          6    i  //
     fat：0-ureConefecoi标㋋out hv_imgNum);
                 ut hple1, o umpectRegs.Dispose();
            ho_AllReple1, o um, oDiffose();
                ho_AllRegs.Di}Row = new HTuple(), hv_Rpt   
          4pectRegs.Dispose();
            标             Mul          
          6    
          6    i  h
          4 ndCol = new HTuple(), hv_RefBo1ut hv_imgNum);
                 umn   ：0-量工_Cot.G是5sPoint2d(hv输at：0-ureConefecoi标、纵i标             = g2 um,i  h
          4     i  //
     fat：0-ureConefecoi标㋋out hv_imgNum);
                 ut hple1, o2 umpectRegs.Dispose();
            ho_AllReple1, o2 um, oDiffose();
                ho_AllRegs.Di}Row = new HTuple(), hv_Rptumn   ：0-量工_Cot.G是5sPoint2d(hv输at：0-ureConefecoi标、纵i标             = g
        
     {
   3,=   i  //
     f ndCol = new HTuple(), hv_RefBot hvout hv_imgNum);
                 ut hple1, o
   pectRegs.Dispose();
            ut hv_Hohv_ = g
   , oDiffose();
                ho_AllRegs.Di.TupleConcat(
        .TupleConcat(
       w HTuple();
, -1)x
        loseOrOpen__Bhv_ = g
   ;
         aupla       aa               ho_AllRegs.Di   hvec ectRDispose();
            tches, oout _o_Bonncat(MinegionO      //M       Setizing";
 0))).TupleOr(new HT1umn   ：0-量工_Cpty";
                ho_EmptyFailReg.Deg.Dispose();
  atohv       at
tr       bad"    ho_RegionUnion.        f ( c域
   pectRegs.DispdContour, hvrCode: e: f (= -2Ic = pectRegs.DispdContour, hvhvrCode:ode:f (       ho_EmptyFailReg.Dispose();eeeeeeeenI    t  ho_EmptyFg, HTuple hv_i_DilatioeeeenI    2  ho_EmptyFg, HTuple hv_i_DilatioeeeenI    3  ho_EmptyFailReg.Dispose();
   eeeee = g umArr      // o_ErrCode: 错geS  rsi rsie = g2 umArr      // o_ErrCode: 错误码geS  rsie (hsOI        HOperatorSet.ReduceDo    v_Hohv_ = gArr      // o_ErrCode: 错误码geS  rsie (ho (hs  e     _();

          (hs  eFlag _();

          (hs  eout srCode: 错误码ject--- ne下限参数
            hv_threshNum = new onto(;
                ho_EmptyFailReg.Dispose();
   eeee   vg域
       ho_EmptyFailReg.Dispose();
   eeee  h
     {
     ho_EmptyFailReg.Dispose();
   eeee  h = g um  ho_EmptyFailReg.Dispose();
   eeee  h
          h ho_EmptyFailReg.Dispose();
   eeee ne = g2 umh ho_EmptyFailReg.Dispose();
   eeee ne = gale--pectRegs.Dispose();
            ho_Ahv_ = g2 um--pectRegs.Dispose();
            ho_Ahv_ = g    pectRegs.Dispose();
            ho_Ahv_ = g2    pectRegs.Dispose();
            ho_Ahv_
          1pectRegs.Dispose();
            ho_Ahv_ = gDevh ho_EmptyFailReg.Dispose();
   eeee ne = gat  ho_EmptyFailReg.Dispose();
   eeee  h
    o_ErrC1  ho_EmptyFailReg.Dispose();
   eeee  h1, oon(hopectRegs.Dispose();
                    ho__InspectRegs.Dispose();
                ple
            HOperatorSet.GenEmptyObj(octR      ifif  PosT测区1OperatorSet.GenEmptyObj(octR      ifif  on(hohs OperatorSet.GenEmptyObj(octR      ifif  posehs 
                    ho_ImageAffinTrans.Dispose();
                    ho__IcSurfaceImg.D            1.1
                    ho__IcSurfaceImg.DBi
     t  ho_EmptyFailReg.Dispose();
   eeee  h
     {
   3  ho_EmptyFailReg.Dispose();
   eeee  h
     {
   4pectRegs.Dispose();
            ho_Ahv_
          6pectRegs.Dispose();
            ho_Ahv_
          4pectRegs.Dispose();
            ho_Ahle1, o
   pectRegs.Dispose();
            ut h t(
  = ppectRegs.Dispose();
            ho_Aht(
  = Arro_BpectRegs.Dispspose();
            ho_A   = nuv_                       e                  hv_ = g    pectRegs.Dispose();
            o_o_MeasureCo  v          = g um      ho_
   ,    i    = g    eaout, 0ndRow = new HTuple(), hvhv_ = g2    pectRegs.Dispose();
            o_o_MeasureCo  v          = g2 um      ho_
   ,    i    = g2    eaout, 0];       hv_Column, out v_
          1pectRegs.Dispose();
                         Mul           = g    eas  = g    ea  HTupl
          1对胶         {
    (-2))0];       hv_Column, out v_ = gDevh ho_EmptyFailReg.Dispose();
   数均包含在该变 = g2    eaupl
          1  HTupl = gDev对胶         {
    (-2))0];       hv_Column, out v_ = g           HOperatorSet.ReduceDo                { qr           = gDev，v_ = g t __ErrMeasureStr;

}Row = new HTuple()CopyObj(1, -1);
      m);wv__Diffose();
                ho_AllReg初
            ho_o_Ligh         eas  = g    ea  HT  //
     f
  量工_Co   //
  ers               // o_ErrCode: 错 
  ---ers         i初sStri] = nRadoispose();
      }Row = new HTuple()CopyObj(1, -1);
      m);wv__Diffose();
                ho_AllReg初
            ho_o_Ligh
      B    omg   ho_o_M  //
     f
  量工_Co   //
  ers
           // o_ErrCode: 错证 
  --ers
     v_curElementsLen - 1);
            }me_Indices.Tup}meme_Indices.Tupf ( c域
   pectRegs.DispdContour, hvf (= -2Ic = pectRegs.DispdContour, hvf (       ho_EmptyFailReg.DisposenI    t  ho_EmptyFg, HTuple hv_inI    2  ho_EmptyFg, HTuple hv_inI    3  ho_EmptyFailReg.Disposee = g umArr      // o_ErrCode: 错e = g2 umArr      // o_ErrCode: 错e (hsOI        HOperatorSet.Reduhv_ = gArr      // o_ErrCode: 错e (ho (hs  e     _();

          (h;

          (hs  eout srCode: 错 ne下限参数
            hv_threshNu(;
                ho_EmptyFailReg.Dispose   vg域
       ho_EmptyFailReg.Dispose  h
     {
     ho_EmptyFailReg.Dispose  h = g um  ho_EmptyFailReg.Dispose  h
          h ho_EmptyFailReg.Dispose ne = g2 umh ho_EmptyFailReg.Dispose ne = gale--pectRegs.Dispose();
    hv_ = g2 um--pectRegs.Dispose();
    hv_ = g    pectRegs.Dispose();
    hv_ = g2    pectRegs.Dispose();
    v_
          1pectRegs.Dispose();
    v_ = gDevh ho_EmptyFailReg.Disposev_ = g           HOperatorSet.Redu  h
    o_ErrC1  ho_EmptyFailReg.Dispose  h1, oon(hopectRegs.Dispose();
        ho__InspectRegs.Dispose();
    );
            HOperatorSet.GenEmptyObj(out  PosT测区1OperatorSet.GenEmptyObj(oif  on(hohs OperatorSet.GenEmptyObj(oif  posehs 
                    ho_ans.Dispose();
                    ho_g.D            1.1
                    ho_g.DBi
     t  ho_EmptyFailReg.Dispose  h
     {
   3  ho_EmptyFailReg.Dispose  h
     {
   4pectRegs.Dispose();
    hv_
          6pectRegs.Dispose();
    hv_
          4pectRegs.Dispose();
    hle1, o
   pectRegs.Dispose();
     t(
  = ppectRegs.Dispose();
    ht(
  = Arro_BpectRegs.Dispspose();
    ，-2-代表未执行
                //初始化//目标
  (out ho_Sel_o_Me (ches, o.Tuple      ho_Image测区域
            //　oFlag.TupleConcTIni__ImgD( =  (ches, ic va   sple }

       loseOrOpen__Bond= -1;
  __Br                 -1;
  __Br 
        ogyswigyHa(vtour = ho__        //银胶c s_        //orSet.ConvertImageType(ho_ImageSub_        //银in            HOperatMul  胶胶s_        //     gioei _        //= -2Ic = Idxub_        //Ic域
   Idxu_        //M       Set dogyswigyHa(v sRevec_odogyswigyHa(vRevec_hv__Reub_fReg, out hv_Row, out hv_Column, out hv_Phi,
   a[ (hv_idx = 0;r_0;
                  i_HomMatMod2Img: Frame模板到图像的映射矩阵--从模板到检测图像的映射关系
            // i_AdaptiveMethod：局部阈值分Ic域
    B   = -2Ic = eaupl
    le(o  = "ageS  rsion- hv_IcRow)). PosTtType = ,  h
    2Type = ,  h
    3le(o  = "ageS  rsion- hv_IcRow)). = g umArr)). omg2 umArr,.nRa (hsOI  vP        omg um, out h  hv_i_HomMatMod2Img, hv_i  = 2ale_o_Bonncat_i  = Arre.Dispo,分   ic va   , out h  hv_i_HomMatMod2Img, hv_i 工_Co      ,Rif  PosT测区le(o  =
              , out h  hv_i_HomMatMod2Img, hv_i g域
     和非重
     {
   和非重
          , out h  hv_i_HomMatMod2Img, hv_i  = ale--从模onncat_i  = 2ale--从模onncat_i  =     , out h  hv_i_HomMatMod2Img, hv_i  = 2    , out h
          1模onncat_i  = Dev, out h  hv_i_HomMatMod2Img, hv_i  =                  // o_ErrC1模onncat_i  = on(ho, out h  hv_i_HomMatMod2Img, hv_i  = ut h
             = 
             ;
            H, out h  hv_i_HomMatMod2Img, hv_i PosT测区1模onncat_i on(hohs  e    : sposehs  e    :hes, oout _o_Bonncat(
                                      1.1模onncat_iBi
     tType = new HTuple();
 = null)
 
     {
   3和非重
     {
   4Type = new HTuple();
 = null)
 
          6, out h
          4Type = new h_o_Meuths  eut    _o_Bonncat(
  = poxyLen);
                        }
 ut    _o_Bonncat(
  = Arro_Bt,       (ches, oWi1(ch_o_Bonncat(
                            -1   to__ic t, 1,       (hs                  hv__Epoag -1FrametType = new HTuple();
     (hs  Ch  ng);
                     ，代asurerk.D//))
 new HTuple();
     (hs  _Di码，代,ic v_     Set   //))
       ic va胶   //))
 ;to__ic t, 1,       (hs  
   [sOI  vP      v
   [gioei/))ExpTmpOTmpO;to__ic t, 1,       (hs  max_o_DefectTypeLead2Wi,, ou图      //银
                       图                      o图o_Ima = 0_cessful";)
                       , hv_i_Met = 0_cessful";)_Meas
   [胶 = 0_cessful";)V_Select_Result(hvec_i_Fa入)             } hv(hm始_o_spos //传入)             }      (hvec_i_FailRegsLead2Wire, out ho_o_FailRegsLead2Wire, hv_i_DefectTypeLead2Wire,
                out hv_o_DefectTypeLead2Wire, out hv_o_ErrCode8, ou  HTuple            // Initia_胶   //))TypeLead2Wire, out hv_o_ErrCode8, ou_S       //桥接区域检测结果
            if ((int)(new HTuple(hv__ErrBridgeCod regi e(o  (hs  eageS  aaxispose();
          ectR    ExpTmpOTmpOr_0
                           hv(hm1peratorSet.ConcatObj(ho_o_LightImage, ho_(hm ExpTmpOutVar_0);
       rs         _BondContour, hv_idx + 1);
                if (gi
     _BondContour, hv_idx + 1);
                if ( c域
   _BondContour, hv_idx + 1);
                if (= -2Ic = _BondContour, hv_idx + 1);
                if (     _BondContour, hv_idx + 1);
                if (     tv_o_ErrCode = -1;
                            h
    2v_o_ErrCode = -1;
                            h
    3] = 29;
                hvec_o_FailRegs[1] = ne = g umArr] = 29;
                hvec_o_FailRegs[1] = ne = g2 umArr] = 29;
                hvec_o_FailRegs[1] = ne (hsOI] = 29;
                hvec_o_FailRegs[1] = ne = g um] = 29;
                hvec_o_FailRegs[1] = ne = g2 um] = 29;
                hvec_o_FailRegs[1] = ne = gArr] = 29;
                hvec_o_FailRegs[1] = ne (ho_ConnectedRegions.Dispose();
         hv_o_ErrCode = -1;
                hv_o_E_idx + 1);
                if (  -1)else
            {
                //Ic定位、偏              hv_o_ErrCode = -1;
                            hvg域
     v_o_ErrCode = -1;
                            h
     {
   v_o_ErrCode = -1;
                            h
          ] = 29;
                hvec_o_FailRegs[1] = ne = gale--] = 29;
                hvec_o_FailRegs[1] = ne = g2 um--] = 29;
                hvec_o_FailRegs[1] = ne = g    ] = 29;
                hvec_o_FailRegs[1] = ne = g2    ] = 29;
                hvec_o_FailRegs[1] = ne
          1] = 29;
                hvec_o_FailRegs[1] = ne  = Dev] = 29;
                hvec_o_FailRegs[1] = ne = g                     if (hv_o_DefectType == null)
  // o_ErrC1        hv_o_DefectType[hv_idx] = 22;
                    hvec_o_DefectValue[hv_idx] = new HTupleVector(1, out h       hv_RefBondRadius = hv__RefBondParas.Tuple  = 
   eConcat(-1));
                    hvec_o_FailRelue[1] = new HTupleVector(new HTuple(0));
                if  PosT测区1TupleVector(new HTuple(0));
                if  on(hohs TupleVector(new HTuple(0));
                if  posehs fectType = new HTuple();
                hv_o_DefectType[1] = 29;
                hvec_o_FailRegs[1] = ne            1.1] = 29;
                hvec_o_FailRegs[1] = neBi
     tv_o_ErrCode = -1;
                            h
     {
   3v_o_ErrCode = -1;
                            h
     {
   4] = 29;
                hvec_o_FailRegs[1] = ne
          6] = 29;
                hvec_o_FailRegs[1] = ne
          4     //银胶c //ex = neeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeoncat(-1));
 //      ();
      i_ (hs )).Tu******,gs,
  ，每䒌v_o_ErrSp  //*();
           像_idx = .Tupl   HTu      ew HOorSet.AffineTransPoint2d(hv_i_HomMatMod2Img**************************************************************
ratorSet.ato     _D               ho_RegionOpening.Disposho_ivec_o_Defect"bytghbor");
        c        HOp通道    ct(Tupouchctor(((n" ExpTmpOutE      Con_            = -2Ic = Idx._RefR         1        hv_o_ErrCode = -1;
   t _o_Bonnca    = -2Ic = Idx._RefR         2))        hv_o_t _o_Bonnca    = -2Ic = Idx._RefR         ErrCode = -1;
   3                ho__sub_light_thresh_image.Dispose();
                ho_dark_image_reduce.Di  = -2Ic = Idx             ho_ConnectedRegions.Di c域
   pectRegs.DispdContour, hve: f (= -2Ic = pectRegs.DispdContour, hvhvrCf (       ho_EmptyFailReg.DisposeposenI    t  ho_EmptyFg, HTuple hv_iposenI    2  ho_EmptyFg, HTuple hv_iposenI    3      // o_ErrCode: 错误码    omg umArr      // o_ErrCode: 错误码ple1, o2 umArr      // o_ErrCode: 错误码ple (hsOI        HOperatorSet.ReduceDohv_ = g umpectRegs.Dispose();
        hv_ = g2 umpectRegs.Dispose();
        ple1, oArr      // o_ErrCode: 错误码 ne (ho (hs  e     _();

          (h _();

          (hs  eout srCode: 错误码 ne PosT测区置及半径信息
            //o_DefectValue：输出的实际检测得到g域
       ho_EmptyFailReg.Dispose();  h
     {
     ho_EmptyFailReg.Dispose();  h
          h ho_EmptyFailReg.Dispose(); ne = gale--pectRegs.Dispose();
        ple1, o2 um--pectRegs.Dispose();
        n = g            HOperatorSet.ReduceDo    = g2            HOperatorSet.ReduceDo   
          1pectRegs.Dispose();
            = gDev        HOperatorSet.ReduceDo    = g   trologyHandle: 测量模板句     o_ErrC1  ho_EmptyFailReg.Dispose();ple1, oon(hopectRegs.Dispose();
        spose()_InspectRegs.Dispose();
            ho_
   pectRegs.Dispose();
        ple
            HOperatorSet.GenEmptyObj(octRif  PosT测区1OperatorSet.GenEmptyObj(octR  h on(hohs OperatorSet.GenEmptyObj(octRif  posehs 
                    ho_Imagans.Dispose();
                    ho__IcSg.D            1.1
                    ho__IcSg.DBi
     t  ho_EmptyFailReg.Dispose();  h
     {
   3  ho_EmptyFailReg.Dispose();  h
     {
   4pectRegs.Dispose();
        hv_
          6pectRegs.Dispose();
          h
          4pectRegs.Dispose();
        ht(
  = spectRegs.Dispose();
        ht(
  = Arro_BpectRegs.Dispspose();
           = nuv_            //Tupouchctor(((n" ExpTmpOutE      Con_             c域
   Idx._RefR         1        hv_o_ErrCode = -1;
   t _o_Bonnca     c域
   Idx._RefR         2))        hv_o_t _o_Bonnca     c域
   Idx._RefR         ErrCode = -1;
   3                ho__sub_light_thresh_image.Dispose();
                ho_dark_image_reduce.Di   c域
   Idx             ho_ConnectedRegions.Di c域
   pectRegs.DispdContour, hve: f (= -2Ic = pectRegs.DispdContour, hvhvrCf (       ho_EmptyFailReg.DisposeposenI    t  ho_EmptyFg, HTuple hv_iposenI    2  ho_EmptyFg, HTuple hv_iposenI    3      // o_ErrCode: 错误码    omg umArr      // o_ErrCode: 错误码ple1, o2 umArr      // o_ErrCode: 错误码ple (hsOI        HOperatorSet.ReduceDohv_ = g umpectRegs.Dispose();
        hv_ = g2 umpectRegs.Dispose();
        ple1, oArr      // o_ErrCode: 错误码 ne (ho (hs  e     _();

          (h _();

          (hs  eout srCode: 错误码 ne PosT测区置及半径信息
            //o_DefectValue：输出的实际检测得到g域
       ho_EmptyFailReg.Dispose();  h
     {
     ho_EmptyFailReg.Dispose();  h
          h ho_EmptyFailReg.Dispose(); ne = gale--pectRegs.Dispose();
        ple1, o2 um--pectRegs.Dispose();
        n = g            HOperatorSet.ReduceDo    = g2            HOperatorSet.ReduceDo   
          1pectRegs.Dispose();
            = gDev        HOperatorSet.ReduceDo    = g   trologyHandle: 测量模板句     o_ErrC1  ho_EmptyFailReg.Dispose();ple1, oon(hopectRegs.Dispose();
        spose()_InspectRegs.Dispose();
            ho_
   pectRegs.Dispose();
        ple
            HOperatorSet.GenEmptyObj(octRif  PosT测区1OperatorSet.GenEmptyObj(octR  h on(hohs OperatorSet.GenEmptyObj(octRif  posehs 
                    ho_Imagans.Dispose();
                    ho__IcSg.D            1.1
                    ho__IcSg.DBi
     t  ho_EmptyFailReg.Dispose();  h
     {
   3  ho_EmptyFailReg.Dispose();  h
     {
   4pectRegs.Dispose();
        hv_
          6pectRegs.Dispose();
          h
          4pectRegs.Dispose();
        ht(
  = spectRegs.Dispose();
        ht(
  = Arro_BpectRegs.Dispspose();
           = nuv_            //Tupouchctor(( ca ctVae();befectValue：法f ( c域
   pectRegs.DispdContour, hv_idx + 1);
                if ( c域
   _BondContour, hvf (= -2Ic = pectRegs.DispdContour, hv_idx + 1);
                if (= -2Ic = _BondContour, hv矩阵
    dCol0-pening.Di
    dC<ol;    Hut _o_Bonncat(      gioeiDispos
       
                      );   oI {v_    ening.Di
    dCrn;点       = n{osPosle(hvegNeg.Di  I    pectRegs.DispdContour, hv, hv_idx + 1);
 trolI        if (     , t(      gioeiDispos_Region   I {v_
                .Tup            {
   Ch  ng(f (     , 1] =   Ch  ngo_ErrCode: 错误码tches, oout _o_Bonnca   Ch  ngEmptyF    hv3izing";
 0))).TupleOr(neweg, HTuple hv_i_DilationI    t  ho_EmptyFonI    2  ho_EmptyFonI    3  ho_EmptyFailReg.Dispose();.Tup            {Decot2 //3(f (     ,    if (     t;ond=   
    2;ond=   
    3   e                      pectImag到的焊点轮廓
       检测结果输出
         le(o  = "ageS  rsbjectParam(hv_i_Metrologyle(o  = "ageS  rsiot(
  = poxyour, out (n      {




             
 ho_RegionUnio    = "sadiuvnuodel(ho_inspect         ho__InspectRe     tv  HOperatorSet.ReduceDomain(ho_i_Image, h1_inspect         ho__InspectRe     etr_idx = hvo2_inspect         ho__InspectRe     3         ho_RegionUnion.                hvec_Eleme_Indices.Tupppppad(nei    v] = nRado[      ic ].O o_inspectIm廓
       检测结果输出
         le(o  = "ageS  rsbjectParam(hv_i_Metrologyle(o  = "ageS  rsiot(
  = poxyour, out (n      {




             
 ho_RegionUnio    = "sadiuvnuodel(ho_inspect         ho__InspectRe     v  HOperatorSet.ReduceDomain(ho_i_Image, h1_inspect         ho__InspectRe     tr_idx = hvo2_inspect         ho__InspectRe              ho_RegionUnion.                hvec_Elememe_Indices.Tupppppl(ho_inspect         ho__Inspec有效性测试      HOperatorSet.CoReg.CopyObj(1, -1);
      m);wv__Diffose();
                ho_AllReg初
            ho_o_LiIc域
    B t(
  = p[ //Ic域
   Idx-, o.O胶         {
    (-2))_o_M  //
     f
  量工_Co   //
  e c域
   pectRegs.DispdContour, hvrCode: f ( c域
   v_curElementsLen - 1);
            }me_Indices.Tupppppl(ho_inspect         ho__Inspec有效性测试      HOperatorSet.CoReg.CopyObj(1, -1);
      m);wv__Diffose();
                ho_AllReg初
            ho_o_Li= -2Ic =  B t(
  = p[ //= -2Ic = Idx-, o.O HTupleVector(new HTuple(hv_Matches.TupleSele     ho_RegionUnion.    f (= -2Ic = pectRegs.DispdContour, hvhvrCode:f (= -2Ic = v_curElementsLen - 1);
            }me_Indices.Tup}me_Indices.Tupge                  spdContour, hv_idx + 1);
   t指定重炣测区，则整个检测区都作为非重点检ers               // o_ErrCode: 错o_(hm ExpTmpOutVar_0);
       rs         _BondContour, hvers
           // o_ErrCode: 错_idx + 1);
                if (gi
     _BondContour, hvninew HT, hoefectValue：法    omg umArr      // o_ErrCode: 错         hvec_o_FailRegs[1] = ne = g umArr] = 29;
       ple1, o2 umArr      // o_ErrCode: 错         hvec_o_FailRegs[1] = ne = g2 umArr] = 29;
       l(ho_inspect         ho__Inspec有效性测试      HOperatorSet.CountOErr = "speeasureCont  = Arro_Bt, 
 ho_RegionUnio    = "sadiuv_ ouchMea HTuou}me_Indices.Tup            {
            TIni__Img1] =   _Dii;hv_Indices.Tup            {Te, hoTupleEqual(_Disi0         _     Set   v_ ouchMea HTuous   ic va胶   //))0);
                ho_o_FailRegs.Di;hv_Indices.Tup     hv_o_ErrC4;
    _Di_ ouchMea HTuou     hvm       4;
                )矩阵
    sOI  2Img: FramesOI HTuple  (hs  e  4;,vm       4;);   
    sOI  g: FramesOI Teater(hvhv_Epo  4;)osssssssssssss       ho (hs  eFlagple (hsOI        HOperatorSet.ReduceDo            {               TIni__Img1] = ne (hsOI     
   [sOIOperatorSet.ReduceDohv_ = g umpectRegs.Dispose();
         asureFlag = hv_o_MeasureFs 测区，v_ = g um     alHTuple hv_Sy = nunullhv_ = g2 umpectRegs.Dispose();
        easureFlag = hv_o_MeasureFs 测区，v_ = g2 um     alHTuple hv_Sy = nunullple1, oArr      // o_ErrCode: 错误码         hvec_o_FailRegs[1] = ne = gArr] = 29;
           矩阵
    gioeiCol -pening.Di
    gioeiC<ol;    Ht _o_Bonncat(      gioeiDispos
       
                ho_C));   
    gioeiColening.Di
    gioeiCrn;点       = nc, heg, HTuple hv_i_DilationI    t  ho_EmptyFg, HTuple hv_i_Dilatio            {              c域
   ,    if (     t;  
    gioeio_ErrCode: 错误码ject I          // o_ErrCode: 错误码ject            {             = -2Ic =  B   if (     , t(
    gioeio_ErErrCode: 错误码ject   max_o_Defec               ho_AllReg ou图      -1;       hv_Column, out 图      -1;       hv_Column, out 图,
                    ho_AllReg   , hv_i_Met = out hv_Row, out ow, out hv_Coluhs  e  61e = -1_ic va胶   ut hv_Row, out              hvm       61e =out hv_Row, out ow, out 矩阵
   [胶 = 2Img: Frame胶 HTuple  (hs  e  ttMet HTuple(hv_BondFrame胶e = -1Frame胶 Teater(hvhv_Epo  61v_IsSt 具
 ;
  m(     hv(hvnto           // i_Ro    (hic va      量gRE) +      Set.ceDo                {                c va   spt   if ( (hg.Di = "ag -1Frame胶量gRE) +      Set.ReduceDo         1))).TupleOr(
                n_      量
                (hg.Di = "ag    if            h50p  y  (hs  e = 0_1_cessful";
       = "e();的;的错e,o  = "ageS  rs   = at (ches, o.Tupl码 ne PosT测区置及半径信息
        eeeeeeee             输入图像
                       h   if (  -1)else
            {
        hv_o_Eo__RefReg.Dispose();
                ho_Regionlizing";
 0))).TupleOr(new HT1;tia hv(hvnto           // i_Roeeee                   // o_FailR);
           //银胶c Dispos_Region -1Frame胶t.Closhv(hvnto           // i_Roeeee                            hv_paraI0.     // o_DefectType：筛选hv(hvnto           // i_Roeeee    的错误类型
            // o_ErrCode选错误区域
            w HTuple(), .TupleConcat(
                "column")).TupleConcat("ra   {
                                      = -2;
           );
           //银胶c Dispos_Region      {




             HTup -1Frame胶t.Clos                         hv_paraI0.     // o_DefectT      {




             HTupout ho_o_FailRegs);
        错误类型
            // o_ErrCode：错误码，显示



    错误区域
            w HTuple(), .TupleConcat(
            o__RefReg.                       HObject ExpTmpOutVar_0;
      a，-2 ato             rrrrrrrrrrrrr

                return;
ho_o_FailRegs, out    max_o_De)izing";
 0))).TupleOr(new HT1;tia   {
                            max_o_Defec;
ho_o_F量eStr = null,      hhhhhhhhhhhhhhhhh ou图      Pos  tx.Tupl
            }
 hhhhhhhhhhhh   图      rge[h量eStr = null,      hhhhhhhhhhhhhhhhh   图,
     开始等量eStr = null,      hhhhhhhhhhhhh.TupleConcat(
        .TupleConcat(
     HTu"e();    H     return;
max_o_Der, HTuple hv_i //银in     izing";
 0))).TupleOr(new HT1{ispose();
                out HT_     Set   //=r)
        {




         / Stack_     Set   //_ ExpTmpOTmpOr_0
          x   i1, outAack_     Set   [  
    sOI-, out t HT_     Set   Dispos_Region   I {v_sOI-, )r  HObject ho__Inspeeeeeeeeeeeee             HTuple  (hs  e   re ou图   图   ,h   图,
   ndCol = new HTuple(), hv_RefBoturn;
           HTupleex = hvTyoncat( hv_i            //o_DefectValue：输出的实际检测得eeeeeeee                //焊/I);
         t;     ;
              ,      HTuple ndCol = new HTuple(), hv_RefBo);
            HO否存在，2.再阈值刈g域
       ho_EmptyFailReg.Dispose();eeeeeeee             输入图像
            //i_BondRe  loseOrOpen__Bond=   vg域
              hv_o_ErrStr = "paaaaayFailReg.Dispose();eeeeeeee  h
     {
     ho_EmptyFailReg.Dispose();
   eeee              {
                vg域
     _Bond=   
     {
        alHTuple hv_Sy = nunull    ho_Aumn   ：0-量工_Cot.G是5sPoint2d(hv输at：0-ureConefecoi标、纵i标             = g um,  h
     {
   ,    i  //
     fat：0-ureConefecoi标㋋out hv_imgNum);
                 ut hple1, o umpectRegs.Dispose();
            ho_AllReple1, o um, oDiffose();
                ho_AllRegs.Di}Row = new HTuple(), hv_Rpt   
          pectRegs.Dispose();
            ho_A             Mul          
     {
        
     {
        i  h
           ndCol = new HTuple(), hv_RefBoout hv_imgNum);
                 umn   ：0-量工_Cot.G是5sPoint2d(hv输at：0-ureConefecoi标、纵i标             = g2 um,i  h
               i  //
     fat：0-ureConefecoi标㋋out hv_imgNum);
                 ut hple1, o2 umpectRegs.Dispose();
            ho_AllReple1, o2 um, oDiffose();
                ho_AllRegs.Di}Row = new HTuple(), hv_Rptumn   ：0-量工_Cot.G是5sPoint2d(hv输at：0-ureConefecoi标、纵i标      ho_o_Li = gArrrt = vg域
     _Bond== -1;
       .Dispose();
               ;
 ple1, oArr      // o_ErrCode: 错误码码ple1, oArr              ho__InspectReg.Disposeeeeeeeee.TupleConcat(
        .TupleConcat(
    }Row = new HTuple()CopyObj(1, -1);
      m);wv__Diffose();
                ho_AllReg初
            ho_o_Li = g umArr      omg um,    i  //
     f
  量工_Co   //
      omg umArr      // o_ErrCode: 错geS  rsie = g umArri初sStri] = nRadoispose();
      }Row = new HTuple()CopyObj(1, -1);
      m);wv__Diffose();
                ho_AllReg初
            ho_o_Li = g2 umArr,.nRa omg2 um,    i  //
     f
  量工_Co   //
  ple1, o2 umArr      // o_ErrCode: 错geS  rsie = g2 umArri初sStri] = nRadoispose();
      }Row = new HTuple() t(
  = Arro_B[  
    sOI-, out gionUnio    = "sadple1, oArro_ ouchMea HTuou}Row = new HTupge 认量工具索引w HTup,d参hoefectV6      Tul     pErrCode"e();    H //Mul  胶胶ing";
 0))).TupleOrCopyObj(1, -1);
  xpTmpO内      trol  //*************g, HTuple hv_i_Diltia_胶   //) -1_Di砉量eStr = null,      hecTxoncat( hv_idx = hvTyoncat( hv_idx = hv点检测区O内ontour有trolc_t((h***********g, HTuple hv_i_Dil       o_inspectImage);
_     Set            _ um] = 29;
       != 0           {
           S败         //M       Setizing";
 0))).TupleOr(new{       hv_Column, out pty";
                ho_EmptyFailReg.Dispose();
  atohv       at
trll", ((new"    ho_RegionUnion.    f ( c域
   pectRegs.DispdContour, hvrCode: f (= -2Ic = pectRegs.DispdContour, hvhvrCode:f (       ho_EmptyFailReg.Dispose();eeeenI    t  ho_EmptyFg, HTuple hv_i_DilationI    2  ho_EmptyFg, HTuple hv_i_DilationI    3      // o_ErrCode: 错geS  rsie = g umArr      // o_ErrCode: 错geS  rsie = g2 umArr      // o_ErrCode: 错geS  rsie (hsOI        HOperatorSet.ReduceDo;
 ple1, oSectRegs.Dispose();
            ple1, o2 umpectRegs.Dispose();
             ne = gArr      // o_ErrCode: 错误码码    (hic va      量gRE) +      Set.ceDo             ingFailReg.Dispose();
                        HOperatorSet.Difference(ho_RegionUnio //o_DefectValue：输出的实际检测得eeeeg域
       ho_EmptyFailReg.Dispose();eeee  h
     {
     ho_EmptyFailReg.Dispose();
   ple
          pectRegs.Dispose();
             ne = gale--pectRegs.Dispose();
        ut hple1, o2 um--pectRegs.Dispose();
            n = g            HOperatorSet.ReduceDoceDo    = g2            HOperatorSet.ReduceDo_Rpt   
          1pectRegs.Dispose();
                = gDev        HOperatorSet.ReduceDoceDo    = g   trologyHandle: 测量模板_Rpt   
    o_ErrC1  ho_EmptyFailReg.Dispose();();ple1, oon(hopectRegs.Dispose();
            spose()_InspectRegs.Dispose();
        ut hple ho_
   pectRegs.Dispose();
        ut hple
            HOperatorSet.GenEmptyObj(octR    if  PosT测区1OperatorSet.GenEmptyObj(octReeee  h on(hohs OperatorSet.GenEmptyObj(octR    if  posehs w HObjectVector(ho_EmptyFailReg);
            }ose(      1Model(ho_inspect                   1.1
                    ho__IcS   hg.DBi
     t  ho_EmptyFailReg.Dispose();
     h
     {
   3  ho_EmptyFailReg.Dispose();标  h
     {
   4pectRegs.Dispose();
               
          6pectRegs.Dispose();
               
          4pectRegs.Dispose();
             t(
  = ppectRegs.Dispose();
             t(
  = Arro_Bo           _ hv_regNum);
            if ((aso ho__InspectRegs.Dispo3)         out HT_     Set   //=r)
        {




     ack_     Set   //_ ExpTmpOTmpOr_0
          x   ack_     Set   ,  = "    Suple hv_Sy = nunullple1, oArr      // o_ErrCode: 错误码         hvec_o_FailRegs[1] = ne = gArr] = 29;
            ne = gale--pectRegs.Dispose();
        easureFlag = hv_o_MeasureFs 测区，v_ = gale--     alHTuple hv_Sy = nunullple1, o2 um--pectRegs.Dispose();
        easureFlag = hv_o_MeasureFs 测区，v_ = g2ale--     alHTuple hv_Sy = nunull     hv_o_ErrCs0参 -1_Di砆, out hv_Row, out ow, hv_Colum       s0参 - hv_BondCol)).l)).TupleAbsi      .Dii 
            HOs09,     (ches09EmptyOblobErrCode, out hv__BlobEs09      0)
      cho_BondParas = hv_     HTuhv_ = g umpectRegs.Dispose();
                        {              = g umArr区，v_ = g um  .Dispose(ispose();
            hv_ = g2 umpectRegs.Dispose();
                        {              = g2 umArr区，v_ = g2 um  .Dispose(ispose();
            i_InspectRegs, out hv_regNum);wv__Diffose();
                ho_AllRegs.Di初
                   = g um--      omg um,    i  //
     f对胶         {
    (-2))    0ndRow = new HTuple(), hv_Rpt    = gaum--pectRegs.Dispose();
            ho_Ahv_ = g um-- =
urElementsLen - 1);
                }spose();
            i_InspectRegs, out hv_regNum);wv__Diffose();
                ho_AllRegs.Di初
                   = g2 um--      omg2 um,    i  //
     f对胶         {
    (-2))    0ndRow = new HTuple(), hv_Rpt    = g2 um--pectRegs.Dispose();
            ho_Ahv_ = g2 um-- =
urElementsLen - 1);
                }spose();
            Len = new HTuple(hvec_Elements.Length);
                            hvec_curElement = hvec_Elements[hv_curElementsLen - 1];
                            hvec_curElement.Insert(n = gArrrt t(
  = Arro_B[  i new HTupleVector(new HTuple(hv_Matches.TupleSelect(Dispose();
            ho_Ahv_ = gArr      // o_ErrCode: 错误码geS  rsie = gArri初sStri] = nRadoispose();
              e                  e              e = g umArr      // o_ErrCode: 错geS iveMethod,
    HTuple h = g um--  R   hv_ = g umArr    ye(ispose();
        e = g2 umArr      // o_ErrCode: 错geS iveMethod,
    HTuple h = g2 um--  R   hv_ = g2 umArr    ye(ispose();
        pt(
  = Arro_B[0out gionUnio    = "sadhv_ = gArr] = 29;
       etia_胶   //)1_ ouchMea HTuou    e          ge                  efectVrs         和rs
     l     pErrCode     hv_o_ErrC122 =otia_胶   /                 )           (ches22参 - hv_BondCol)).TupleAbsi      .Dii 
            HOs2Image, ho_   2EmptyOblobErrCode, out hv__BlobEs22      0)
                    {
  tches, oout _o_Bonncaat HT_     Set   Dispos_Region   ho_RegionO      //M       Setizing";
 0))).TupleOr(new{       hv_Column, out pty";
                ho_EmptyFailReg.Dispose();
  atohv       at
trll", ((new"    ho_RegionUnion.    f ( c域
   pectRegs.DispdContour, hvrCode: f (= -2Ic = pectRegs.DispdContour, hvhvrCode:f (       ho_EmptyFailReg.Dispose();eeeenI    t  ho_EmptyFg, HTuple hv_i_DilationI    2  ho_EmptyFg, HTuple hv_i_DilationI    3      // o_ErrCode: 错geS  rsie = g umArr      // o_ErrCode: 错geS  rsie = g2 umArr      // o_ErrCode: 错geS  rsie (hsOI        HOperatorSet.ReduceDo;
 ple1, oSectRegs.Dispose();
            ple1, o2 umpectRegs.Dispose();
             ne = gArr      // o_ErrCode: 错误码码    (hic va      量gRE) +      Set.ceDo             ingFailReg.Dispose();
                        HOperatorSet.Difference(ho_RegionUnio //o_DefectValue：输出的实际检测得eeeeg域
       ho_EmptyFailReg.Dispose();eeee  h
     {
     ho_EmptyFailReg.Dispose();
   ple
          pectRegs.Dispose();
             ne = gale--pectRegs.Dispose();
        ut hple1, o2 um--pectRegs.Dispose();
            n = g            HOperatorSet.ReduceDoceDo    = g2            HOperatorSet.ReduceDo_Rpt   
          1pectRegs.Dispose();
                = gDev        HOperatorSet.ReduceDoceDo    = g   trologyHandle: 测量模板_Rpt   
    o_ErrC1  ho_EmptyFailReg.Dispose();();ple1, oon(hopectRegs.Dispose();
            spose()_InspectRegs.Dispose();
        ut hple ho_
   pectRegs.Dispose();
        ut hple
            HOperatorSet.GenEmptyObj(octR    if  PosT测区1OperatorSet.GenEmptyObj(octReeee  h on(hohs OperatorSet.GenEmptyObj(octR    if  posehs w HObjectVector(ho_EmptyFailReg);
            }ose(      1Model(ho_inspect                   1.1
                    ho__IcS   hg.DBi
     t  ho_EmptyFailReg.Dispose();
     h
     {
   3  ho_EmptyFailReg.Dispose();标  h
     {
   4pectRegs.Dispose();
               
          6pectRegs.Dispose();
               
          4pectRegs.Dispose();
             t(
  = ppectRegs.Dispose();
             t(
  = Arro_Bo           _ hv_regNum);
            if ((aso ho__InspectRegs.Dispo3)        ple1, o umpectRegs.Dispose();
                    {              = g umArr区，v_ = g um  .Dispose(ispose();
        ple1, o2 umpectRegs.Dispose();
                    {              = g2 umArr区，v_ = g2 um  .Dispose(ispose();
        n = g            HOperatorSet.ReduceDoaras = new HTuple();
      omg um,    i    = g    eaout / a HT_     Set   Dispos_Region      {




     acki)P  0];       hv_Column,     = g2            HOperatorSet.ReduceDoaras = new HTuple();
      omg2 um,    i    = g2    eaout / a HT_     Set   Dispos_Region      {




     acki)P  0];       hv_Column,    
          1pectRegs.Dispose();
                     Mul           = g    eas  = g    ea  HTupl
          1对胶         {
    (0];       hv_Column,     = gDev        HOperatorSet.ReduceDo数均包含在该变 = g2    eaupl
          1  HTupl = gDev对(0];       hv_Column,     = g   trologyHandle: 测量模板            { qr           = gDev，v_ = g t __ErrMeasureStr;

(n" ExpTmyHa(v sRevec_ing";
 0))).TupleOr(new{le: 测量模板_Rpt   
    o_ErrC1  ho_EmptyFailReg.Dispose();();aras = new HTuple();
      omg   ho_o_MeasureContours1yHa(vRevec_hv__Re胶         {
    (-2))0yFailReg.Dispose();();ple1, oon(hopectRegs.Dispose();
            w HTuple();
             = g    ea     // o_ErrC1  HTupl = gon(ho对胶         {
    (-2))0yFailReg.Dispose();();rElement = hvec_Elements[hv_curElementsLen - 1];
                            hvec_curElemen
                v      if ((int)(new HTuple((,sull, hv_Indices = nullv_Sy = n  hvple1, oon(hopectRegs.Dispose();
                spose();
                ho__InspectReg.Disposeeeee}spose();
            spose()_InspectRegs.Dispose();
        ut h数均包含在该变 = g    ea     // o_ErrC1  HTupl = ggs.Dis对胶         {
    (-2))0yFailReg.Dispose();();rElement = hvec_Elements[hv_curElementsLen - 1];
                            hvec_curElemen
                v   gs.Dis(int)(new HTuple((,sull, hv_Indices = nullv_Sy = n  hvspose()_InspectRegs.Dispose();
        ut h        ho__InspectReg.Dispose();
                    }spose();
                ho_
   pectRegs.Dispose();
            easureFlag = hv_o_MeasureFs 测区，v_ = g
        alHTuple hv_Sy = nunull;
 hv_ = g umpectRegs.Dispose();
            easureFlag = hv_o_MeasureFs 测区，v_ = g um     alHTuple hv_Sy = nunull;
 ple1, o2 umpectRegs.Dispose();
            easureFlag = hv_o_MeasureFs 测区，v_ = g2 um     alHTuple hv_Sy = nunull;
 ple1, oArr      // o_ErrCode: 错误码码Len = new HTuple(hvec_Elements.Length);
                            hvec_curElement = hvec_Elements[hvple1, oArr    t(
  = Arro_B[  i ne.Tup"t,   (v_o_Meutches, o gIdxi    _o}ho_InspectImg.                       45_o_ure_     Set   Dispos_Region      {




         acki)ut hv_Row, out ow, out hv_Colum        45_o_                   ho__SubReg.Dispose();
                   45,ri1, out] 45v_o_Mepose();
                  45vHOperatorSet.CoReg.   h hv(hvnto           // i_Ro   
            HOperatorSet.GenEmptyObj(octR                    {              = gArr区，v_
            H               ho_RegionOpening.Diif  PosT测区1OperatorSet.GenEmptyObj(octReeeeeeee             输入图像
  
            H   Re  loseOrOpen__Bond=    PosT测区1         hv_o_ErrStr = "paaaaaet.GenEmptyObj(octReeeeeeee  h on(hohs OperatorSet.GenEmptyObj(octR      ifo_o_MeasureContours = ExpTmpO PosT测区1            if ((int  h on(hohs at：0-ureConefecoi标o,    case 3:
           Less(
     if  posehs w HObjectVector(ho_EmptyFailReg);   ho_o_MeasureContours = ExpTmpO PosT测区1         gs.Dis(intif  posehs at：0-ureConefecoi标o,  o_o_MeasureContours.D Less(
    
            }ose(      1Model(ho_inspect       ho_o_MeasureCose();2(  h on(hohs tif  posehs           ho__IcSurfaceImg.Dispose();
                       1.1
                    ho__IcS   h   ho_o_MeasureCon     1._LightOrDark, out hv_IsStri (hs           1.1, 3.5             ho__IcSurfaceImge      考鉍景 n v_o景 n1(hs  ev_o样与原] =相乘());
v_o鉍景  HTu        }
  了           ho__IcSurfaceImg.DBi
     t  ho_EmptyFailReg.Dispose();
      ho_o_MeasureCos     ToBin( (hs           1.1, Stri (hBi
     t;
   
则整个at：0-ureConefecoi标区都作为非重点检
   eeee   h  h
     {
   3  ho_EmptyFailReg.Dispose();
   eeee纵i标、
                Bi
     t;ond=   
     {
   3     alHTuple hv_Sy = nunull;
 ho_A  h
     {
   4pectRegs.Dispose();
            标、纵i标、
                 PosT测区1  ond=   
     {
   4 ndCol = new HTuple(), hv_RefBo   alHTuple hv_Sy = nunull;
 ho_A  h
          6pectRegs.Dispose();
            eeee             Mul          
     {
   3,=   
     {
   4 a  HTupl
          6at：0-ureConefecoi标对(0];  ple hv_Sy = nunull    ho_Aumn   ：0-量工_Cot.G是5sPoint2d(hv输at：0-ureConefecoi标、纵i标             = g um,  h
          6    i  //
     fat：0-ureConefecoi标㋋out hv_imgNum);
                 ut hple1, o umpectRegs.Dispose();
            ho_AllReple1, o um, oDiffose();
                ho_AllRegs.Di}Row = new HTuple(), hv_Rpt   
          4pectRegs.Dispose();
            标             Mul          
          6    
          6    i  h
          4 ndCol = new HTuple(), hv_RefBo1ut hv_imgNum);
                 umn   ：0-量工_Cot.G是5sPoint2d(hv输at：0-ureConefecoi标、纵i标             = g2 um,i  h
          4     i  //
     fat：0-ureConefecoi标㋋out hv_imgNum);
                 ut hple1, o2 umpectRegs.Dispose();
            ho_AllReple1, o2 um, oDiffose();
                ho_AllRegs.Di}Row = new HTuple(), hv_Rptumn   ：0-量工_Cot.G是5sPoint2d(hv输at：0-ureConefecoi标、纵i标             = g
        
     {
   3,=   i  //
     f ndCol = new HTuple(), hv_RefBot hvout hv_imgNum);
                 ut hple1, o
   pectRegs.Dispose();
            ut hv_Hohv_ = g
   , oDiffose();
                ho_AllRegs.Di.TupleConcat(
        .TupleConcat(
       w HTuple();
, -1)x
        loseOrOpen__Bhv_ = g
   ;
         aupla       aa               ho_AllRegs.Di   hvec ectRDispose();
            tches, oout _o_Bonncat(MinegionO      //M       Setizing";
 0))).TupleOr(new HT1umn   ：0-量工_Cpty";
                ho_EmptyFailReg.Deg.Dispose();
  atohv       at
tr       bad"    ho_RegionUnion.        f ( c域
   pectRegs.DispdContour, hvrCode: e: f (= -2Ic = pectRegs.DispdContour, hvhvrCode:ode:f (       ho_EmptyFailReg.Dispose();eeeeeeeenI    t  ho_EmptyFg, HTuple hv_i_DilatioeeeenI    2  ho_EmptyFg, HTuple hv_i_DilatioeeeenI    3  ho_EmptyFailReg.Dispose();
   eeeee = g umArr      // o_ErrCode: 错geS  rsi rsie = g2 umArr      // o_ErrCode: 错误码geS  rsie (hsOI        HOperatorSet.ReduceDo    v_Hohv_ = g umpectRegs.Dispose();
            ho_Ahv_ = g2 umpectRegs.Dispose();
            ho_Aple1, oArr      // o_ErrCode: 错误码码 ne (ho (hs  e     _();

          (hs  eFlag _();

          (hs  eout srCode: 错误码ject--- ne下限参数
            hv_threshNum = new onto(;
                ho_EmptyFailReg.Dispose();
   eeee   vg域
       ho_EmptyFailReg.Dispose();
   eeee  h
     {
     ho_EmptyFailReg.Dispose();
   eeee  h
          h ho_EmptyFailReg.Dispose();
   eeee ne = gale--pectRegs.Dispose();
            ho_Ahv_ = g2 um--pectRegs.Dispose();
            ho_Ahv_ = g    pectRegs.Dispose();
            ho_Ahv_ = g2    pectRegs.Dispose();
            ho_Ahv_
          1pectRegs.Dispose();
            ho_Ahv_ = gDevh ho_EmptyFailReg.Dispose();
   eeee ne = gat  ho_EmptyFailReg.Dispose();
   eeee  h
    o_ErrC1  ho_EmptyFailReg.Dispose();
   eeee  h1, oon(hopectRegs.Dispose();
                    ho__InspectRegs.Dispose();
                ple  = 
   pectRegs.Dispose();
                ple
            HOperatorSet.GenEmptyObj(octR      ifif  PosT测区1OperatorSet.GenEmptyObj(octR      ifif  on(hohs OperatorSet.GenEmptyObj(octR      ifif  posehs 
                    ho_ImageAffinTrans.Dispose();
                    ho__IcSurfaceImg.D            1.1
                    ho__IcSurfaceImg.DBi
     t  ho_EmptyFailReg.Dispose();
   eeee  h
     {
   3  ho_EmptyFailReg.Dispose();
   eeee  h
     {
   4pectRegs.Dispose();
            ho_Ahv_
          6pectRegs.Dispose();
            ho_Ahv_
          4pectRegs.Dispose();
            ho_Aht(
  = ppectRegs.Dispose();
            ho_Aht(
  = Arro_BpectRegs.Dispspose();
            ho_A   = nuv_                       e                  hv_ = g    pectRegs.Dispose();
            o_o_MeasureCo  v          = g um      ho_
   ,    i    = g    eaout, 0ndRow = new HTuple(), hvhv_ = g2    pectRegs.Dispose();
            o_o_MeasureCo  v          = g2 um      ho_
   ,    i    = g2    eaout, 0];       hv_Column, out v_
          1pectRegs.Dispose();
                         Mul           = g    eas  = g    ea  HTupl
          1对胶         {
    (-2))0];       hv_Column, out v_ = gDevh ho_EmptyFailReg.Dispose();
   数均包含在该变 = g2    eaupl
          1  HTupl = gDev对胶         {
    (-2))0];       hv_Column, out v_ = g           HOperatorSet.ReduceDo                { qr           = gDev，v_ = g t __ErrMeasureStr;

}Row = new HTuple()CopyObj(1, -1);
      m);wv__Diffose();
                ho_AllReg初
            ho_o_Ligh         eas  = g    ea  HT  //
     f
  量工_Co   //
  ers               // o_ErrCode: 错 
  ---ers         i初sStri] = nRadoispose();
      }Row = new HTuple()CopyObj(1, -1);
      m);wv__Diffose();
                ho_AllReg初
            ho_o_Ligh
      B    omg   ho_o_M  //
     f
  量工_Co   //
  ers
           // o_ErrCode: 错证 
  --ers
     v_curElementsLen - 1);
            }me_Indices.Tup}meme_Indices.Tupf ( c域
   pectRegs.DispdContour, hvf (= -2Ic = pectRegs.DispdContour, hvf (       ho_EmptyFailReg.DisposenI    t  ho_EmptyFg, HTuple hv_inI    2  ho_EmptyFg, HTuple hv_inI    3  ho_EmptyFailReg.Disposee = g umArr      // o_ErrCode: 错e = g2 umArr      // o_ErrCode: 错e (hsOI        HOperatorSet.Reduhv_ = g umh ho_EmptyFailReg.Dispose ne = g2 umh ho_EmptyFailReg.Dispose ne = gArr      // o_ErrCode: 错e (ho (hs  e     _();

          (h;

          (hs  eout srCode: 错 ne下限参数
            hv_threshNu(;
                ho_EmptyFailReg.Dispose   vg域
       ho_EmptyFailReg.Dispose  h
     {
     ho_EmptyFailReg.Dispose  h
          h ho_EmptyFailReg.Dispose ne = gale--pectRegs.Dispose();
    hv_ = g2 um--pectRegs.Dispose();
    hv_ = g    pectRegs.Dispose();
    hv_ = g2    pectRegs.Dispose();
    v_
          1pectRegs.Dispose();
    v_ = gDevh ho_EmptyFailReg.Disposev_ = g           HOperatorSet.Redu  h
    o_ErrC1  ho_EmptyFailReg.Dispose  h1, oon(hopectRegs.Dispose();
        ho__InspectRegs.Dispose();
    ); ho_
   pectRegs.Dispose();
    );
            HOperatorSet.GenEmptyObj(out  PosT测区1OperatorSet.GenEmptyObj(oif  on(hohs OperatorSet.GenEmptyObj(oif  posehs 
                    ho_ans.Dispose();
                    ho_g.D            1.1
                    ho_g.DBi
     t  ho_EmptyFailReg.Dispose  h
     {
   3  ho_EmptyFailReg.Dispose  h
     {
   4pectRegs.Dispose();
    hv_
          6pectRegs.Dispose();
    hv_
          4pectRegs.Dispose();
    ht(
  = ppectRegs.Dispose();
    ht(
  = Arro_BpectRegs.Dispspose();
    ，-2-代表未执           //初始化/*-代表, o.Tuple      ho_Image测区域
            //　oFlag.TupleConcTIni__ImgD( =  (ches, ic va   sple }

       loseOrOpen__Bond= -1;
  __Br                 -1;
  __Br 
        ogyswigyHa(vtour = ho__        //银胶c s_        //orSet.ConvertImageType(ho_ImageSub_        //银in            HOperatMul  胶胶s_        //     gioei _        //银胶aram(hb_        //geS  rsSet.GenEmp具 =It_Thres _        //= -2Ic = Idxu         //Ic域
   Idxub_        //M       Set dogyswigyHa(v sRevec_odogyswigyHa(vRevec_hv__Reu fReg, out hv_Row, out hv
Column, out hv_Phi,
   a[ (hv_id 0;r_0;
               i_HomMatMod2Img: Frame模板到图像瘠射矩阵--从模板到检测图像的映射峻
            // i_AdaptiveMethod：僨阈值分Ic域
    B   = -2Ic = eaupl
    le(o  = "ageS  rsiohv_IcRow)). PosTtType = ,  h
    2Type = ,  h
    3le(o  = "ageS  rsiohv_IcRow)). = g umArr)). omg2 umArr,.nRa (hsOI  vP        omg umPonvle(o  = "ageS  rsiohv_IcRow)). = g2 umPonvle(o  =cat_i  = Arre.Dispo,分   ic va   , out h  hv_i_HomMahv_IcRow)). =oseOrOpene.Dispo,分Me o (hs  e    : 量工_Co      提  rsion- hv_IcRow)). PosT测区和非重
              , out hrt = vg域
     le(o  = "ageS  rsiohv_IcRow)). = g um模onncat_i  = 2ale, out hrt = vg域
     Ponvle(o  = "ageS  rsiohv_IcRow)).
     {
   Ponvle(o  =cat_i
          Ponvle(o  = "ageS  rsiohv_IcRow)).Muti     和非重  = ale--从模onncat_i  = 2ale--从模onn "ageS  rsiohv_IcRow)). = gM   , out h  = 2    , out h
          1模onn "ageS  rsiohv_IcRow)). = gDev, out h B    omg   le(o  = B    eckomg模onn "ageS  rsiohv_IcRow)).NewMuti     和非重  =     Ponvle(o  =       // o_ErrC1模onn "ageS  rsiohv_IcRow)).  = on(ho, out h         gs.D模onn  =     Byt le(o  = "ageS  rsiohv_IcRow)). = g    on(ho, out h             ut h
             = 
   Ponvle(o  = "ageS  rsiohv_IcRow)). = gon(hoPonvle(o  =cat_i  = ut hPonvle(o  =cat_i  =     on(hoPonvle(o  = "ageS  rsiohv_IcRow)). = g    ut hPonvle(o  =cat_i
            H, out h  hv_i_HomMad2Img, hv_i PosT测区1模onncat_i on(hohs  e    : sposehs  e    :hes, oout _od2Img, hv_i.Dispose();00模onncat_i     on(hohs  e    : s    ut hhs  e    :hes, oout _od2Img, hv_i.Dispose();01模onncat_i.Dispose();模onncat_i.Dispose();   HOpe e    :hes, oout _od2Img, hv_i.Dispo      1.1模onncat_iBi
     tType = ,  h
     {
   3le(o  = "ageS  rsiohv_IcRow)). PosT {
   4Type = ,  h
          6, out h
          4Type = newgeS  rsiohv_IcRow)).  = 
             ;  = 
   hs  e    :cat_iBi
     2le(o  = "ageS  rsiohv_IcRow)). PosTBi
01模onncat_i  = 
   New e    :cat_iBi
     3le(o  = "ageS  rsiohv_IcRow)). PosTBi
10le(o  =cat_i  =     测区le(o  =cat_i  =     2测区le(o  = "ageS  rsiohv_IcRow)). = g    T从模onncat_i  = 2    T从模onncat_i  = DevNew e    : "ageS  rsiohv_IcRow)). = g    A :, out h B    omg   A :, out h;iveMethod：僨阈o_Bonncat(
  = poxyLen);
                        }ut    _o_Bonncat(
  = Arro_Bt,       (ches, oWi1(ch_o_Bonncat(
                         -1   to__ic t, 1     (hs                  hv__Epoag -1FrametType = new HTuple()     (hs  Ch  ng);
                c              L误 Type = new HTuple()     (hs  LxpTmpOutVar_Length(b Type = ength(bxpTmpOutVar_Lnew HTuple()     (hs  整Ponvle(o  =cat区都Ponvle(o  =cat整utVar_Lnew HTuple()     (hs  rk.D//))
      _Di码，代,ic v_     Set   //))
 new HTuple()     (hs   ic va胶   //))
      
   [sOI  vP      v
   [gioei/))ExpTmpOTmpO;to__ic t, 1     (hs  max_o_DefectTypeLead2Wi,, ou图      //银
                    图                      o图o_Ima = 0_cessful";)
                    , hv_i_Met = 0_cessful";)_Meas
   [胶 = 0_cessful";)V_Select_Res     (hs   _t     HTuple         } hv(hm      //银
                          o3t hv_1表该算o_Ima = 0_cessful";)
                    _o_DefectTypeLead2Wi,, ou  HTuple            // I
                    _胶   //))TypeLead2Wi,"    S = 0_cessful";)
                    , = 0_cessful";)_Meas
 HObj = 0_cessful";)_Meas utu= 0_cessful";)
                    j半径
             regi e(o  (hs  eageS  aaxispose();
    
                     ectR半径
             re
 HObj = 0_cessful";)
                    Len = hv_Len1 / hv_RefL, out sSet.
                hv_o_ErrSt(hvec_i_Fa入)             } hv(hm始_o_spos //传入)             }                    hv(hm1peratorSet.ConcatObj(ho_o_LightImageo_(hm ExpTmpOutVar_0);
       rs         _BondContour,_idx + 1);
                if (gi
     _BondContour,_idx + 1);
                if ( c域
   _BondContour,_idx + 1);
                if (= -2Ic = _BondContour,_idx + 1);
                if (     _BondContour,_idx + 1);
                if (     tvBondContour,_idx + 1);
                if (     2vBondContour,_idx + 1);
                if (     3vBondContour,_idx + 1);
                if ( = g umArrvBondContour,_idx + 1);
                if ( = g2 umArrvBondContour,_idx + 1);
                if ( (hsOIvBondContour,_idx + 1);
                if ( = g umPonvvBondContour,_idx + 1);
                if ( = g2 umPonvvBondContour,_idx + 1);
                if ( = gArrvBondContour,_idx + 1);
                if ( (he o (hs vBondContour,_idx + 1);
                if ( =oseOrOpenvBondContour,_idx + 1);
                if ( e o (hs vBondContour,_idx + 1);
                if ( 工_Co  vBondContour,_idx + 1);
                if (     测区vBondContour,_idx + 1);
                if (               vBondContour,_idx + 1);
                if ( g域
     vBondContour,_idx + 1);
                if ( = g umvBondContour,_idx + 1);
                if ( = g2 umvBondContour,_idx + 1);
                if ( g域
     PonvvBondContour,_idx + 1);
                if (
     {
   PonvvBondContour,_idx + 1);
                if (
          PonvvBondContour,_idx + 1);
                if (Muti     vBondContour,_idx + 1);
                if ( = g um--] = 29;
    _idx + 1);
                if ( = g2 um--] = 29;
    _idx + 1);
                if ( = g    ] = 29;
    _idx + 1);
                if ( = g2    ] = 29;
    _idx + 1);
                if (
          1] = 29;
    _idx + 1);
                if ( = gDev] = 29;
    _idx + 1);
                if ( = g tvBondContour,_idx + 1);
                if ( eckomgvBondContour,_idx + 1);
                if (NewMuti     ] = 29;
    _idx + 1);
                if ( = g    PonvvBondContour,_idx + 1);
                if (  // o_ErrC1        hv_o_ectType[hv_idx] = 22;
                    hvec_o_Defealue[hv_idx] = new HTupleVector(1, out h       hv_Refalue[hv_idx] = new HTupleVector(1, o    Byt        hv_Refalue[hv_idx] = new HTupleVector(1, o           hvec_o_Defealue[hv_idx] = new HTupleVector(1, o    ut h  hvec_o_Defealue[hv_idx] = new HTupleVector(1, o
   Ponv        hv_o_ectType[hv_idx] = 22;
                  Ponv        hv_o_ectType[hv_idx] = 22;
             ut hPonv       hv_Refalue[hv_idx] = new HTupleVector(1, o         Ponv       hv_Refalue[hv_idx] = new HTupleVector(1, o    ut hPonv       hv_Refalue[hv_idx] = new HTupleVector(lue[1] = new HTupleVector(nHTuple(0));
                if  PosT测区1TupleVector(nHTuple(0));
                if  on(hohs TupleVector(nHTuple(0));
                if  posehs fectType = neTuple();
                hv_o_DefectType[100fectType = neTuple();
                hv_o_D     on(hohs fectType = neTuple();
                hv_o_D     posehs fectType = neTuple();
                hv_o_DefectType[101fectType = neTuple();
                hv_o_DefectType[1fectType = neTuple();
                hv_o_DefectType[1   HOpefectType = neTuple();
                hv_o_DefectT      1.1fectType = neTuple();
                hv_o_DBi
     tvBondContour,_idx + 1);
                if (
     {
   3vBondContour,_idx + 1);
                if (
     {
   4] = 29;
    _idx + 1);
                if (
          6] = 29;
    _idx + 1);
                if (
          4] = 29;
    _idx + 1);
                if (1, o
   ] = 29;
    _idx + 1);
                if (1, o
   hs fectType = neTuple();
                hv_o_DBi
     2fectType = neTuple();
                hv_o_D PosTBi
01] = 29;
    _idx + 1);
                if (1, o
   NewfectType = neTuple();
                hv_o_DBi
     3fectType = neTuple();
                hv_o_D PosTBi
10       hv_Refalue[hv_idx] = new HTupleVector(1, o    测区vBondContour,_idx + 1);
                if (  =     2测区vBondContour,_idx + 1);
                if (  =     T] = 29;
    _idx + 1);
                if ( = g2    T] = 29;
    _idx + 1);
                if ( = gDevNewvBondContour,_idx + 1);
                if (  =     A :] = 29;
    _idx + 1);
                if ( = g tA :] = 29;
    mg**************************************************************
(-1));
 //      ();
      i_ (hs )).Tu******,gs,
  ，每䒌v_o_ErrSp  //*();
           像_idx = .Tupl   HTu      ew HOorSet.AffineTransPoint2d(hv_i_HomMatMomg**************************************************************
ratorSet.at   _D               ho_Regionning.Disposho_ivec_o_Defect"bytghbor");
     c        HOp通道    ct(Tupouchcto(n" ExpTmpOutE      Con_            = -2Ic = Idx._RefR         1        hv_o_ErrCode = -1;
t _o_Bonnca    = -2Ic = Idx._RefR         2))        hv_o_t _o_Bonnca    = -2Ic = Idx._RefR         ErrCode = -1;
3                ho__sCopyObj(1, -1);pty";
                ho_EmptyFaimage_reduce.Di  = -2Ic = Idx             ho_ConnectedRegif ( c域
   pectRegs.DispdContour, hvf (= -2Ic = pectRegs.DispdContour, hvho_D PosTpectRegs.DispdContour, hvho_D PosT1pectRegs.DispdContour, hvho_D PosT2pectRegs.DispdContour, hvho_D PosT3pectRegs.DispdContour, hvho_D = g umArr      // o_ErrCode: 错ie = g2 umArr      // o_ErrCode: 错误e (hsOI        HOperatorSet.Reduif ( = g umPonv      // o_ErrCode: 错ie = g2 umPonv      // o_ErrCode: 错ie = gArr      // o_ErrCode: 错误e (ho (hs  e     _();

          (hsssssssss                       (_o_     iconic va      量gRE) +      );

          (hs  eout srCode: 错误 ne下限参数
            hv_threshNuo(;
                ho_EmptyFailReg.Dispose(   vg域
       ho_EmptyFailReg.Disposeohv_ = g umpectRegs.Dispose();
      ne = g2 umh ho_EmptyFailReg.Disposeif ( g域
     Ponvh ho_EmptyFailReg.Disposeif (
     {
   Ponvh ho_EmptyFailReg.Disposeif (
          Ponvh ho_EmptyFailReg.Disposeif (Muti     pectRegs.Dispose();
      ne = g um--pectRegs.Dispose();
     hv_ = g2 um--pectRegs.Dispose();
     hv_ = g    pectRegs.Dispose();
     hv_ = g2    pectRegs.Dispose();
     v_
          1pectRegs.Dispose();
     v_ = gDevh ho_EmptyFailReg.Dispose v_ = g           HOperatorSet.Reducf ( eckomg        HOperatorSet.Reducf (NewMuti     pectRegs.Dispose();
     hv_ = g    Ponvh ho_EmptyFailReg.Disposeif (
    o_ErrC1  ho_EmptyFailReg.Dispose(  h1, oon(hopectRegs.Dispose();
         ho__InspectRegs.Dispose();
     or(1, o    Byt pectRegs.Dispose();
     or(1, o    on(hopectRegs.Dispose();
         ho_    posepectRegs.Dispose();
         ho_
   Ponv  ho_EmptyFailReg.Dispose(  h1, oon(hoPonv  ho_EmptyFailReg.Dispose(  h1, out hPonvpectRegs.Dispose();
     or(1, o    on(hoPonvpectRegs.Dispose();
     or(1, o    ut hPonvpectRegs.Dispose();
     or(
            HOperatorSet.GenEmptyObj(ofif  PosT测区1OperatorSet.GenEmptyObj(oif  on(hohs OperatorSet.GenEmptyObj(ofif  posehs 
                    ho_Io_DefectType[100
                    ho_Io_D     on(hohs 
                    ho_Io_D     posehs 
                    ho_Io_DefectType[101
                    ho_Io_DefectType[1
                    ho_Io_DefectType[1   HOperatorSet.GetImageSize(ho_ig.D            1.1
                    ho_mg.DBi
     t  ho_EmptyFailReg.Dispose(  h
     {
   3  ho_EmptyFailReg.Disposee  h
     {
   4pectRegs.Dispose();
     hv_
          6pectRegs.Dispose();
    Ahv_
          4pectRegs.Dispose();
     ); ho_
   pectRegs.Dispose();
    if (1, o
   hs 
                    ho_mg.DBi
     2pectRegs.DispdContour, hvho_D PosTBi
01pectRegs.Dispose();
    if (1, o
   New
                    ho_mg.DBi
     3pectRegs.DispdContour, hvho_D PosTBi
10pectRegs.Dispose();
     or(1, o    参数
            hv_threshNuo(;  =     2测区
            hv_threshNuo(;  =     TpectRegs.Dispose();
     hv_ = g2    TpectRegs.Dispose();
     hv_ = gDevNew
            hv_threshNuo(;  =     A :h ho_EmptyFailReg.Dispose v_ = g   A :h ho_EmptyFailReg.Dispose t(
  = ppectRegs.Dispose();
    Aht(
  = Arro_BpectRegs.Dispspose();
     ，-2-代表未p}meme_Indices.(n" ExpTmpOutE      Con_             c域
   Idx._RefR         1        hv_o_ErrCode = -1;
t _o_Bonnca     c域
   Idx._RefR         2))        hv_o_t _o_Bonnca     c域
   Idx._RefR         ErrCode = -1;
3                ho__sCopyObj(1, -1);pty";
                ho_EmptyFaimage_reduce.Di   c域
   Idx             ho_ConnectedRegif ( c域
   pectRegs.DispdContour, hvf (= -2Ic = pectRegs.DispdContour, hvho_D PosTpectRegs.DispdContour, hvho_D PosT1pectRegs.DispdContour, hvho_D PosT2pectRegs.DispdContour, hvho_D PosT3pectRegs.DispdContour, hvho_D = g umArr      // o_ErrCode: 错ie = g2 umArr      // o_ErrCode: 错误e (hsOI        HOperatorSet.Reduif ( = g umPonv      // o_ErrCode: 错ie = g2 umPonv      // o_ErrCode: 错ie = gArr      // o_ErrCode: 错误e (ho (hs  e     _();

          (hsssssssss                       (_o_     iconic va      量gRE) +      );

          (hs  eout srCode: 错误 ne下限参数
            hv_threshNuo(;
                ho_EmptyFailReg.Dispose(   vg域
       ho_EmptyFailReg.Disposeohv_ = g umpectRegs.Dispose();
      ne = g2 umh ho_EmptyFailReg.Disposeif ( g域
     Ponvh ho_EmptyFailReg.Disposeif (
     {
   Ponvh ho_EmptyFailReg.Disposeif (
          Ponvh ho_EmptyFailReg.Disposeif (Muti     pectRegs.Dispose();
      ne = g um--pectRegs.Dispose();
     hv_ = g2 um--pectRegs.Dispose();
     hv_ = g    pectRegs.Dispose();
     hv_ = g2    pectRegs.Dispose();
     v_
          1pectRegs.Dispose();
     v_ = gDevh ho_EmptyFailReg.Dispose v_ = g           HOperatorSet.Reducf ( eckomg        HOperatorSet.Reducf (NewMuti     pectRegs.Dispose();
     hv_ = g    Ponvh ho_EmptyFailReg.Disposeif (
    o_ErrC1  ho_EmptyFailReg.Dispose(  h1, oon(hopectRegs.Dispose();
         ho__InspectRegs.Dispose();
     or(1, o    Byt pectRegs.Dispose();
     or(1, o    on(hopectRegs.Dispose();
         ho_    posepectRegs.Dispose();
         ho_
   Ponv  ho_EmptyFailReg.Dispose(  h1, oon(hoPonv  ho_EmptyFailReg.Dispose(  h1, out hPonvpectRegs.Dispose();
     or(1, o    on(hoPonvpectRegs.Dispose();
     or(1, o    ut hPonvpectRegs.Dispose();
     or(
            HOperatorSet.GenEmptyObj(ofif  PosT测区1OperatorSet.GenEmptyObj(oif  on(hohs OperatorSet.GenEmptyObj(ofif  posehs 
                    ho_Io_DefectType[100
                    ho_Io_D     on(hohs 
                    ho_Io_D     posehs 
                    ho_Io_DefectType[101
                    ho_Io_DefectType[1
                    ho_Io_DefectType[1   HOperatorSet.GetImageSize(ho_ig.D            1.1
                    ho_mg.DBi
     t  ho_EmptyFailReg.Dispose(  h
     {
   3  ho_EmptyFailReg.Disposee  h
     {
   4pectRegs.Dispose();
     hv_
          6pectRegs.Dispose();
    Ahv_
          4pectRegs.Dispose();
     ); ho_
   pectRegs.Dispose();
    if (1, o
   hs 
                    ho_mg.DBi
     2pectRegs.DispdContour, hvho_D PosTBi
01pectRegs.Dispose();
    if (1, o
   New
                    ho_mg.DBi
     3pectRegs.DispdContour, hvho_D PosTBi
10pectRegs.Dispose();
     or(1, o    参数
            hv_threshNuo(;  =     2测区
            hv_threshNuo(;  =     TpectRegs.Dispose();
     hv_ = g2    TpectRegs.Dispose();
     hv_ = gDevNew
            hv_threshNuo(;  =     A :h ho_EmptyFailReg.Dispose v_ = g   A :h ho_EmptyFailReg.Dispose t(
  = ppectRegs.Dispose();
    Aht(
  = Arro_BpectRegs.Dispspose();
     ，-2-代表未p}meme_Indices. ca ctVae();befectValue：法f ( c域
   pectRegs.DispdContour,_idx + 1);
                if ( c域
   _BondContour,f (= -2Ic = pectRegs.DispdContour,_idx + 1);
                if (= -2Ic = _BondContour,矩阵
    dCol0-pening.Di
    dC<ol;    Hut _o_Bonncat(      gioeiDispos
       
                   );   oI {v_    ening.Di
    dCrn;点       {spdContour, hvho_D PosTpectRegs.DispdContour, hvh_idx + 1);
 trolI        if (     , t(      gioeiDispos_Region   I {v_
                .            {
   Ch  ng(f (     , 1] =   Ch  ngo_ErrCode: 错误tches, oout _o_Bonnca   Ch  ngEmptyF    hv3izing";
 0))).TupleOr({spdContour, hvhationI    t  ho_EmptyFonI    2  ho_EmptyFonI    3  ho_EmptyFailReg.Dispose();.            {Decot2 //3(f (     ,    if (     t;ond=   
    2;ond=   
    3   e                   yFailReg.Dispose();.Len = new HTuple(hvec_Elements.Length);
                            hvec{spdContour, hvhatio rsiot(
  = poxyour, out (n      {




          
 ho_RegionUnio    = "sadiuvnuodel(ho_inspect         ho__InspectRe     tv  HOperatorSet.ReduceDomain(ho_i_Image1_inspect         ho__InspectRe     etr_idx = hvo2_inspect         ho__InspectRe     3         ho_RegionUnion. 执        ion. 执        ion.     "column")).Tupl{ailReg.Dispose();.Len = new HTuple(hvec_Elements.Length);
                            hvec{spdContour, hvhatio rsiot(
  = poxyour, out (n      {




          
 ho_RegionUnio    = "sadiuvnuodel(ho_inspect         ho__InspectRe     v  HOperatorSet.ReduceDomain(ho_i_Image1_inspect         ho__InspectRe     tr_idx = hvo2_inspect         ho__InspectRe              ho_RegionUnion. 执        ion. 执        ion. Len = new HTuple(hvec_Elements.Length);
                            {spdContour, hvhatiom);wv__Diffose();
                ho_All初
            ho_o_LiIc域
    B t(
  = p[ //Ic域
   Idx-, o.O胶         {
    (-_o_M  //
     f
  量工_Co   //f ( c域
   pectRegs.DispdContour,rCode: f ( c域
   v_curElementsLen - 1);
         }        ion. Len = new HTuple(hvec_Elements.Length);
                            {spdContour, hvhatiom);wv__Diffose();
                ho_All初
            ho_o_Li= -2Ic =  B t(
  = p[ //= -2Ic = Idx-, o.O HTupleVector(new HTuple(hv_Matches.TupleSDispdContour,rCode: f (= -2Ic = pectRegs.DispdContour,hvrCode:f (= -2Ic = v_curElementsLen - 1);
         }        i}        ige                  spdContour,   c      - 1);
                 ho__RefReg.Dispo] 1 nRad
          so        
            LxpTmpO胶         {       (b ,{       (bxpTmpODispdContour,s  整Ponvle((   (bxpTmpO-,   LxpTmpOr  HObject ho__Int区都Ponvle((   (b -,   L误 r  HObject ho__In_idx + 1);
   t指定重炣测区，则整个检测区都作为非重点   rs         pectRegs.DispdContour,_idx + 1);
                if (rs         _BondContour,f (gi
     pectRegs.DispdContour,_idx + 1);
                if (rs
     _BondContour,ninew HT, hoefectValue：法o_D = g umArr      // o_ErrCode: _idx + 1);
                if ( = g umArrvBondContour,e = g2 umArr      // o_ErrCode: _idx + 1);
                if ( = g2 umArrvBondContour,Len = new HTuple(hvec_Elements.Length);
                        {spdContour, hvheCont  = Arro_Bt, 
 ho_RegionUnio    = "sadiuv_ ouchMea HT}        i            {
            TIni__Img1] =   _Dii;hv_Indices.            {Te, hoTupleEqual(_Disi0         _     Set   v_ ouchMea HTs   ic va胶   //))0);
                ho_o_FailRegs.Di;hv_Indices. fineTrColFag);1e = -1_Di_ ouchMea HThv_Colum       ;1e =Object ho__In矩阵
    sOI  2Img: FramesOI HTuple  (hs  e  ;1
          d);   
    sOI  g: FramesOI Teater(hvhv_Epo  51             {spdContour, hvhe (hsOI        HOperatorSet.Redui            {               TIni__Img1] = ne (hsOI     
   [sOIOperatorSet.Reduc//easureFlag = hv_o_Measure (测 = g um  '  al')eratorSet.Reduc//easureFlag = hv_o_Measure (测 = g2 um  '  al')eratorSet.Reducf ( = g umPonv      // o_ErrCode: 错i_idx + 1);
    测pleEqu1] = ne = g umPonv     alH,,s  整Ponvcat区都PonvDispose();
     hv_ = g2 umPonv      // o_ErrCode: 错i_idx + 1);
    测pleEqu1] = ne = g2 umPonv     alH,,s  整Ponvcat区都PonvDispose();
     hv_ = gArr      // o_ErrCode: : _idx + 1);
                if ( = gArrvBondContour,    矩阵
    gioeiCol -pening.Di
    gioeiC<ol;    Ht _o_Bonncat(      gioeiDispos
       
                h));   
    gioeiColening.Di
    gioeiCrn;点       = nc{spdContour, hvhationI    t  ho_EmptyFspdContour, hvhatio            {              c域
   ,    if (     t;  
    gioeio_ErrCode: 错误码jo_D PosTpectRegs.DispdContour, hvhject            {             = -2Ic =  B   if (     , t(
    gioeio_ErErrCode: 错误码j   max_o_Defec               ho_All ou图      -1;       hv_Column, o图      -1;       hv_Column, o图,
                    ho_All   , hv_i_Met = out hv_Row, out ow, o     hv_o_ErrC67e = -1hic va胶   ut hv_Row, out      hv_Colum       6;
                    ho矩阵
   [胶 = 2Img: Frame胶 HTuple  (hs  e  t7  r_0;
  6e hv_Relrame胶e = -1Frame胶 Teater(hvhv_Epo  67                 hvec{spdContour, hvhatio rsio (ho (hs  e     _();

          (hsceDo                {                c va   spt   if ( (hg.Di = "ag -1Frame胶量g
          (hsceDo    //It_Thres := '_t   1'
          (hsceDo    //胶aram( := 'D:/Pru  s/JSR164254SA-Obj(dx), h/胶as/'
          (hsceDo    //geS  rsSet := 'D:/Pru  s/JSR164254SA-Obj(dx), h/geS  r/'
          (hsceDo    ureResult.TupleSelect(hv_idf (     , tne (hsOI     银胶aram(h  //geS  rsSet.
          (hsceDo        具 =It_Thres _   if   _t     HTuple=1]工具，并刈指定类型，支o               ho_Regihv_o_D      表     ho_Re          (hsssssssss                       (_o_     ceDo                {ondParspspose();                hv_o_D_o_Me           ,if   _t     HTuple=
          (hsceDo        );
            HOperatorSet.GenEmptyObj(ougihv_o_D      ogyHaBondCol,
             iconic va      量gRE) +      )ceDo                {ondParspspose();      (hg.Di = "ag    if  g.Di = "agf   _t     HTuple=
          (hsceDo        );
            HOperarara       (hs  eFlag _();

          (hs  eout srCode: 错误码ject  量
               eg.Di = "ageS  rsbjectParam(hv80p  y  (hs  e = 0_1_cessful";
       = "e();的;错e,o  = "ageS  rs   = at (ches, o.Tupl ne下限参数
            hv_threshNuoeeeeeeee             输入图像
                       h   if (  -1)else
            {
        hv_o__RefReg.Dispose();
                ho_Regionlizing";
 0))).TupleOr(new HT1;{spdContour, hvhatio rsieeee                   // o_FailR);
           //银胶c Dispos_Region -1Frame胶t.Closhv(hvnto           // i_Roeeee                         hv_paraI0.     // o_DefectType：筛选hv(hvnto           // i_Roeeee 的错误类型
            // o_ErrCode选错误区域
            w HTuple(}        i                "column")).TupleConcat({spdContour, hvhatio rsieeee                 ;
           );
           //银胶c Dispos_Region      {




             H -1Frame胶t.Clos                         hv_paraI0.     // o_DefectT      {




             Hout ho_o_FailRegs);
        错误类型
            // o_ErrCode：错误码，显示



 错误区域
            w HTuple(}        i            o__RefReg.                       HObject ExpTmpOutVar_0;
      a，-2 ato             rrrrrrrrrr

                return;
ho_o_FailRegs, out    max_o_De)izing";
 0))).TupleOr(new HT1;{spdContour, hvhatio rsieeee   max_o_Defec;
ho_o_F量eStr = null,      hhhhhhhhhhhhhh ou图      Pos  tx.Tupl
            }
 hhhhhhhhh   图      rge[h量eStr = null,      hhhhhhhhhhhhhh   图,
     开始等量eStr = null,      hhhhhhhhhh}        i        }        i        "e();    H     return;
max_o_Der, HTuple hv_i //银in     izing";
 0))).TupleOr(new {spdContour, hvhatio     out HT_     Set   //=r)
        {




         /ack_     Set   //_ ExpTmpOTmpOr_0
          x    outAack_     Set   [  
    sOI-, out t HT_     Set   Dispos_Region   I {v_sOI-, )r  HObject ho__Inspeeeeeeeeee             HTuple  (hs  e   re ou图   图   ,h   图,
   ndCol = new HTuple(), hv_Return;
           HTupleex = hvTyoncat( hv_i     (;
                ho_EmptyFailReg.Dispose(ceDo                {ondParspspoI);
         t;     ;
              ,      HTuple ndCol = new HTuple(), hv_Re);
            HO否存在，2.再阈值刈//HTuple] = sss    
   速范围进行测
   eeee   vg域
       ho_EmptyFailReg.Dispose();
   e             输入图像
            //i_BondRe  loseOrOpen__Bond=   vg域
              hv_o_ErrStr = "paa，2.再阈值刈//c{
   lag = hv_o_ (vg域
     _BI     {
     '  al')eratorSet.Reduc        //addlag =  (v= g um_BI     {
     v= g um_Bout, 0]eratorSet.Reduc        //multlag =  (I     {
     I     {
     I          _Bout, 0]eratorSet.Reduc        //addlag =  (v= g2 um  I          _Bv= g2 um  out, 0]eratorSet.Reduc                    ho__RefReg.Dispo] 1 nRad
          so        
            LxpTmpO胶         {         {       (b ,{       (bxpTmpODispdContour,Reg.Disposeif ( g域
     Ponvh ho_EmptyFailReg.Disposei       i            {ropg.Dispo] 1 nRa          //i_Bon      ( g域
     Ponv胶         {         {   
        LxpTmpO    (b ,{   (bxpTmpODispdContour,Reg.Disposeif (I     {
   Ponvh ho_EmptyFailReg.Disposeiei                    {
                vg域
     Ponvca   if (
     {
   Ponv胶         {         {   alHTuple hv_Sy = nunull;
 h{spdContour, hvhatio    atiom);wv__Diffose();
                ho_All        纵i标             = g umPonvif (
     {
   Ponv    i  //
     f ndCol = new HTuple(), hv_RefBotout, 0];       hv_Column, out Reducf ( = g umPonv      // o_ErrCode: 错i           uf ( = g umPonv, oDiffose();
                ho_AllRegs}        i            f (
          Ponvh ho_EmptyFailReg.Disposei                     Mul          
     {
   Ponvif (
     {
   Ponv    if (
          Ponv ndCol = new HTuple(), hv_Reout, 0];       hv_Column, out R{spdContour, hvhatio    atiom);wv__Diffose();
                ho_All        纵i标             = g2 umPonvif (
          Ponv     i  //
     f ndCol = new HTuple(), hv_RefBotout, 0];       hv_Column, out Reducf ( = g2 umPonv      // o_ErrCode: 错i           uf ( = g2 umPonv, oDiffose();
                ho_AllRegs}        i            {spdContour, hvhatio    atiom);wv__Diffose();
                ho_All        纵i标      ho_o_Li = gArrrt = vg域
     _Bond== -1;
       .Dispose();
               ;hv_ = gArr      // o_ErrCode: :            ;hv_ = gArr, oDiffose();
                ho_AllRegs}             ho_AllRegs"e();    H     return;
c  败              //焊点       = nupleOr(ne{ErrCode: :            ;hv_Muti     pectRegs.Dispose();
        ho_AllRegiveMethod,
    HTuple h
     {
   Ponv    if (Muti         ye(ispose();
        uple(}        i                "column")).TupleConcat({spdContour, hvhatio rsieeee{spdContour, hvhatio rsieeeeatiom);wv__Diffose();
                ho_All            纵i标 pndCh  n(f (Muti       f (
     {
   Ponv    i  //
     f             ho_All            "paa，2.再阈值刈       ;hv_Muti     pectRegs.Dispose();
        ho_AllReg   ;hv_Muti     , oDiffose();
                ho_AllRegs.Di}spose();
        uple(}        i               c        c    HObje   ho_RegionUnion. 执        ion. 执        ion. //还原]o_LightIma = "ageS uf ( = g um      // o_ErrCode: : _idx + 1);
 Tie();
 s
         = g umPonvi1] = ne = g um,{   
        LxpTmpO   ho_RegionUnion. hv_ihv_ihv_ihv_i   整个区都作为非重点检f ( = g2 um      // o_ErrCode: : _idx + 1);
 Tie();
 s
         = g2 umPonvi1] = ne = g2 um,{   
        LxpTmpO   ho_RegionUnion. hv_ihv_ihv_ihv_i   整个区都作为非重点检{spdContour, hvhatiom);wv__Diffose();
                ho_All初
            ho_o_Li = g umArr      omg um,    i  //
     f
  量工_Co   //o_D = g umArr      // o_ErrCode: geS  rsie = g umArri初sStri] = nRadoispose();
   }非重点检{spdContour, hvhatiom);wv__Diffose();
                ho_All初
            ho_o_Li = g2 umArr,.nRa omg2 um,    i  //
     f
  量工_Co   //e = g2 umArr      // o_ErrCode: geS  rsie = g2 umArri初sStri] = nRadoispose();
   }非重点检 t(
  = Arro_B[  
    sOI-, out gionUnio    = "sadple1, oArro_ ouchMea HT}非重点ge 认量工具索引w HTup,d参hoefectV6      Tul     pErrC"e();    H //Mul  胶胶ing";
 0))).Tupl{spdContour, hvhxpTmpO内      trol  //*************g, HTuple hv_i_tia_胶   //) -1_Di砉量eStr = null,    }非重点    "column")).{spdContour, hvhxpO内ontour有trolc_t((h***********g, HTuple hv_i_       o_inspectImage);
_     Set            _ um] = 29;
       !           {
           S败         //M       Setizing";
 0))).TupleOr({spdContour, hvh_Cpty";
                ho_EmptyFailReispose();
  atohv       at
trll", ((new"    ho_RegionUnion. f ( c域
   pectRegs.DispdContour,rCode: f (= -2Ic = pectRegs.DispdContour,hvrCode:f (     pectRegs.Dispose();
        hnI    t  ho_EmptyFspdContour, hvhationI    2  ho_EmptyFg, HTuple hv_i_DilanI    3  ho_EmptyFailReg.Dispose();.o_D = g umArr      // o_ErrCode: geS  rsie = g2 umArr      // o_ErrCode: geS  rsie (hsOI        HOperatorSet.Reduieducf ( = g umPonv      // o_ErrCode: 错i    f ( = g2 umPonv      // o_ErrCode: 错i    hv_ = gArr      // o_ErrCode: :     o (ho (hs  e     _();

          (hsceDossssssss                       (_o_     ceDoiconic va      量gRE) +      )ceDo;

          (hs  eout srCode: 错误码j ne下限参数
            hv_threshNuoeeee(;
                ho_EmptyFailReg.Dispose(ceDo   vg域
       ho_EmptyFailReg.Dispose();
f ( = g um      // o_ErrCode: : ho_Ahv_ = g2 umpectRegs.Dispose();
         f ( g域
     Ponvh ho_EmptyFailReg.Disposei    f (I     {
   Ponvh ho_EmptyFailReg.Disposeiei  f (
          Ponvh ho_EmptyFailReg.Disposei    hv_Muti     pectRegs.Dispose();
        h ne = g um--pectRegs.Dispose();
     ho_Ahv_ = g2 um--pectRegs.Dispose();
         hv_ = g    pectRegs.Dispose();
     , hvhv_ = g2    pectRegs.Dispose();
         v_
          1pectRegs.Dispose();
     , hvhv_ = gDevh ho_EmptyFailReg.Dispose out v_ = g           HOperatorSet.ReduceDo f ( eckomg        HOperatorSet.Reduceducf (NewMuti     pectRegs.Dispose();
         hv_ = g    Ponvh ho_EmptyFailReg.Disposeieeee  h
    o_ErrC1  ho_EmptyFailReg.Dispose();
  h1, oon(hopectRegs.Dispose();
             ho__InspectRegs.Dispose();
         or(1, o    Byt pectRegs.Dispose();
         or(1, o    on(hopectRegs.Dispose();
         or(1, o    _InspectRegs.Dispose();
         or(1, o
   Ponv  ho_EmptyFailReg.Dispose(ose(  h1, oon(hoPonv  ho_EmptyFailReg.Dispose(ose(  h1, out hPonvpectRegs.Dispose();
         or(1, o    on(hoPonvpectRegs.Dispose();
         or(1, o    _InsPonvpectRegs.Dispose();
         or(
            HOperatorSet.GenEmptyObj(ofj(ofif  PosT测区1OperatorSet.GenEmptyObj(o  ifif  on(hohs OperatorSet.GenEmptyObj(octR if  posehs 
                    ho_Iho_Io_DefectType[100
                    ho_Iho_Io_D     on(hohs 
                    ho_Iho_Io_D     posehs 
                    ho_Iho_Io_DefectType[101
                    ho_Iho_Io_DefectType[1
                    ho_Iho_Io_DefectType[1   HOperatorSet.GetImageSize(ho_iceImg.D            1.1
                    ho__IcSug.DBi
     t  ho_EmptyFailReg.Dispose(eeee  h
     {
   3  ho_EmptyFailReg.Dispose();
  h
     {
   4pectRegs.Dispose();
         v_
          6pectRegs.Dispose();
         v_
          4pectRegs.Dispose();
         v_ ho_
   pectRegs.Dispose();
    i   if (1, o
   hs 
                    ho_mho_mg.DBi
     2pectRegs.DispdContour, hvh hvho_D PosTBi
01pectRegs.Dispose();
    i   if (1, o
   New
            hv_threshNuoho_mg.DBi
     3pectRegs.DispdContour, hvh hvho_D PosTBi
10pectRegs.Dispose();
         or(1, o    参数
            hv_threshNuoeeee(;  =     2测区
            hv_threshNuoeeee(;  =     TpectRegs.Dispose();
     ho_Ahv_ = g2    TpectRegs.Dispose();
     ho_Ahv_ = gDevNew
            hv_threshNuoeeee(;  =     A :h ho_EmptyFailReg.Dispose ose v_ = g   A :h ho_EmptyFailReg.Dispose  se t(
  = ppectRegs.Dispose();
    Aho_Aht(
  = Arro_BpectRegs.Dispspose();
         ，-2-代表未p
   }非重点检 out HT_     Set   //=r)
        {




  ack_     Set   //_ ExpTmpOTmpOr_0
          xack_     Set   ,  = "    Suple hv_Sy = nunhv_ = gArr      // o_ErrCode: : _idx + 1);
                if ( = gArrvBondContour,    //easureFlag = hv_o_Measure (测 = g um--  '  al')eratorSet.Reduc//easureFlag = hv_o_Measure (测 = g2 um--  '  al')eratorSet.Reduc ne = g um--pectRegs.Dispose();
     _idx + 1);
    测pleEqu1] = ne = gale--     alH_i   整个区都作为非重点检f ( = g2 um--pectRegs.Dispose();
     _idx + 1);
    测pleEqu1] = ne = g2ale--     alH_i   整个区都作为非重点检               47参 -1_Di砆, out hv_Row, out ohv_Colum        4;
                  TupleAbsi      .Dii 
            HOs4;,vm       s4;EmptyOblobErrCode, out hv__BlobEs47                 {spdContour, hvhatiof ( = g um      // o_ErrCode: : ho_A            {              = g umArr区，v_ = g um  .Dispose(ispose();
         hv_ = g2 umpectRegs.Dispose();
                     {              = g2 umArr区，v_ = g2 um  .Dispose(ispose();
        e{spdContour, hvhatio rsim);wv__Diffose();
                ho_Alls.Di初
                   = g um--      omg um,    i  //
     f对胶         {
    (-2)) 
  量工_Co   //eeee ne = gale--pectRegs.Dispose();
            hhv_ = g um-- =
urElementsLen - 1);
             }spose();
        e{spdContour, hvhatio rsim);wv__Diffose();
                ho_Alls.Di初
                   = g2 um--      omg2 um,    i  //
     f对胶         {
    (-2)) 
  量工_Co   //eeee ne = g2ale--pectRegs.Dispose();
            hhv_ = g2 um-- =
urElementsLen - 1);
             }spose();
        eLen = new HTuple(hvec_Elements.Length);
                               e{spdContour, hvhatio rsim);wv__Diffose();
                ho_Alls.Di初
      ment.Insert(n = gArrrt t(
  = Arro_B[  i new HTupleVector(new HTuple(hv_Matches.TupleSelecDispose();
            hhv_ = gArr      // o_ErrCode: :        hhv_ = gArr =
urElementsLen - 1);
             }spose();
     }spose();
     o_D = g umArr      // o_ErrCode: geS iveMethod,
    HTuple h = g um--  R   hv_ = g umArr    ye(ispose();
     e = g2 umArr      // o_ErrCode: geS iveMethod,
    HTuple h = g2 um--  R   hv_ = g2 umArr    ye(ispose();
     pt(
  = Arro_B[0out gionUnio    = "sadhv_ = gArr] = 29;
       tia_胶   //)1_ ouchMea HT}spose();
 ge                  efectVrs         和rs
     l     pErrC               60 =otia_胶   /               hv_Colum        60 =o             TupleAbsi      .Dii 
            HOs60,vm       s60EmptyOblobErrCode, out hv__BlobEs60E
 0))).Tupl{spdContour, hvhtches, oout _o_Bonncaat HT_     Set   Dispos_Region   ho_RegionO      //M       Setizing";
 0))).TupleOr({spdContour, hvh_Cpty";
                ho_EmptyFailReispose();
  atohv       at
trll", ((new"    ho_RegionUnion. f ( c域
   pectRegs.DispdContour,rCode: f (= -2Ic = pectRegs.DispdContour,hvrCode:f (     pectRegs.Dispose();
        hnI    t  ho_EmptyFspdContour, hvhationI    2  ho_EmptyFg, HTuple hv_i_DilanI    3  ho_EmptyFailReg.Dispose();.o_D = g umArr      // o_ErrCode: geS  rsie = g2 umArr      // o_ErrCode: geS  rsie (hsOI        HOperatorSet.Reduieducf ( = g umPonv      // o_ErrCode: 错i    f ( = g2 umPonv      // o_ErrCode: 错i    hv_ = gArr      // o_ErrCode: :     o (ho (hs  e     _();

          (hsceDossssssss                       (_o_     ceDoiconic va      量gRE) +      )ceDo;

          (hs  eout srCode: 错误码j ne下限参数
            hv_threshNuoeeee(;
                ho_EmptyFailReg.Dispose(ceDo   vg域
       ho_EmptyFailReg.Dispose();
f ( = g um      // o_ErrCode: : ho_Ahv_ = g2 umpectRegs.Dispose();
         f ( g域
     Ponvh ho_EmptyFailReg.Disposei    f (I     {
   Ponvh ho_EmptyFailReg.Disposeiei  f (
          Ponvh ho_EmptyFailReg.Disposei    hv_Muti     pectRegs.Dispose();
        h ne = g um--pectRegs.Dispose();
     ho_Ahv_ = g2 um--pectRegs.Dispose();
         hv_ = g    pectRegs.Dispose();
     , hvhv_ = g2    pectRegs.Dispose();
         v_
          1pectRegs.Dispose();
     , hvhv_ = gDevh ho_EmptyFailReg.Dispose out v_ = g           HOperatorSet.ReduceDo f ( eckomg        HOperatorSet.Reduceducf (NewMuti     pectRegs.Dispose();
         hv_ = g    Ponvh ho_EmptyFailReg.Disposeieeee  h
    o_ErrC1  ho_EmptyFailReg.Dispose();
  h1, oon(hopectRegs.Dispose();
             ho__InspectRegs.Dispose();
         or(1, o    Byt pectRegs.Dispose();
         or(1, o    on(hopectRegs.Dispose();
         or(1, o    _InspectRegs.Dispose();
         or(1, o
   Ponv  ho_EmptyFailReg.Dispose(ose(  h1, oon(hoPonv  ho_EmptyFailReg.Dispose(ose(  h1, out hPonvpectRegs.Dispose();
         or(1, o    on(hoPonvpectRegs.Dispose();
         or(1, o    _InsPonvpectRegs.Dispose();
         or(
            HOperatorSet.GenEmptyObj(ofj(ofif  PosT测区1OperatorSet.GenEmptyObj(o  ifif  on(hohs OperatorSet.GenEmptyObj(octR if  posehs 
                    ho_Iho_Io_DefectType[100
                    ho_Iho_Io_D     on(hohs 
                    ho_Iho_Io_D     posehs 
                    ho_Iho_Io_DefectType[101
                    ho_Iho_Io_DefectType[1
                    ho_Iho_Io_DefectType[1   HOperatorSet.GetImageSize(ho_iceImg.D            1.1
                    ho__IcSug.DBi
     t  ho_EmptyFailReg.Dispose(eeee  h
     {
   3  ho_EmptyFailReg.Dispose();
  h
     {
   4pectRegs.Dispose();
         v_
          6pectRegs.Dispose();
         v_
          4pectRegs.Dispose();
         v_ ho_
   pectRegs.Dispose();
    i   if (1, o
   hs 
                    ho_mho_mg.DBi
     2pectRegs.DispdContour, hvh hvho_D PosTBi
01pectRegs.Dispose();
    i   if (1, o
   New
            hv_threshNuoho_mg.DBi
     3pectRegs.DispdContour, hvh hvho_D PosTBi
10pectRegs.Dispose();
         or(1, o    参数
            hv_threshNuoeeee(;  =     2测区
            hv_threshNuoeeee(;  =     TpectRegs.Dispose();
     ho_Ahv_ = g2    TpectRegs.Dispose();
     ho_Ahv_ = gDevNew
            hv_threshNuoeeee(;  =     A :h ho_EmptyFailReg.Dispose ose v_ = g   A :h ho_EmptyFailReg.Dispose  se t(
  = ppectRegs.Dispose();
    Aho_Aht(
  = Arro_BpectRegs.Dispspose();
         ，-2-代表未p
   }非重点检f ( = g um      // o_ErrCode: :             {              = g umArr区，v_ = g um  .Dispose(ispose();
     hv_ = g2 umpectRegs.Dispose();
                 {              = g2 umArr区，v_ = g2 um  .Dispose(ispose();
     (;  =     pectRegs.Dispose();
                 { ple();
      omg um,    i    = g    eaout / a HT_     Set   Dispos_Region      {




  acki)P  0];       hv_Columhv_ = g2    pectRegs.Dispose();
     aras = new HTuple();
      omg2 um,    i    = g2    eaout / a HT_     Set   Dispos_Region      {




  acki)P  0];       hv_Columhv_
          1pectRegs.Dispose();
                  Mul           = g    eas  = g    ea  HTupl
          1对胶         {
  0];       hv_Columhv_ = gDevh ho_EmptyFailReg.Dispose 数均包含在该变 = g2    eaupl
          1  HTupl = gDev对(0];       hv_Columv_ = g           HOperatorSet.Reduc            { qr           = gDev，v_ = g t __ErrMeasureStr;(n" ExpTmyHa(v sRevec_ing";
 0))).TupleOr({spdContour, hvh_Ce：法   k_nnew HTratorSet.AffspdContour, hvh_Ce       Obj( 亮rat求orSet.AffspdContour, hvh_C            {
   Ch  ng(f (Muti              Im    olog           {
  C               77 =otiaIm    /  2ut hv_Row, out      hv_Colum        77 =o       ho_EmptyFailRe量      le(), hv_Colum
 to__p_v hv_ght7;,vm       s7;EmptyOb  ius.TupleGreater(hvhv_Epo  s7;E                   e{spdContour, hvhatio rsif ( eckomg        HOperatorSet.Reduceduc_C            { eckN(f (Muti             ( eckomg, 0)
ar_0;v__ErrMeasureStr;

  hv_o__RefReg.Dispose();
   reaterElem(h(2     //焊点       = nupleOr(ne{ErrCode: :            ;hv_NewMuti     pectRegs.Dispose();
         out m( =iveMethod,
    HTuple h eckomg,       (NewMuti         ye(ispose();
        uple(}        i                "column")).TupleConcat({spdContour, hvhatio rsieeee{spdContour, hvhatio rsieeeeatiom);wv__Diffose();
                ho_All            纵i标 pndCh  n(f (NewMuti       e h eckomg,       //
     f             ho_All            "paa，2.再阈值刈       ;hv_NewMuti     pectRegs.Dispose();
         out m( =   ;hv_NewMuti     , oDiffose();
                ho_AllRegs.Di}spose();
        uple(}        i        }spose();
         hv_ = g    Ponvh ho_EmptyFailReg.Disposeieeeehv_o_ErrStr = "maN(f (NewMuti          i    = g    PonvDispose();
         hv_ = g    pectRegs.Dispose();
     , hv_idx + 1);
 Tie();
 s
         = g    Ponv     i    = g    ,{   
    spose();
        uple(   LxpTmpO hv_ihv_ihv_ihv_i   整个区都作为非重点检淥_Ce 炼ailReg.Disposeieeee  h
    o_ErrC1  ho_EmptyFailReg.Dispose();
aras = new HTuple();
      omg   ho_o_MeasureContours1yHa(vRevec_hv__Re胶         {
    (-
  量工_Co   //e = gon(hopectRegs.Dispose();
         w HTuple();
             = g    ea     // o_ErrC1  HTupl = gon(ho对胶         {
    (-
  量工_Co   //{spdContour, hvhatio rsim);wv__Diffose();
                ho_Alls.Di初
      men
                v      if ((int)(new HTuple((,sull, hv_Indices = nullv_Sy = n e = gon(hopectRegs.Dispose();
         = n e = gon(ho =
urElementsLen - 1);
             }spose();
             ho__InspectRegs.Dispose();
         数均包含在该变 = g    ea     // o_ErrC1  HTupl = ggs.Dis对胶         {
    (-
  量工_Co   //{spdContour, hvhatio rsim);wv__Diffose();
                ho_Alls.Di初
      men
                v   gs.Dis(int)(new HTuple((,sull, hv_Indices = nullv_Sy = n     ho__InspectRegs.Dispose();
         = n     ho__Ins =
urElementsLen - 1);
             }spose();
         //SurfacerSet.Affr";正负0.5eto__Ins     HObjspe滤spose();
         or(1, o    Byt pectRegs.Dispose();
         初
      men
                v       ea  HTupl1, o    Byt ,sull, hv_Indices = nullv_Sy upl1, o    on(ho  ho_EmptyFailReg.Dispose();
aras = new HTuple();
      omg    Byt ,s  HTupl1, o    on(ho5, 0];       hv_Column, oor(1, o    _InspectRegs.Dispose();
         aras = new HTuple();
      omg    Byt ,s  HTupl1, o    gs.Dis05, 0];       hv_Column, o//easureFlag = hv_o_Measure (测 = g
     '  al')eratorSet.Reduc    //easureFlag = hv_o_Measure (测 = g um  '  al')eratorSet.Reduceduc//easureFlag = hv_o_Measure (测 = g2 um  '  al')eratorSet.Reduc//HTuple] = sssspose();
    i   if (1, o
   Ponvh ho_EmptyFailReg.Disposeieeeehv_o_ErrStr =   测pleEqu1] = ne = g
   Ponv     alH,,s  整Ponvcat区都PonvDispose();
     educf ( = g umPonv      // o_ErrCode: 错i    _idx + 1);
    测pleEqu1] = ne = g umPonv     alH,,s  整Ponvcat区都PonvDispose();
         f ( = g2 umPonv      // o_ErrCode: 错i    _idx + 1);
    测pleEqu1] = ne = g2alePonv     alH,,s  整Ponvcat区都PonvDispose();
         f ( = gon(hoPonvpectRegs.Dispose();
                     {ropg.Dispo] 1 nRav      if ((intf ( = gon(hoPonv,{   
    spose();
        uple(   LxpTmpO    (b ,{   (bxpTmpODispdContour,Reg.Disp    ho__InsPonvpectRegs.Dispose();
                     {ropg.Dispo] 1 nRav   gs.Dis(int    ho__InsPonv,{   
        LxpTmpO   ho_RegionUnion.        (b ,{   (bxpTmpODispdContour,Reg.Disp    ho_    on(hoPonvpectRegs.Dispose();
                     {ropg.Dispo] 1 nRav       on(ho,s  HTupl1, o    on(hoPonv,{   
    spose();
        uple(   LxpTmpO    (b ,{   (bxpTmpODispdContour,Reg.Disp    ho_    gs.DPonvpectRegs.Dispose();
                     {ropg.Dispo] 1 nRav       gs.Dis(int    ho_    gs.DPonv,{   
    spose();
        uple(   LxpTmpO    (b ,{   (bxpTmpODispdContour,Reg.Disp    ho_Arr      // o_ErrCode: :     Len = new HTuple(hvec_Elements.Length);
                               e{spdContour, hvhatio rsiple1, oArr    t(
  = Arro_B[  i ne.Tup"t,   (v_o_Meutches, o gIdxi   }og           {
  C              210_o_ure_     Set   Dispos_Region      {




      acki)ut hv_Row, out ow, ohv_Colum       210_o_       ho_EmptyFailRe量    spose();
                  210,um       210v_o_Mepose();
                 210v                   e{spdContour, hvhatio rsiple
            HOperatorSet.GenEmptyObj(ofj(of                {              = gArr区，v_
            H               ho_RegionOpening//HTuple] =new HT    
   效率围进行测
   eeee    PosT测区1OperatorSet.GenEmptyObj(o  if                {ropg.Dispo] 1 nRa      ((nePose  v] =    PosT测区1,{   
    spose();
        uple(ple(   LxpTmpO    (b ,{   (bxpTmpODispdContour,Reg.Disp rsiple1on(hohs 
                    ho_Iho_I  ifo_o_MeasureContours = ExpTmpO PosT测区1            ifPonv,{(int  h on(hohs at：0-ureConefecoio,    case 3:
           Less(
  if  posehs 
                    ho_Iho_I   ho_o_MeasureContours = ExpTmpO PosT测区1         gs.DPonv,{(int  h posehs at：0-ureConefecoio,  o_o_MeasureContours.D Less(
 o_DefectType[100
                    ho_Iho_I   ho_o_MeasureCose();2(  h on(hohs tif  posehs           ho__IcSur0
  量工_Co   //eeee//SurfacerSet.Affr";正负0.5eto__Ins     HObjspe滤spose();
         ho_Io_D     on(hohs 
                    ho_Iho_I   ho_o_MeasureContours = ExpTmpO PosT测区1             on(hoPonv,{(int  h     on(hohs at：0-ureConefecoio,    case 3:
           Less(
  if      gs.Dhs 
                    ho_Iho_I   ho_o_MeasureContours = ExpTmpO PosT测区1             gs.DPonv,{(int  h     gs.Dhs at：0-ureConefecoio,  o_o_MeasureContours.D Less(
 o_DefectType[101
                    ho_Iho_I   ho_o_MeasureCose();2(  h     on(hohs t  h     gs.Dhs           ho__IcSur01         hv_o_ErrStr = "paaeasureContours.D Less(
 o_DefectType[1
                    ho_Iho_I   ho_o_MeasureCose();2(  h  ho__IcSur0,      ho__IcSur01          ho__IcSur         hv_o_ErrStr = "paaeasureContours.D Less(
 o_DefectType[1   HOperatorSet.GetImageSize(ho_iceIm   ho_o_MeasureCo   HOpe_LightOrDark, out hv_IsStri (hs     ype[1   HOpeis对GetImageSize(ho_iceIm   hg.D            1.1
                    ho__IcSurfaco_o_MeasureCon     1._LightOrDark, out hv_  {
                       1.1at：0-ureConefecoi3.5             ho__IcSurfacge      考鉍景 n v_o景 n1(hs  ev_o样与原] =相乘());
v_o鉍景  HTu        }
  了           ho__IcSurfacg.DBi
     t  ho_EmptyFailReg.Dispose(eeee   ho_o_MeasureCos     ToBin( (hs           1.1, Stri (hBi
     t;
   
则整Ponv ndCol = new HTuple(), hv_Ret区都PonvDispose();
         eeee  h
     {
   3  ho_EmptyFailReg.Dispose();
    初
      men
                Bi
     t;ond=   
     {
   3     alHTuple hv_Sy = nunull;
 h  h
     {
   4pectRegs.Dispose();
         标、纵i标、
                 PosT测区1  ond=   
     {
   4 ndCol = new HTuple(), hv_Re   alHTuple hv_Sy = nunull;
 h  h
          6pectRegs.Dispose();
         eeee             Mul          
     {
   3,=   
     {
   4 a  HTupl
          6at：0-ureConefecoi对(0];       hv_ColumIcSurfacge riablrs, ho] =片     newple hv_Sy = nunull;
 h{spdContour, hvhatio    atiom);wv__Diffose();
                ho_All        纵i标             = g umPonvif (
          6    i  //
     f ndCol = new HTuple(), hv_RefBotout, 0];       hv_Column, out Reducf ( = g umPonv      // o_ErrCode: 错i           uf ( = g umPonv, oDiffose();
                ho_AllRegs}        i            f (
          4pectRegs.Dispose();
         标             Mul          
          6    
          6    i  h
          4 ndCol = new HTuple(), hv_Reout, 0];       hv_Column, out R{spdContour, hvhatio    atiom);wv__Diffose();
                ho_All        纵i标             = g2 umPonvif (
          4     i  //
     f ndCol = new HTuple(), hv_RefBotout, 0];       hv_Column, out Reducf ( = g2 umPonv      // o_ErrCode: 错i           uf ( = g2 umPonv, oDiffose();
                ho_AllRegs}        i            {spdContour, hvhatio    atiom);wv__Diffose();
                ho_All        纵i标             = g
   Ponvif (
     {
   3     i  //
     f ndCol = new HTuple(), hv_RefBotout, 0];       hv_Column, out Reducf ( = g
   Ponvh ho_EmptyFailReg.Disposeieeee ut hv_Hf ( = g
   Ponv, oDiffose();
                ho_AllRegs}        i            //S] =new HT        i            //s.TupleLength (      ((nePose  d
          so  PosT测区1]eratorSet.Reduc        //dyn -0.39  0. ( PosT测区1  v      if ( on(hohs t1  =    ]eratorSet.Reduc        //dyn -0.39  0. ( PosT测区1  v   gs.Dis posehs  1  o_o_ ]eratorSet.Reduc        //ue();2 ( on(hohs t posehs    ho__IcSur0  量工_Co   //eeee//SurfacerSet.Affr";正负0.5eto__Ins     HObjspe滤spose();
         ho_I//dyn -0.39  0. ( PosT测区1  v       on(ho,s     on(hohs t1  =    ]eratorSet.Reduc        //dyn -0.39  0. ( PosT测区1  v       gs.Dis     posehs  1  o_o_ ]eratorSet.Reduc        //ue();2 (     on(hohs t     posehs    ho__IcSur01]eratorSet.Reduc        //ue();2 (  ho__IcSur0,   ho__IcSur01,   ho__IcSur]eratorSet.Reduc        //d     1._c      (   hvet hv_Iss           1.1, 3.5            ho__IcSurfacge      考鉍景 n v_o景 n1(hs  ev_o样与原] =相乘());
v_o鉍景  HTu        }
  了           ho__IcSurfac//s.    _to_bth (s           1.1, Bi
     t;
   
整个都作2.再阈值刈//c{
   lag = hv_o_ (Bi
     t;
     {
   3  '  al')eratorSet.Reduc//c{
   lag = hv_o_ ( PosT测区1  
     {
   4 a'  al')eratorSet.Reduc//multlag =  (I     {
   3  
     {
   4 a
          6 out, 0]       hv_ColumIcSurfacge riablrs, ho] =片     newple hv_Sy = nunull;
 h//addlag =  (v= g um_BI          6 v= g um_Bout, 0]eratorSet.Reduc        //multlag =  (I          6 I          6 I          4_Bout, 0]eratorSet.Reduc        //addlag =  (v= g2 um  I          4_Bv= g2 um  out, 0]eratorSet.Reduc        //addlag =  (v= g
     I     {
   3  v= g
     out, 0]eratorSet.Reduc    }        i        //还原]o_LightIma = "ageS u   uf ( = g umh ho_EmptyFailReg.Disposeieeee_idx + 1);
 Tie();
 s
         = g umPonvi1] = ne = g um,{   
        LxpTmpO   ho_RegionUnion. on. hv_ihv_ihv_ihv_i   整个区都作为非重点检   uf ( = g2 umh ho_EmptyFailReg.Disposeieeee_idx + 1);
 Tie();
 s
         = g2 umPonvi1] = ne = g2 um,{   
    spose();
        uple(   LxpTmpO hv_ihv_ihv_ihv_i   整个区都作为非重点检淥_Cf ( = g
   h ho_EmptyFailReg.Disposeieeee_idx + 1);
 Tie();
 s
         = g
   Ponvi1] = ne = g
   ,{   
    spose();
        uple(   LxpTmpO hv_ihv_ihv_ihv_i   整个区都作为非重点检淥_Cge riablrs, ho中
  =片   非重点检淥_Cw HTuple();
, -1)x
        loseOrOpen__Bhv_ = g
   ;
         aupla       aa               ho_AllRegs   hvec ectRDispose();
         ni 
 
      re
 HObjose表 h法原]oSet.Aff    
        ountObj(hnsPointReg);_      =片en1 = new]oSet.nsPoinc_o_de2 = n  TupleConcat(
         re
 HObj = (   aa hr  HObject ho__Inspeeeeeehv_ = g
   hs 
                    ho_Iho_Iw HTuple();
urs = ExpTmpO ho_
   ,    i    = g
   hs ;
      re
 HObj             ho_Iho_I//      c =片    = g
              ho_mho_mg.DBi
     2pectRegs.DispdContour, hvh hvho_o_MeasureCos     ToBin( (h = g
   hs ;Stri (hBi
     2;
   
则整个at：0-ureConefeco区都作为非重点检淥_Cf ( PosTBi
01pectRegs.Dispose();
    i   i初
      men
                Bi
     2;ond=   
    Bi
01     alHTuple hv_Sy = nunull; (h = g
   New
            hv_threshNuoeeee             Mul          
    Bi
01  mpO ho_
   ,    i    = g
   Newat：0-ureConefecoout, 0];       hv_Column, o//ountObj(h riablrs, honew] =片   _    g);法原]oSet.AransPoin   hv_threshNuoho_mg.DBi
     3pectRegs.DispdContour, hvh hvho_o_MeasureCos     ToBin( (h = g
   hs ;Stri (hBi
     3   
0
则整个at：0-ureConefeco区都作为非重点检淥_Cf ( PosTBi
10pectRegs.Dispose();
    i   i初
      men
                Bi
     3;ond=   
    Bi
10     alHTuple hv_Sy = nunull; (h = g    参数
            hv_threshNuoeeee             Mul          
    Bi
10eas  = g    ea  HTupl = g    参数at：0-ureConefecoout, 0];       hv_Column, oupl = g    2参数
            hv_threshNuoeeee             Mul          
    Bi
10eas  = g2    ea  HTupl = g    2参数at：0-ureConefecoout, 0];       hv_Column, o// = g
   en ;
0;
      r = "P0       hv_Column, oupl = g    TpectRegs.Dispose();
     ho_Ao_o_MeasureCo  v          = g um      ho_
   Newa  HTupl = g    Tis对胶         {
    (-
  量工_Co   //hv_ = g2    TpectRegs.Dispose();
     ho_Ao_o_MeasureCo  v          = g2 um      ho_
   Newa  HTupl = g2    T仪at：0-ureConefecoout, 0];       hv_Column, oupl = g    pectRegs.Dispose();
         w HTuple();
             = g    参数Tupl = g    Tis  HTupl = g    at：0-ureConefecoout, 0];       hv_Column, oupl = g2    pectRegs.Dispose();
         w HTuple();
             = g    2参数Tupl = g2    Tis  HTupl = g2    at：0-ureConefecoout, 0];       hv_Column, o//      nsPoin   hv_threshNuoho_mg.DI          1pectRegs.Dispose();
    i   i初
      Mul           = g    eas  = g    ea  HTupl
          1对胶         {
    (-0Dispose();
     ho_Ahv_ = gDevNew
            hv_threshNuoeeee数均包含在该变 = g2    eaupl
          1  HTupl = gDevNewa对胶         {
    (-0Dispose();
     ho_Ahv_ = g           HOperatorSet.Reduceduc            { qr           = gDevNewa，v_ = g t __ErrMeasureStr;执        ion. //非         了与大] =    r  Ov_ople()jectP会new HT        i    s  = g    A :h ho_EmptyFailReg.Dispose _idx + 1);
    测pleEqu1] = ne = g    A :     alH_i   整个区都作为非重点检v_ = g   A :h ho_EmptyFailReg.Dispose _idx + 1);
    测pleEqu1] = ne = g   A :     alH_i   整个区都作为非重点检{spdContour, hvhatiom);wv__Diffose();
                ho_All初
          {
       = g    eas  = g    A :     i  //
     f
  量工_Co   //e = g    A :h ho_EmptyFailReg.Dispose ose v_ = g    A :i初sStri] = nRadoispose();
   }非重点检{spdContour, hvhatiom);wv__Diffose();
                ho_All初
          {
       = g   ho ne = g   A :     i  //
     f
  量工_Co   //e = g   A :h ho_EmptyFailReg.Dispose  //e = g   A :i初sStri] = nRadoispose();
   }非重点检{spdContour, hvhatiom);wv__Diffose();
                ho_All初
            ho_o_Ligh         eas  = g    A :     i  //
     f
  量工_Co   //ers               // o_ErrCode: 错 
  ers         i初sStri] = nRadoispose();
   }非重点检{spdContour, hvhatiom);wv__Diffose();
                ho_All初
            ho_o_Ligh
      B    omg   A :     i  //
     f
  量工_Co   //ers
           // o_ErrCode: 错证 
  ers
     v_curElementsLen - 1);
         }        i}        if ( c域
   pectRegs.DispdContour,f (= -2Ic = pectRegs.DispdContour,upl
    pectRegs.DispdContour,upl
    1pectRegs.DispdContour,upl
    2pectRegs.DispdContour,upl
    3pectRegs.DispdContour,upl = g umArr      // o_ErrCode: e = g2 umArr      // o_ErrCode: e (hsOI        HOperatorSet.Rf ( = g umPonv      // o_ErrCode: e = g2 umPonv      // o_ErrCode: e = gArr      // o_ErrCode: e (hic va      量gRE) +   ssssssss                       (_o_ iconic va      量gRE) +   ;

          (hs  eout srCode:     PosT测区  (hs  eout srCode:     PosT            ho_EmptyFailReg.Disp   vg域
       ho_EmptyFailReg.Dispf ( = g umh ho_EmptyFailReg.Dispf ( = g2 umh ho_EmptyFailReg.Dispf ( g域
     Ponvh ho_EmptyFailReg.Dispf (I     {
   Ponvh ho_EmptyFailReg.Dispupl
          Ponvh ho_EmptyFailReg.DispuplMuti     pectRegs.Dispose();
  ne = g um--pectRegs.Dispose();
 hv_ = g2 um--pectRegs.Dispose();
 upl = g    pectRegs.Dispose();
 upl = g2    pectRegs.Dispose();
 g.DI          1pectRegs.Dispose();
 hv_ = gDevh ho_EmptyFailReg.Disphv_ = g           HOperatorSet.Rf ( eckomg        HOperatorSet.Rf (NewMuti     pectRegs.Dispose();
 upl = g    Ponvh ho_EmptyFailReg.Dispupl
    o_ErrC1  ho_EmptyFailReg.Dispupl = gon(ho  ho_EmptyFailReg.Disp    ho__InspectRegs.Dispose();
 or(1, o    Byt pectRegs.Dispose();
            on(hopectRegs.Dispose();
            _InspectRegs.Dispose();
 or(1, o
   Ponvh ho_EmptyFailReg.Dispf ( = gon(hoPonvpectRegs.Dispose();
     ho__InsPonvpectRegs.Dispose();
     ho_    on(hoPonvpectRegs.Dispose();
     ho_    gs.DPonvpectRegs.Dispose();
 ple
            HOperatorSet.GenEmptyOb    PosT测区1OperatorSet.GenEmptyObple1on(hohs 
                    if  posehs 
                    o_DefectType[100
                    o_D     on(hohs 
                    if      gs.Dhs 
                    o_DefectType[101
                    o_DefectType[1
                    o_DefectType[1   HOperatorSet.GetImageSize(g.D            1.1
                    g.DBi
     t  ho_EmptyFailReg.Disp  h
     {
   3  ho_EmptyFailReg.Disp  h
     {
   4pectRegs.Dispose();
   h
          6pectRegs.Dispose();
 f (
          4pectRegs.Dispose();
 f ( = g
   h ho_EmptyFailReg.Disphv_ = g
   hs 
                    g.DBi
     2pectRegs.DispdContour,   
    Bi
01h ho_EmptyFailReg.Disphv_ = g
   New
            hv_thresg.DBi
     3pectRegs.DispdContour,   
    Bi
10pectRegs.Dispose();
     ho_    测区  (hs  eout srCode:     = g    2参数  (hs  eout srCode:     = g    TpectRegs.Dispose();
 hv_ = g2    TpectRegs.Dispose();
 hv_ = gDevNew
            hv_threse = g    A :h ho_EmptyFailReg.Dispe = g   A :h ho_EmptyFailReg.Dispt(
  = ppectRegs.Dispose();
 ht(
  = Arro_BpectRegs.Dispspose();
 ，-2-代表}        //初始化, o.Tuple      ho_Image测区域
            //　oFlag.TupleConcTIni__ImgD( =  (ches, ic va   sple }

       loseOrOpen__Bond= -1;
  __Br                 -1;
  __Br 
        ogyswigyHa(vtour = ho__        //银胶c s_        //orSet.ConvertImageType(ho_ImageSub_        //银in            HOperatMul  胶胶s_        //     gioei _        //银胶aram(hb_        //geS  rsSet.GenEmp具 =It_Thres _        //= -2Ic = Idxu         //Ic域
   Idxub_        //M       Set dogyswigyHa(v sRevec_odogyswigyHa(vRevec_hv__Reu fReg, out hv_Row, out hv
Column, out hv_Phi,
   a[ (hv_id{sp (hv_id        i_HomMatMod2Img: Frame模板到图像的映射矩阵--从模板到检测图像的映射关系
            // i_AdaptiveMethod：局部阈值分Ic域
    B   = -2Ic = eaupl
    le(o  = "ageS  rsion- hv_IcRow)). PosTtType = ,  h
    2Type = ,  h
    3le(o  = "ageS  rsion- hv_IcRow)). = g umArr)). omg2 umArr,.nRa (hsOI  vP        omg um, out h  hv_i_HomMatMod2Img, hv_i  = 2ale_o_Bonncat_i  =  umPonvle(o  =cat_i  = 2 umPonv, out h  hv_i_HomMatMod2Img, hv_i  = Arre.Dispo,分   ic va   , out h      o3t hv_1表该算子Image.Disposssss spage o (hs  e    : 量工_Co      ,Rif  PosT测区le(o  = "ageS  rsion- hv_IcRow)). PosT          , out hrt = vg域
     le(o  =,  h g域
     Ponvle(o  = "ageS  rsion- hv_IcRow)). PosT {
   Ponvle(o  =cat_i
          Ponvle(o  = "ageS  rsiosiohv_IcRow)).Muti     和非重  = ale--从模onncat_i  = 2ale--从模onn "ageS  rsiosiohv_IcRow)). = gM   , out h  = 2    , out h
          1模onn "ageS  rsiosiohv_IcRow)). = gDev, out h B    omg   le(o  = B    eckomg模onn "ageS  rsiosiohv_IcRow)).NewMuti     和非重  =     Ponvle(o  =       // o_ErrC1模onn "ageS  rsiosiohv_IcRow)).  = on(ho, out h         gs.D模onn  =     Byt le(o  = "ageS  rsiosiohv_IcRow)). = g    on(ho, out h             ut h
             = 
   le(o  = "ageS  rsiosiohv_IcRow)). = g
   Ponvle(o  =,w)). = gon(hoPonvle(o  =cat_i  = ut hPonvle(o  = "ageS  rsiosiohv_IcRow)). = g    on(hoPonvle(o  =cat_i  =     ut hPonvle(o  = "ageS  rsiosiohv_IcRow)).
            H, out h,Rif  PosT测区1模onncat_i on(hohs le(o  = "ageS  rsiosiohv_IcRow)).sposehs  e    :,rs = "sadiuv_* 00模onncat_i     on(hohs  e    : "ageS  rsiosiohv_IcRow)).s    ut hhs  e    :,hv_i.Dispose();01模onncat_i.Dispose();模onn "ageS  rsiosiohv_IcRow))..Dispose();   HOpe e    :,(g.D            1.1模onn "ageS  rsiosiohv_IcRow)).Bi
     tType = ,  h
     {
   3le(o  =
     {
   4Type = new HTuple();
 = null)
 
          6, out h
          4Type =        = 
   hs  e    : "ageS  rsiosiohv_IcRow)).Bi
     2, out h
    Bi
01模onncat_i  = 
   New e    : "ageS  rsiosiohv_IcRow)).Bi
     3, out h
    Bi
10le(o  =cat_i  =     测区le(o  = "ageS  rsiosiohv_IcRow)).  =     2测区le(o  =Tupl = g    T, out h  = 2    T从模onn "ageS  rsiosiohv_IcRow)). = gDevNewle(o  =Tupl = g    A :, out h B    omg   A :, out h;iveMethod：siohv_IcRoo_Bonncat(
  = poxyLen);
                        }
 ut    _o_Bonncat(
  = Arro_Bt,       (ches, oWi1(ch_o_Bonncat(
                            -1   to__ic t, 1,       (hs                  hv__Epoag -1FrametType = new HTuple();
     (hs  Ch  ng);
                c              L误 Type = new HTuple()e()     (hs  LxpTmpOutVar_Length(b Type = ength(bxpTmpOutVar_Lnew HTuple()e()     (hs  整Ponvle(o  =cat区都Ponvle(o  =cat整utVar_Lnew HTuple()e()     (hs  rk.D//))
      _Di码，代,ic v_     Set   //))
 new HTuple()e()     (hs   ic va胶   //))
      
   [sOI  vP      v
   [gioei/))ExpTmpOTmpO;to__ic t, 1,       (hs  max_o_DefectTypeLead2Wi,, ou图      //银
                       图                      o图o_Ima = 0_cessful";)
                       , hv_i_Met = 0_cessful";)_Meas
   [胶 = 0_cessful";)V_Select_Result(hvec_i_Fa_t     HTuple         } hv(hmLen = hv_Len1 / hv_RefLen2;
         (hvec_i_Fa              hv__Epoag -1  = "ag= hv_Len1 / hv_RefLen2;
         (hvec_i_Fa   spos //传入)                 //银
                             o3t hv_1表该算o_Ima = 0_cessful";)
                       _o_DefectTypeLead2Wi,, ou  HTuple            // I
                       _胶   //))TypeLead2Wi,"    S = 0_cessful";)
                       , = 0_cessful";)_Meas
 HObj = 0_cessful";)_Meas utu= 0_cessful";)
                       j半径
             regi e(o  (hs  eageS  aaxispose();
    
                        ectR半径
             re
 HObj = 0_cessful";)
                              hv(hm1peratorSet.ConcatObj(ho_o_LightImage, ho_(hm ExpTmpOutVar_0);
       rs         _BondContour, hv_idx + 1);
                if (gi
     _BondContour, hv_idx + 1);
                if ( c域
   _BondContour, hv_idx + 1);
                if (= -2Ic = _BondContour, hv_idx + 1);
                if (     _BondContour, hv_idx + 1);
                if (     tv_o_ErrCode = -1;
                            h
    2v_o_ErrCode = -1;
                            h
    3] = 29;
                hvec_o_FailRegs[1] = ne = g umArr] = 29;
                hvec_o_FailRegs[1] = ne = g2 umArr] = 29;
                hvec_o_FailRegs[1] = ne (hsOI] = 29;
                hvec_o_FailRegs[1] = ne = g um] = 29;
                hvec_o_FailRegs[1] = ne = g2 um] = 29;
                hvec_o_FailRegs[1] = ne = g umPonvvBondContour,            hvec_o_FailRegs[1] = ne = g2 umPonvvBondContour,            hvec_o_FailRegs[1] = ne = gArr] = 29;
                hvec_o_FailRegs[1] = ne (ho_ConnectedRegions.Dispose();
         hv_o_ErrCode = -1_o_DefectType == null)
   case 3:, out hv_Row, out hv_Coluo_ConnectedRegions.Dispose();
         hv_o_ErrCode = -1;
                hv_o_E_idx + 1);
                if (  -1)else
            {
                //Ic定位、偏              hv_o_ErrCode = -1;
                            hvg域
     v_o_ErrCode = -1;
                            h g域
     Ponv           {
                //Ic定位、偏      {
   Ponv          hv_o_E_idx + 1);
                if (  -1)el    Ponv          hv_o_E_idx + 1);
                if (Muti     ] = 29;
                hvec_o_FailRegs[1] = ne = g um--] = 29;
                hvec_o_FailRegs[1] = ne = g2 um--] = 29;
                hvec_o_FailRegs[1] = ne = g    ] = 29;
                hvec_o_FailRegs[1] = ne = g2    ] = 29;
                hvec_o_FailRegs[1] = ne
          1] = 29;
                hvec_o_FailRegs[1] = ne  = Dev] = 29;
                hvec_o_FailRegs[1] = ne = g                     if (hv_o_DefectType == null)
 eckomg                  if (hv_o_DefectType == null)
NewMuti     ] = 29;
                hvec_o_FailRegs[1] = ne = g    Ponv          hv_o_E_idx + 1);
                if (  // o_ErrC1        hv_o_DefectType[hv_idx] = 22;
                    hvec_o_DefectValue[hv_idx] = new HTupleVector(1, out h       hv_RefBondRadius = hv__RefBondParas.Tuple  =     Byt        hv_RefBondRadius = hv__RefBondParas.Tuple  =            hvec_o_DefectValue[hv_idx] = new HTupleVector(1, o    ut h  hvec_o_DefectValue[hv_idx] = new HTupleVector(1, oC
   ] = 29;
    efealue[hv_idx] = new HTupleVector(1, o
   Ponv        hv_o__o_ectType[hv_idx] = 22;
                  Ponv        hv_o__o_ectType[hv_idx] = 22;
             ut hPonv       hv_RefRefalue[hv_idx] = new HTupleVector(1, o         Ponv       hv_RefctValue[hv_idx] = new HTupleVector(1, o    ut hPonv       hv_RefctValue[hv_idx] = new HTupleVector(lue[1] = new HTupleVector(new HTuple(0));
                if  PosT测区1TupleVector(new HTuple(0));
                if  on(hohs TupleVector(new HTuple(0));
                if  posehs fectType = new HTuple();
                hv_o_DefectType[100ype == null)
   case 3:, out hv_Row, out hv_Coluo   on(hohs fectType = ne neTuple();
                hv_o_D     posehs fectType = ne neTuple();
                hv_o_DefectType[101fectType = ne neTuple();
                hv_o_DefectType[1fectType = ne neTuple();
                hv_o_DefectType[1   HOpe] = 29;
                hvec_o_FailRegs[1] = ne            1.1] = 29;
                hvec_o_FailRegs[1] = neBi
     tv_o_ErrCode = -1;
                            h
     {
   3v_o_ErrCode = -1;
                            h
     {
   4] = 29;
                hvec_o_FailRegs[1] = ne
          6] = 29;
                hvec_o_FailRegs[1] = ne
          4     //银胶c dRadius = hv__RefBondParas.Tuple  = 
   hs fectType = ne neTuple();
                hv_o_DBi
     2] = 29;
                hvec_o_FailRegs[1] = ne
    Bi
01     //银胶c dRadius = hv__RefBondParas.Tuple  = 
   NewvBondContour, neTuple();
                hv_o_DBi
     3fectType = ne neTuple();
                hv_o_D PosTBi
10       hv_RefctValue[hv_idx] = new HTupleVector(1, o    else
            {
                //Ic定位、偏  =     2测区           {
                //Ic定位、偏  =     T] = 29;
                hvec_o_FailRegs[1] = ne = g2    T] = 29;
                hvec_o_FailRegs[1] = ne = gDevNew           {
                //Ic定位、偏  =     A :] = 29;
                hvec_o_FailRegs[1] = ne = g   A :] = 29;
       tryhv_Indices.Tup    o__InspectReg.D//ex = neeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee   o__InspectReg.D//      ();
      i_ (hs )).Tu******,gs,
  ，每䒌v_o_ErrSp  //*();
           像_idx = .Tupl   HTu      ew HOorSet.AffineTransPoint2d(hv_i_HomMatMoatMod2Img**************************************************************
ratorSet.ato  to     _D               ho_RegionOpe           }
   atohv_o_Defect"bytghbor");
            c        HOp通道    ct(Tupouchctor((hcto(n" ExpTmpOutE      Con_            = -2Ic = Idx._RefR         1        hv_o_ErrCode = -1;
1;
   t _o_Bonnca    = -2Ic = Idx._RefR         2))        hv_o_t _o_Bonnca    = -2Ic = Idx._RefR         ErrCode = -1;
       3)
                hv_o_ErrStr = "bond region is empty";
                ho_EmptyFailReg.Dispose();
   i  = -2Ic = Idx             ho_ConnectedRegi       f ( c域
   pectRegs.DispdContour, hvrCode: f (= -2Ic = pectRegs.DispdContour, hvhvrCode:f (       ho_EmptyFailReg.Dispose();eeeenI    t  ho_EmptyFg, HTuple hv_i_DilationI    2  ho_EmptyFg, HTuple hv_i_DilationI    3      // o_ErrCode: 错geS  rsie = g umArr      // o_ErrCode: 错geS  rsie = g2 umArr      // o_ErrCode: 错geS  rsie (hsOI        HOperatorSet.ReduceDo;
 ple1, oSectRegs.Dispose();
            ple1, o2 umpectRegs.Dispose();
             ne = g umPonv      // o_ErrCode: , out Reducf ( = g2 umPonv      // o_ErrCode: 错i        ne = gArr      // o_ErrCode: 错误码码    (hic va      量gRE) +      Set.ceDo    _o_DefectT
              ageS  r(new HTll;
            HTuple hv__RefColumn = null, hv__RefPhi = null, hv_Restep = at (ches, o.Tupl ne下限参数
            hv_threshNuoeeeeeeenio //o_DefectValue：输出的实际检测得eeeeg域
       ho_EmptyFailReg.Dispose();eeee  h g域
     Ponvh ho_EmptyFailReg.Dispeg.Disposeif (I     {
   Ponvh ho_EmptyFailReg.Disposeiei     upl
          Ponvh ho_EmptyFailReg.Disp       ;hv_Muti     pectRegs.Dispose();
        ho_A ne = gale--pectRegs.Dispose();
        ut hple1, o2 um--pectRegs.Dispose();
            n = g            HOperatorSet.ReduceDoceDo    = g2            HOperatorSet.ReduceDo_Rpt   
          1pectRegs.Dispose();
                = gDev        HOperatorSet.ReduceDoceDo    = g   trologyHandle: 测量模板_Rpt    eckomg        HOperatorSet.R       ;hv_NewMuti     pectRegs.Dispose();
         out ne = g    Ponv        HOperatorSet.ReduceDo_Rpt   
    o_ErrC1  ho_EmptyFailReg.Dispose();();ple1, oon(hopectRegs.Dispose();
            spose()_InspectRegs.Dispose();
        ut hple ho_    Byt pectRegs.Dispose();
 = nullv_Sy upl1, o    on(ho  ho_EmptyFailReg.Dispose();
Sy upl1, o    _InspectRegs.Dispose();
        ut hple ho_
   pectRegs.Dispose();
        ut hple1, o
   Ponvh ho_EmptyFailReg.Disp
         f ( = gon(hoPonvpectRegs.Dispose();
         
     ho__InsPonvpectRegs.Dispose();
 ur,Reg.Disp    ho_    on(hoPonvpectRegs.Dispose();
         Sy upl1, o    _InsPonvpectRegs.Dispose();
         Sy upl
            HOperatorSet.GenEmptyObj(octR    if  PosT测区1OperatorSet.GenEmptyObj(octReeee  h on(hohs OperatorSet.GenEmptyObj(octR    if  posehs w HObjectVector(ho_EmptyFailReg);
            00
                           ho_Io_D     on(hohs 
                    ho_Iho_I   if      gs.Dhs 
                    .D Less(
 o_DefectType[101
                    ho_Iho_I   o_DefectType[1
                    .D Less(
 o_DefectType[1   HOperatorSet.GetImageSize(ho_iceIm                  1.1
                    ho__IcS   hg.DBi
     t  ho_EmptyFailReg.Dispose();
     h
     {
   3  ho_EmptyFailReg.Dispose();标  h
     {
   4pectRegs.Dispose();
               
          6pectRegs.Dispose();
               
          4pectRegs.Dispose();
                ho_
   hs 
                    .D Less(
 o_DBi
     2pectRegs.Dispose();
               
    Bi
01h ho_EmptyFailReg.Dispy = nunull; (h = g
   New
            hv_threshNuoeeeeresg.DBi
     3pectRegs.DispdContour,点检淥_Cf ( PosTBi
10pectRegs.Dispose();
    i   iSy upl1, o    参数
            hv_threshNuoeeeeeeenio  =     2测区
            hv_threshNuoeeeeeeenio  =     TpectRegs.Dispose();
        ut hple1, o2    TpectRegs.Dispose();
        ut hple1, oDevNew
            hv_threshNuoeeeeeeenio  =     A :h ho_EmptyFailReg.DispeduceDoceDo    = g   A :h ho_EmptyFailReg.DispeduceDoceDo t(
  = ppectRegs.Dispose();
             t(
  = Arro_Bo           _ hv_regNum);
            if ((aso ho__InspectRegs((aso ho__InspectR(n" ExpTmpOutE      Con_             c域
   Idx._RefR         1        hv_o_ErrCode = -1;
1;
   t _o_Bonnca     c域
   Idx._RefR         2))        hv_o_t _o_Bonnca     c域
   Idx._RefR         ErrCode = -1;
       3)
                hv_o_ErrStr = "bond region is empty";
                ho_EmptyFailReg.Dispose();
   i   c域
   Idx             ho_ConnectedRegi       f ( c域
   pectRegs.DispdContour, hvrCode: f (= -2Ic = pectRegs.DispdContour, hvhvrCode:f (       ho_EmptyFailReg.Dispose();eeeenI    t  ho_EmptyFg, HTuple hv_i_DilationI    2  ho_EmptyFg, HTuple hv_i_DilationI    3      // o_ErrCode: 错geS  rsie = g umArr      // o_ErrCode: 错geS  rsie = g2 umArr      // o_ErrCode: 错geS  rsie (hsOI        HOperatorSet.ReduceDo;
 ple1, oSectRegs.Dispose();
            ple1, o2 umpectRegs.Dispose();
             ne = g umPonv      // o_ErrCode: , out Reducf ( = g2 umPonv      // o_ErrCode: 错i        ne = gArr      // o_ErrCode: 错误码码    (hic va      量gRE) +      Set.ceDo    _o_DefectT
              ageS  r(new HTll;
            HTuple hv__RefColumn = null, hv__RefPhi = null, hv_Restep = at (ches, o.Tupl ne下限参数
            hv_threshNuoeeeeeeenio //o_DefectValue：输出的实际检测得eeeeg域
       ho_EmptyFailReg.Dispose();eeee  h g域
     Ponvh ho_EmptyFailReg.Dispeg.Disposeif (I     {
   Ponvh ho_EmptyFailReg.Disposeiei     upl
          Ponvh ho_EmptyFailReg.Disp       ;hv_Muti     pectRegs.Dispose();
        ho_A ne = gale--pectRegs.Dispose();
        ut hple1, o2 um--pectRegs.Dispose();
            n = g            HOperatorSet.ReduceDoceDo    = g2            HOperatorSet.ReduceDo_Rpt   
          1pectRegs.Dispose();
                = gDev        HOperatorSet.ReduceDoceDo    = g   trologyHandle: 测量模板_Rpt    eckomg        HOperatorSet.R       ;hv_NewMuti     pectRegs.Dispose();
         out ne = g    Ponv        HOperatorSet.ReduceDo_Rpt   
    o_ErrC1  ho_EmptyFailReg.Dispose();();ple1, oon(hopectRegs.Dispose();
            spose()_InspectRegs.Dispose();
        ut hple ho_    Byt pectRegs.Dispose();
 = nullv_Sy upl1, o    on(ho  ho_EmptyFailReg.Dispose();
Sy upl1, o    _InspectRegs.Dispose();
        ut hple ho_
   pectRegs.Dispose();
        ut hple1, o
   Ponvh ho_EmptyFailReg.Disp
         f ( = gon(hoPonvpectRegs.Dispose();
         
     ho__InsPonvpectRegs.Dispose();
 ur,Reg.Disp    ho_    on(hoPonvpectRegs.Dispose();
         Sy upl1, o    _InsPonvpectRegs.Dispose();
         Sy upl
            HOperatorSet.GenEmptyObj(octR    if  PosT测区1OperatorSet.GenEmptyObj(octReeee  h on(hohs OperatorSet.GenEmptyObj(octR    if  posehs w HObjectVector(ho_EmptyFailReg);
            00
                           ho_Io_D     on(hohs 
                    ho_Iho_I   if      gs.Dhs 
                    .D Less(
 o_DefectType[101
                    ho_Iho_I   o_DefectType[1
                    .D Less(
 o_DefectType[1   HOperatorSet.GetImageSize(ho_iceIm                  1.1
                    ho__IcS   hg.DBi
     t  ho_EmptyFailReg.Dispose();
     h
     {
   3  ho_EmptyFailReg.Dispose();标  h
     {
   4pectRegs.Dispose();
               
          6pectRegs.Dispose();
               
          4pectRegs.Dispose();
                ho_
   hs 
                    .D Less(
 o_DBi
     2pectRegs.Dispose();
               
    Bi
01h ho_EmptyFailReg.Dispy = nunull; (h = g
   New
            hv_threshNuoeeeeresg.DBi
     3pectRegs.DispdContour,点检淥_Cf ( PosTBi
10pectRegs.Dispose();
    i   iSy upl1, o    参数
            hv_threshNuoeeeeeeenio  =     2测区
            hv_threshNuoeeeeeeenio  =     TpectRegs.Dispose();
        ut hple1, o2    TpectRegs.Dispose();
        ut hple1, oDevNew
            hv_threshNuoeeeeeeenio  =     A :h ho_EmptyFailReg.DispeduceDoceDo    = g   A :h ho_EmptyFailReg.DispeduceDoceDo t(
  = ppectRegs.Dispose();
             t(
  = Arro_Bo           _ hv_regNum);
            if ((aso ho__InspectRegs((aso ho__InspectR ca ctVae();befectValue：法       f ( c域
   pectRegs.DispdContour, hvrCod_idx + 1);
                if ( c域
   _BondContour, hve: f (= -2Ic = pectRegs.DispdContour, hvhvrC_idx + 1);
                if (= -2Ic = _BondContour, hv    矩阵
    dCol0-pening.Di
    dC<ol;    Hut _o_Bonncat(      gioeiDispos
       
                ho_C      );   oI {v_    ening.Di
    dCrn;点       = nc, heg, HTuple hv_i_DilationI          // o_ErrCode: 错误码jectParam(hv_i_MetrolI        if (     , t(      gioeiDispos_Region   I {v_
                .Tuppppp            {
   Ch  ng(f (     , 1] =   Ch  ngo_ErrCode: 错误码jecttches, oout _o_Bonnca   Ch  ngEmptyF    hv3izing";
 0))).TupleOr(       {spdContour, hvhatio    atinI    t  ho_EmptyFonI    2  ho_EmptyFonI    3  ho_EmptyFailReg.Dispose();.Tuppppp            {Decot2 //3(f (     ,    if (     t;ond=   
    2;ond=   
    3   e                      "paa，2.再阈值刈   l(ho_inspect         ho__Inspec有效性测试      HOperatorSet.CoReg.   hg.Diumn   ：0-量工_Cot.Gpt(
  = poxyour, out (n      {




                 
 ho_RegionUnio    = "sadiuvnuodel(ho_inspect         ho__InspectRe     tv  HOperatorSet.ReduceDomain(ho_i_Image, h    1_inspect         ho__InspectRe     etr_idx = hvo2_inspect         ho__InspectRe     3         ho_RegionUnion. AllRegs}        i           ut HTuple  (hs  e   return;
            }
            //银胶        ll(ho_inspect         ho__Inspec有效性测试      HOperatorSet.CoReg.   hg.Diumn   ：0-量工_Cot.Gpt(
  = poxyour, out (n      {




                 
 ho_RegionUnio    = "sadiuvnuodel(ho_inspect         ho__InspectRe     v  HOperatorSet.ReduceDomain(ho_i_Image, h    1_inspect         ho__InspectRe     tr_idx = hvo2_inspect         ho__InspectRe              ho_RegionUnion. AllRegs}        i           ut t HTuple  (hs  e   retLen = new HTuple(hvec_Elements.Length);
                            hvec_curElement = hvec_Elements[hv_curElementsLen - 1];
                            hvec_curElement.Insert(nIc域
    B t(
  = p[ //Ic域
   Idx-, o.O胶         {
    (--------   i  //
     f
  量工_Co   //       f ( c域
   pectRegs.DispdContour, hvrCode: e: f ( c域
   v_curElementsLen - 1);
         AllRegs}        i           Len = new HTuple(hvec_Elements.Length);
                            hvec_curElement = hvec_Elements[hv_curElementsLen - 1];
                            hvec_curElement.Insert(n= -2Ic =  B t(
  = p[ //= -2Ic = Idx-, o.O HTupleVector(new HTuple(hv_Matches.TupleS"paaaaaet.GenEmptyObj(octReeeeeeee  h= -2Ic = pectRegs.DispdContour, hvhvrChvrCode:f (= -2Ic = v_curElementsLen - 1);
            Regs}        i       pl     pErrCoder   ge                  lements = new , hv   c      - 1);
              hvec_curEleo__RefReg.Dispo] 1 nRad
          so        
            LxpTmpO胶         {     o      (b ,{       (bxpTmpODispdContour,Reg.Diss  整Ponvle((   (bxpTmpO-,   LxpTmpOr  HObject ho__In ho__Int区都Ponvle((   (b -,   L误 r  HObject ho__In hvhvrC_idx + 1);
   t指定重炣测区，则整个检测区都作为非重点检测v_rs               // o_ErrCode: 错误码;
            }ato_DiffR   hv_rs         _BondContour, hvvvvvf (gi
           // o_ErrCode: 错误码;
            }ato_DiffR   hv_rs
     _BondContour, hvreConinew HT, hoefectValue：法焊ee = g umArr      // o_ErrCode: 错误码;
            }ato_DiffR   hv_ = g umArr] = 29;
       ee = g2 umArr      // o_ErrCode: 错误码;
            }ato_DiffR   hv_ = g2 umArr] = 29;
       el(ho_inspect         ho__Inspec有效性测试      HOperatorSet.CoReg.CopyObj(1, -1);
       t(
  = Arro_Bt, 
 ho_RegionUnio    = "sadiuv_ ouchMea HTuouchMupl     pErrCoder   ;
          C
            TIni__Img1] =   _Dii;hv_Indices.oder   ;
          Te, hoTupleEqual(_Disi0         _     Set   v_ ouchMea HTTuppppps   ic va胶   //))0);
                ho_o_FailRegs.Di;hv_Indices.Tuppppp fineTrColFag);1e = -1_Di_ ouchMea HThMea HThv_Colum       ;1e =Object ho__In ho__In矩阵
    sOI  2Img: FramesOI HTuple  (hs  e  ;1
          d);   
    sOI  g: FramesOI Teater(hvhv_Epo  51             tour, h{BondCol,
             ne (hsOI        HOperatorSet.ReduceDo                {               TIni__Img1] = ne (hsOI     
   [sOIOperatorSet.ReduceDo    //easureFlag = hv_o_Measure (测 = g um  '  al')eratorSet.Reduceducduc//easureFlag = hv_o_Measure (测 = g2 um  '  al')eratorSet.Reduc    ne = g umPonv      // o_ErrCode: , out Reduc;
            }测pleEqu1] = ne = g umPonv     alH,,s  整Ponvcat区都PonvDispose();
         ducf ( = g2 umPonv      // o_ErrCode: 错i       _idx + 1);
    测pleEqu1] = ne = g2alePonv     alH,,s  整Ponvcat区都PonvDispose();
             ne = gArr      // o_ErrCode: 错误码码;
            }ato_DiffR   hv_ = gArr] = 29;
       e    矩阵
    gioeiCol -pening.Di
    gioeiC<ol;    Ht _o_Bonncat(      gioeiDispos
       
                ho_C    ));   
    gioeiColening.Di
    gioeiCrn;点       = nc, ho_Re{TupleConcat(
            nI    t  ho_EmptyFg, HTuple hv_i_Dilatioatio            {              c域
   ,    if (     t;  
    gioeio_ErrCode: 错误码jDilationI          // o_ErrCode: 错误码jectject            {             = -2Ic =  B   if (     , t(
    gioeio_ErErrCode: 错误码jhhhhhhh   x_o_Defec               ho_AllRegs.Di ou图      -1;       hv_Column, out hv_H图      -1;       hv_Column, out hv_H图,
                    ho_AllRegs.Di   , hv_i_Met = out hv_Row, out ow, ot ow, o     hv_o_ErrC67e = -1hic va胶   ut hv_Row, out      t      hv_Colum       6;
                    ho     ho矩阵
   [胶 = 2Img: Frame胶 HTuple  (hs  e  t7  r_0;
  6e hv_Relrame胶e = -1Frame胶 Teater(hvhv_Epo  67                 hvectour, h   {
                          ne (hic va      量gRE) +      Set.ReduceDo                {                c va   spt   if ( (hg.Di = "ag -1Frame胶量gRE) +      Set.ReduceDo    HTuple(hv_i_MinLength.TupleL hv_threshNum = ureResult.TupleSelect(hv_idf (     , tne (hsOI     银胶aram(h  //geS  rsSet.
          (hsceDo        = "paaa具 =It_Thres _   if   _t     HTuple=1]工具，并刈指定类型，支o               ho_Re      !           {
           dx] = new HObjectVector(ho__EmptyFailReg) ;
      ceDo       {
                         o_Regihv_o_D      表     ho_Re          (hs   Set.ceDo    _o_DefectT
              ageS  r(new HTll;torSet.GenEm            {ondParspspose();                hv_o_D_o_Me           ,     ageS  r(new HTll;torSet.GenEmmmmmf   _t     HTuple=1);
            HOperatorSet.GenEmptyObj(ouEmptyObj(ougihv_o_D      ogyHaBondCol,
                        
            HTuple hv__RefColumn = null, hvvvvvvvvvvvvv            {ondParspspose();      (hg.Di = "ag    if  g.Di = "agf   _t     HTuple=
          (hsceDo                   );
            HOperatorSet.GenEmptyObj(ouEmptyObj(ougiTv_o_D粗数i_       下     ratorSet.GenEmptyObj(ouEmptyObj(ou;

          (hs  eout srCode: 错误码ject---tyObj(ou  量
               eg.Di = "ageS  rsbjectParam(hv60p  y  (hs  e = 0_1_cessful";
       = "e();的;ceDo       错e,o  = "ageS  rs   = at (ches, o.Tupl ne下限参数
            hv_threshNuoeeeeeeeeeeeeeeeeeee             输入图像
                       h   if (  -1)else
 ssful";
       = "e();的;ceDo            hv_threshNuoeeeeeeeeeeeeeeeeeeeo__RefReg.Dispose();
                ho_Regionlizing";
 0))).TupleOr(new HT1;   ceDo       {
                         o_Reaaaa型
            // o_FailR);
           //银胶c Dispos_Region      {




             HTuple()HTup -1Frame胶t.Clos                         hv_paraI0.     // o_DefectT      {




             HTupHTuple()pe：筛选后的错误类型
            // o_ErrCode选错误区域
            w HTuple(), hv_RchMupl     pErrCoder                   urn;
            }
                         hv_Column, out hv_HomMaaaaaaaaa                 ;
           );
           //银胶c Dispos_Region      {




             HTuple()HTup -1Frame胶t.Clos                         hv_paraI0.     // o_DefectT      {




             HTupHTuple()pe：_o_FailRegs);
        错误类型
            // o_ErrCode：错误码，显示



            错误区域
            w HTuple(), hv_RchMupl     pErrCoder                   o__RefReg.                       HObject ExpTmpOutVar_0;
      a，-2 ato             rrrrrrrrrrrrrrrrrrrrr

                return;
ho_o_FailRegs, out    max_o_De)izing";
 0))).TupleOr(new HT1;                   hv_Column, out hv_HomMaaaaaaaaa   max_o_Defec;
ho_o_F量eStr = null,      hhhhhhhhhhhhhhhhhhhhhhhhh ou图      Pos  tx.Tupl
            }
 hhhhhhhhhhhhhhhhhhhh   图      rge[h量eStr = null,      hhhhhhhhhhhhhhhhhhhhhhhhh   图,
     开始等量eStr = null,      hhhhhhhhhhhhhhhhhchMupl     pErrCoder               pl     pErrCoder           pl     pErrCoder           "e();    H     return;
max_o_Der, HTuple hv_i //银in     izing";
 0))).TupleOr(new                hv_Column, out hv_HomMa out HT_     Set   //=r)
        {




            // Stack_     Set   //_ ExpTmpOTmpOr_0
          x   i1, outA/ Stack_     Set   [  
    sOI-, out t HT_     Set   Dispos_Region   I {v_sOI-, )r  HObject ho__Inspeeeeeeeeeeeeeeeee             HTuple  (hs  e   re ou图   图   ,h   图,
   ndCol = new HTuple(), hv_RefBot hvturn;
           HTupleex = hvTyoncat( hv_i        omMa(;
                ho_EmptyFailReg.Dispose();
   eeeeeeee                //焊/I);
         t;     ;
              ,      HTuple ndCol = new HTuple(), hv_RefBot hv);
            HO否存在，2.再阈值刈//cTuple] = sss    
   速范围进行测
   eeee      vg域
       ho_EmptyFailReg.Dispose();
   eeeeeeee             输入图像
            //i_BondRe  loseOrOpen__Bond=   vg域
              hv_o_ErrStr = "paaaaaaaaa.Dispose();
               ;
 //c{
   lag = hv_o_ (vg域
     _BI     {
     '  al')eratorSet.Reduc               //addlag =  (v= g um_BI     {
     v= g um_Bout, 0]eratorSet.Reduc               //multlag =  (I     {
     I     {
     I          _Bout, 0]eratorSet.Reduc               //addlag =  (v= g2 um  I          _Bv= g2 um  out, 0]eratorSet.Reduc                           ho__RefReg.Dispo] 1 nRad
          so        
            LxpTmpO胶         {         {      {       (b ,{       (bxpTmpODispdContour,Reg.Disposeiisposeif ( g域
     Ponvh ho_EmptyFailReg.Disposei       i if                {ropg.Dispo] 1 nRa          //i_Bon      ( g域
     Ponv胶         {         {      {   
        LxpTmpO    (b ,{   (bxpTmpODispdContour,Reg.Disposeiisposeif (I     {
   Ponvh ho_EmptyFailReg.Disposeiei               hvec_curElemen
                vg域
     Ponvca   if (
     {
   Ponv胶         {         {ches.Tu   alHTuple hv_Sy = nunull;                   hv_Column, out hv_HomMaaaaa_curElementsLen - 1];
                          hhhhhhhh纵i标             = g umPonvif (
     {
   Ponv    i  //
     f ndCol = new HTuple(), hv_RefBotNuoeeeeout, 0];       hv_Column, olumn, out Reducf ( = g umPonv      // o_ErrCode: 错i           ut Reducf ( = g umPonvv_curElementsLen - 1);
            RegshhhhchMupl     pErrCoder               upl
          Ponvh ho_EmptyFailReg.Disp       ;;
                  Mul          
     {
   Ponvif (
     {
   Ponv胶         {         {      {      (
          Ponv  out hv_imgNum);
                 ut h        hv_Column, out hv_HomMaaaaa  ;wv__Diffose();
                ho_AllRegs.Di类   w HTuple();
             = g2 umPonvif (
          Ponv     i  //
     f ndCol = new HTuple(), hv_RefBot   atioout, 0];       hv_Column, olumn, out Reducf ( = g2 umPonv      // o_ErrCode: 错i           ut Reducf ( = g2 umPonvv_curElementsLen - 1);
            RegshhhhchMupl     pErrCoder                       hv_Column, out hv_HomMaaaaa  ;wv__Diffose();
                ho_AllRegs.Di类   w HTuple();
      ho_o_Li = gArrrt = vg域
     _Bond== -1;
                hv_o_ErrStr = "paaaaaaaaaaaaa.Dispose();
               ;
 ;
 ple1, oArr      // o_ErrCode: 错误码码ple1, oArr, oDiffose();
                ho_AllRegs.Di类}is             ho_AllRegs.Di类"e();    H     return;
c  败              //焊点       = nupleOr(nemn, olu{ErrCode: 错误码码pleMuti     pectRegs.Dispose();
         out   ho_AllRegiveMethod,
    HTuple h
     {
   Ponv    if (Muti         ye(ispose();
        uple(  = nup}       hv_Column, out hv_H    urn; 0))).TupleOr(new HT1;tia            hv_Column, out hv_HomMaaaaa        hv_Column, out hv_HomMaaaaaaaaa  ;wv__Diffose();
                ho_AllRegs.Di类       纵i标 pndCh  n(f (Muti       f (
     {
   Ponv    i  //
     f             ho_All            "paa       (ispose();
        uple(  = nuppleMuti     pectRegs.Dispose();
         out   ho_AllRegpleMuti     , oDiffose();
                ho_AllRegs.Di类chMupl     pErrCoder               pl     pErrCoder                  c        c    HObje   ho_RegionUnion.        pl     pErrCoder       pl     pErrCoder       //还原]o_LightIma = "ageS u   uducf ( = g umpectRegs.Dispose();
         out_idx + 1);
 Tie();
 s
         = g umPonvi1] = ne = g um,{   
        LxpTmpO   ho_RegionUnion. on. n. hv_ihv_ihv_ihv_i   整个区都作为非重点检   uducf ( = g2 umpectRegs.Dispose();
         out_idx + 1);
 Tie();
 s
         = g2 umPonvi1] = ne = g2 um,{   
    spose();
        uple(le(   LxpTmpO hv_ihv_ihv_ihv_i   整个区都作为非重点检淥_C_curElement = hvec_Elements[hv_curElementsLen - 1];
                            hvec_curElement.Insert(n = g umArr      omg um,    i  //
     f
  量工_Co   //   eeeee = g umArr      // o_ErrCode: 错geS  rsi rsie = g umArri初sStri] = nRadoispose();
              e                  i_InspectRegs, out hv_regNum);wv__Diffose();
                ho_AllRegs.Di初
            ho_o_Li omg2 umArr,.nRa omg2 um,    i  //
     f
  量工_Co   //
  ---e = g2 umArr      // o_ErrCode: 错误码geS  rsie = g2 umArri初sStri] = nRadoispose();
              e                   t(
  = Arro_B[  
    sOI-, out gionUnio    = "sadple1, oArro_ ouchMea HTuouchMupl     pErrCoder   ge 认量工具索引w HTup,d参hoefectV6      Tul     pErrCoder   "e();    H //Mul  胶胶ing";
 0))).TupleOr(neweg, HTuple hv_i_DilatioxpTmpO内      trol  //*************g, HTuple hv_i_Dilatiotia_胶   //) -1_Di砉量eStr = null,      hhhhhregNum);   v] = nRad(nei    v] = nRado[      ic ].O o_inspectImagO内ontour有trolc_t((h***********g, HTuple hv_i_Dilatio       o_inspectImage);
_     Set            _ um] = 29;
       != 0)
            {
           S败         //M       Setizing";
 0))).TupleOr(new HT1{ispose();
               ety";
                ho_EmptyFailReg.Deg.Dispose();
  atohv       at
trll", ((new"    ho_RegionUnion.        f ( c域
   pectRegs.DispdContour, hvrCode: e: f (= -2Ic = pectRegs.DispdContour, hvhvrCode:ode:f (       ho_EmptyFailReg.Dispose();eeeeeeeenI    t  ho_EmptyFg, HTuple hv_i_DilatioeeeenI    2  ho_EmptyFg, HTuple hv_i_DilatioeeeenI    3  ho_EmptyFailReg.Dispose();
   eeeee = g umArr      // o_ErrCode: 错geS  rsi rsie = g2 umArr      // o_ErrCode: 错误码geS  rsie (hsOI        HOperatorSet.ReduceDo    v_Hohv_ = g umpectRegs.Dispose();
            ho_Ahv_ = g2 umpectRegs.Dispose();
            ho_Aple1, o umPonv      // o_ErrCode: 错i               = g2 umPonvpectRegs.Dispose();
            ho_Aple1, oArr      // o_ErrCode: 错误码码 ne (ho (hs  e     _();

          (hs  eFlag _();
          r,Dim=1}*/ hvec_o_Defect
     alue,
    o (hs  e     _();

          (hs  eFlag _();

          (hs  eout sches, o.Tupl ne下限参数
            hv_threshNuoeeeeeeeeeee(;
                ho_EmptyFailReg.Dispose();
   eeee   vg域
       ho_EmptyFailReg.Dispose();
   eeee  h g域
     Ponvh ho_EmptyFailReg.Disposei       i iff (I     {
   Ponvh ho_EmptyFailReg.Disposeiei         upl
          Ponvh ho_EmptyFailReg.Disp       ;;
 pleMuti     pectRegs.Dispose();
         out   h ne = gale--pectRegs.Dispose();
            ho_Ahv_ = g2 um--pectRegs.Dispose();
            ho_Ahv_ = g    pectRegs.Dispose();
            ho_Ahv_ = g2    pectRegs.Dispose();
            ho_Ahv_
          1pectRegs.Dispose();
            ho_Ahv_ = gDevh ho_EmptyFailReg.Dispose();
   eeee ne = gat  ho_EmptyFailReg.Dispose();
   eeee  h eckomg        HOperatorSet.R       ;eeee  hNewMuti     pectRegs.Dispose();
         out out ne = g    Ponv        HOperatorSet.ReduceDo_Rpteeee  h
    o_ErrC1  ho_EmptyFailReg.Dispose();
   eeee  h1, oon(hopectRegs.Dispose();
                    ho__InspectRegs.Dispose();
                ple  =     Byt pectRegs.Dispose();
 = nullv_Sy Disp    ho_    on(hopectRegs.Dispose();
 = nullv_Sy Disp    ho_    _InspectRegs.Dispose();
                ple  = 
   pectRegs.Dispose();
                ple1, o
   Ponvh ho_EmptyFailReg.Disp
             f ( = gon(hoPonvpectRegs.Dispose();
         
  
     ho__InsPonvpectRegs.Dispose();
 ur,Reg.DispDisp    ho_    on(hoPonvpectRegs.Dispose();
         Sy Disp    ho_    _InsPonvpectRegs.Dispose();
         Sy Disp   
            HOperatorSet.GenEmptyObj(octR        if  PosT测区1OperatorSet.GenEmptyObj(octReeeeDisp    on(hohs 
                    ho_Iho_I   Disp    gs.Dhs 
                    .D Less(
 (
 o_DefectType[100
                    ho_Iho_I   ho_Io_D     on(hohs 
                    ho_Iho_I   I   if      gs.Dhs 
                    .D Less(
 (
 o_DefectType[101
                    ho_Iho_I   h   o_DefectType[1
                    .D Less(
 (
 o_DefectType[1   HOperatorSet.GetImageSize(ho_iceIm   heImg.D            1.1
                    ho__IcSurfaceImg.DBi
     t  ho_EmptyFailReg.Dispose();
   eeee  h
     {
   3  ho_EmptyFailReg.Dispose();
   eeee  h
     {
   4pectRegs.Dispose();
            ho_Ahv_
          6pectRegs.Dispose();
            ho_Ahv_
          4pectRegs.Dispose();
            ho_Ahle1, o
   hs 
                    .D Less(
 (
 o_DBi
     2pectRegs.Dispose();
                   
    Bi
01h ho_EmptyFailReg.Dispy = nunull;ull; (h = g
   New
            hv_threshNuoeeeereseresg.DBi
     3pectRegs.DispdContour,点检淥_C_Cf ( PosTBi
10pectRegs.Dispose();
    i   iSy Disp    ho_    参数
            hv_threshNuoeeeeeeeeeee(;  =     2测区
            hv_threshNuoeeeeeeeeeee(;  =     TpectRegs.Dispose();
            ho_Ahv_ = g2    TpectRegs.Dispose();
            ho_Ahv_ = gDevNew
            hv_threshNuoeeeeeeeeeee(;  =     A :h ho_EmptyFailReg.DispeduceDoceDoceDo    = g   A :h ho_EmptyFailReg.DispeduceDoceDo o_Aht(
  = ppectRegs.Dispose();
            ho_Aht(
  = Arro_BpectRegs.Dispspose();
            ho_A   = nuv_                       e                   out HT_     Set   //=r)
        {




         ack_     Set   //_ ExpTmpOTmpOr_0
          x   i1, ack_     Set   ,  = "    Suple hv_Sy = nunull;
 ple1, oArr      // o_ErrCode: 错误码码;
            }ato_DiffR   hv_ = gArr] = 29;
       e    //easureFlag = hv_o_Measure (测 = g um--  '  al')eratorSet.Reduceducduc//easureFlag = hv_o_Measure (测 = g2 um--  '  al')eratorSet.Reduceducduc ne = gale--pectRegs.Dispose();
            _idx + 1);
    测pleEqu1] = ne = gale--     alH_i   整个区都作为非重点检   ho_Ahv_ = g2 um--pectRegs.Dispose();
            _idx + 1);
    测pleEqu1] = ne = g2ale--     alH_i   整个区都作为非重点检   ho_A               45_o_ure_Di砆, out hv_Row, out ow, out hv_Colum        45_o_                   ho__SubReg.Dii      .Dii 
            HOs45,ri1, out] 45v_o_MeblobErrCode, out hv__BlobEs45vHOperatorSet.CoReg.   h hv(hvnto           // i_Ro    = g umpectRegs.Dispose();
            ho_A            {              = g umArr区，v_ = g um  .Dispose(ispose();
            ho_Ahv_ = g2 umpectRegs.Dispose();
            ho_A            {              = g2 umArr区，v_ = g2 um  .Dispose(ispose();
            ho_Aumn   ：0-量工_Cot.G是5sPoint2d(hv输at：0-ureConefecoi标、纵i标             = g um--      omg um,    i  //
     f对胶         {
    (-2))        0ndRow = new HTuple(), hv_Rpt     ne = gale--pectRegs.Dispose();
            _Rpt     ne = gale-- =
urElementsLen - 1);
                w")).TupleConcat(
            umn   ：0-量工_Cot.G是5sPoint2d(hv输at：0-ureConefecoi标、纵i标             = g2 um--      omg2 um,    i  //
     fat：0-ureConefecoi标㋋out hv_imgNum);
                 ut hple1, o2 um--pectRegs.Dispose();
                ut hple1, o2 um-- =
urElementsLen - 1);
                w")).TupleConcat(
            l(ho_inspect         ho__Inspec有效性测试      HOperatorSet.CoReg.   hg.Diumn   ：0-量工_Cot.G是5sPoint2d(hv输at：0-ureConefecoi标、纵i标、标、 = gArrrt t(
  = Arro_B[  i new HTupleVector(new HTuple(hv_Matches.TupleSelect(aaaa.Dispose();
               ;
 ple1, oArr      // o_ErrCode: 错误码码ple1, oArr              ho__InspectReg.Disposeeeeeeeee.TupleConcat(
        .TupleConcat(
     HTuf ( = g umArr      // o_ErrCode: 错误码geS iveMethod,
    HTuple h = g um--  R   hv_ = g umArr    ye(ispose();
            ple1, o2 umArr      // o_ErrCode: 错误码geS iveMethod,
    HTuple h = g2 um--  R   hv_ = g2 umArr    ye(ispose();
            pt(
  = Arro_B[0out gionUnio    = "sadhv_ = gArr] = 29;
       e    tia_胶   //)1_ ouchMea HTuouchMupl     pErrCoder   ge                  efectVrs         和rs
     l     pErrCoder        hv_o_ErrC158 =otia_胶   /                 );
            (ches58e =out hv_Row, out ow, ubReg.Dii      .Dii 
            HOs58,     (ches58EmptyOblobErrCode, out hv__BlobEs58E
 0))).TupleOr(neweg, HTuple hv_i_Dilatiotches, oout _o_Bonncaat HT_     Set   Dispos_Region   ho_RegionO      //M       Setizing";
 0))).TupleOr(new HT1{ispose();
               ety";
                ho_EmptyFailReg.Deg.Dispose();
  atohv       at
trll", ((new"    ho_RegionUnion.        f ( c域
   pectRegs.DispdContour, hvrCode: e: f (= -2Ic = pectRegs.DispdContour, hvhvrCode:ode:f (       ho_EmptyFailReg.Dispose();eeeeeeeenI    t  ho_EmptyFg, HTuple hv_i_DilatioeeeenI    2  ho_EmptyFg, HTuple hv_i_DilatioeeeenI    3  ho_EmptyFailReg.Dispose();
   eeeee = g umArr      // o_ErrCode: 错geS  rsi rsie = g2 umArr      // o_ErrCode: 错误码geS  rsie (hsOI        HOperatorSet.ReduceDo    v_Hohv_ = g umpectRegs.Dispose();
            ho_Ahv_ = g2 umpectRegs.Dispose();
            ho_Aple1, o umPonv      // o_ErrCode: 错i               = g2 umPonvpectRegs.Dispose();
            ho_Aple1, oArr      // o_ErrCode: 错误码码 ne (ho (hs  e     _();

          (hs  eFlag _();
          r,Dim=1}*/ hvec_o_Defect
     alue,
    o (hs  e     _();

          (hs  eFlag _();

          (hs  eout sches, o.Tupl ne下限参数
            hv_threshNuoeeeeeeeeeee(;
                ho_EmptyFailReg.Dispose();
   eeee   vg域
       ho_EmptyFailReg.Dispose();
   eeee  h g域
     Ponvh ho_EmptyFailReg.Disposei       i iff (I     {
   Ponvh ho_EmptyFailReg.Disposeiei         upl
          Ponvh ho_EmptyFailReg.Disp       ;;
 pleMuti     pectRegs.Dispose();
         out   h ne = gale--pectRegs.Dispose();
            ho_Ahv_ = g2 um--pectRegs.Dispose();
            ho_Ahv_ = g    pectRegs.Dispose();
            ho_Ahv_ = g2    pectRegs.Dispose();
            ho_Ahv_
          1pectRegs.Dispose();
            ho_Ahv_ = gDevh ho_EmptyFailReg.Dispose();
   eeee ne = gat  ho_EmptyFailReg.Dispose();
   eeee  h eckomg        HOperatorSet.R       ;eeee  hNewMuti     pectRegs.Dispose();
         out out ne = g    Ponv        HOperatorSet.ReduceDo_Rpteeee  h
    o_ErrC1  ho_EmptyFailReg.Dispose();
   eeee  h1, oon(hopectRegs.Dispose();
                    ho__InspectRegs.Dispose();
                ple  =     Byt pectRegs.Dispose();
 = nullv_Sy Disp    ho_    on(hopectRegs.Dispose();
 = nullv_Sy Disp    ho_    _InspectRegs.Dispose();
                ple  = 
   pectRegs.Dispose();
                ple1, o
   Ponvh ho_EmptyFailReg.Disp
             f ( = gon(hoPonvpectRegs.Dispose();
         
  
     ho__InsPonvpectRegs.Dispose();
 ur,Reg.DispDisp    ho_    on(hoPonvpectRegs.Dispose();
         Sy Disp    ho_    _InsPonvpectRegs.Dispose();
         Sy Disp   
            HOperatorSet.GenEmptyObj(octR        if  PosT测区1OperatorSet.GenEmptyObj(octReeeeDisp    on(hohs 
                    ho_Iho_I   Disp    gs.Dhs 
                    .D Less(
 (
 o_DefectType[100
                    ho_Iho_I   ho_Io_D     on(hohs 
                    ho_Iho_I   I   if      gs.Dhs 
                    .D Less(
 (
 o_DefectType[101
                    ho_Iho_I   h   o_DefectType[1
                    .D Less(
 (
 o_DefectType[1   HOperatorSet.GetImageSize(ho_iceIm   heImg.D            1.1
                    ho__IcSurfaceImg.DBi
     t  ho_EmptyFailReg.Dispose();
   eeee  h
     {
   3  ho_EmptyFailReg.Dispose();
   eeee  h
     {
   4pectRegs.Dispose();
            ho_Ahv_
          6pectRegs.Dispose();
            ho_Ahv_
          4pectRegs.Dispose();
            ho_Ahle1, o
   hs 
                    .D Less(
 (
 o_DBi
     2pectRegs.Dispose();
                   
    Bi
01h ho_EmptyFailReg.Dispy = nunull;ull; (h = g
   New
            hv_threshNuoeeeereseresg.DBi
     3pectRegs.DispdContour,点检淥_C_Cf ( PosTBi
10pectRegs.Dispose();
    i   iSy Disp    ho_    参数
            hv_threshNuoeeeeeeeeeee(;  =     2测区
            hv_threshNuoeeeeeeeeeee(;  =     TpectRegs.Dispose();
            ho_Ahv_ = g2    TpectRegs.Dispose();
            ho_Ahv_ = gDevNew
            hv_threshNuoeeeeeeeeeee(;  =     A :h ho_EmptyFailReg.DispeduceDoceDoceDo    = g   A :h ho_EmptyFailReg.DispeduceDoceDo o_Aht(
  = ppectRegs.Dispose();
            ho_Aht(
  = Arro_BpectRegs.Dispspose();
            ho_A   = nuv_                       e                  hv_ = g umpectRegs.Dispose();
                        {              = g umArr区，v_ = g um  .Dispose(ispose();
            hv_ = g2 umpectRegs.Dispose();
                        {              = g2 umArr区，v_ = g2 um  .Dispose(ispose();
            hv_ = g    pectRegs.Dispose();
            aras = new HTuple();
      omg um,    i    = g    eaout / a HT_     Set   Dispos_Region      {




         acki)P  0];       hv_Column, out v_ = g2    pectRegs.Dispose();
            aras = new HTuple();
      omg2 um,    i    = g2    eaout / a HT_     Set   Dispos_Region      {




         acki)P  0];       hv_Column, out v_
          1pectRegs.Dispose();
                         Mul           = g    eas  = g    ea  HTupl
          1对胶         {
    (-2))0];       hv_Column, out v_ = gDevh ho_EmptyFailReg.Dispose();
   数均包含在该变 = g2    eaupl
          1  HTupl = gDev对胶         {
    (-2))0];       hv_Column, out v_ = g           HOperatorSet.ReduceDo                { qr           = gDev，v_ = g t __ErrMeasureStr;

or(((n" ExpTmyHa(v sRevec_ing";
 0))).TupleOr(new HT1{ispose();
               e：法   k_nnew HTratorSet.AffspdContour, hvh_Chvh_Ce       Obj( 亮rat求orSet.AffspdContour, hvh_CreConef            {
   Ch  ng(f (Muti              Im    olog           {
  C {
  C               75 =otiaIm    /  2ut hv_Row, out      t      hv_Colum        75_o_                   ho__SilRe量      le(), hv_Colum
 to__p_v hv_ght75,ri1, out] 75v_o_Meb  ius.TupleGreater(hvhv_Epo  s75vHOperatorSet.CoReg.   hg.Diumn   ：0-量工_Cot.Gple eckomg        HOperatorSet.R       ;eeee_C            { eckN(f (Muti             ( eckomg, 0)
ar_0;v__ErrMeasureStr;

  hv_ReduceDo__RefReg.Dispose();
   reaterElem(h(2     //焊点       = nupleOr(nee: : umn   ：0-量工_Cot.G   ;hv_NewMuti     pectRegs.Dispose();
         out m( =   ;( =iveMethod,
    HTuple h eckomg,       (NewMuti         ye(ispose();
        uple(  = nup}       hv_Column, out hv_H    urn; 0))).TupleOr(new HT1;tia            hv_Column, out hv_HomMaaaaa        hv_Column, out hv_HomMaaaaaaaaa  ;wv__Diffose();
                ho_AllRegs.Di类       纵i标 pndCh  n(f (NewMuti       e h eckomg,       //
     f             ho_All            "paa    "pa)              ho_AllRegs.Di类       hv_NewMuti     pectRegs.Dispose();
         out m( =   ;( =    hv_NewMuti     , oDiffose();
                ho_AllRegs.Di类chMupl     pErrCoder               pl     pErrCoder           pl spose();
         out out ne = g    Ponv        HOperatorSet.ReduceDo_Rpteeeehv_o_ErrStr = "maN(f (NewMuti          i    = g    PonvDispose();
                hv_ = g    pectRegs.Dispose();
            , hv_idx + 1);
 Tie();
 s
         = g    Ponv     i    = g    ,{   
    spose();
        uple(


     LxpTmpO hv_ihv_ihv_ihv_i   整个区都作为非重点检淥_C_cu_Ce 炼ailReg.DisposeieeeeRpteeee  h
    o_ErrC1  ho_EmptyFailReg.Dispose();
   eeeearas = new HTuple();
      omg   ho_o_MeasureContours1yHa(vRevec_hv__Re胶         {
    (-2))    0ndRow = new HTuple(), hv_Rpt   1, oon(hopectRegs.Dispose();
                w HTuple();
             = g    ea     // o_ErrC1  HTupl = gon(ho对胶         {
    (-2))    0ndRow = new HTuple(), hv_Rptumn   ：0-量工_Cot.G是5sPoint2d(hv输at：0-ureConefecoi标、纵i标、
                v      if ((int)(new HTuple((,sull, hv_Indices = nullv_Sy = n  hv;
 ple1, oon(hopectRegs.Dispose();
                    spose();
                ho__InspectReg.Disposeeeeeeeee.TupleConcat(
                ho__InspectRegs.Dispose();
                数均包含在该变 = g    ea     // o_ErrC1  HTupl = ggs.Dis对胶         {
    (-2))    0ndRow = new HTuple(), hv_Rptumn   ：0-量工_Cot.G是5sPoint2d(hv输at：0-ureConefecoi标、纵i标、
                v   gs.Dis(int)(new HTuple((,sull, hv_Indices = nullv_Sy = n  hv;
 ple1, o_InspectRegs.Dispose();
                        ho__InspectReg.Dispose();
                        .TupleConcat(
            //SurfacerSet.Affr";正负0.5eto__Ins     HObjspe滤spose();
         ho_I   ple  =     Byt pectRegs.Dispose();
 = nullv_Sy Disp初
      men
                v       ea  HTupl1, o    Byt ,sull, hv_Indices = nullv_Sy ho_I   ple  =     on(hopectRegs.Dispose();
                aras = new HTuple();
      omg    Byt ,s  HTupl1, o    on(ho5, 0];       hv_Column, oho_I   ple  =     _InspectRegs.Dispose();
                aras = new HTuple();
      omg    Byt ,s  HTupl1, o    gs.Dis05, 0];       hv_Column, o oho_I //easureFlag = hv_o_Measure (测 = g
     '  al')eratorSet.Reduc    eDo    //easureFlag = hv_o_Measure (测 = g um  '  al')eratorSet.Reduceducduccduc//easureFlag = hv_o_Measure (测 = g2 um  '  al')eratorSet.Reduc   //HTuple] = sssspose();
    i   it Reducple1, o
   Ponvh ho_EmptyFailReg.Disp
             hv_o_ErrStr =   测pleEqu1] = ne = g
   Ponv     alH,,s  整PonvcailReg.Disp
             v_Ret区都PonvDispose();
         eeeeo_Aple1, o umPonv      // o_ErrCode: 错i           ;
            }测pleEqu1] = ne = g umPonv     alH,,s  整Ponvcat区都PonvDispose();
         duc        = g2 umPonvpectRegs.Dispose();
            ho_A_idx + 1);
    测pleEqu1] = ne = g2alePonv     alH,,s  整Ponvcat区都PonvDispose();
         duc        = gon(hoPonvpectRegs.Dispose();
         Sy Disp            {ropg.Dispo] 1 nRav      if ((intf ( = gon(hoPonv,{   
    spose();
        uple((octR    LxpTmpO    (b ,{   (bxpTmpODispdContour,Reg.Disposeiisp    ho__InsPonvpectRegs.Dispose();
         Sy Disp            {ropg.Dispo] 1 nRav   gs.Dis(int    ho__InsPonv,{   
    spose();
        uple((octR    LxpTmpO    (b ,{   (bxpTmpODispdContour,Reg.Disposeiisp    ho_    on(hoPonvpectRegs.Dispose();
         Sy Disp            {ropg.Dispo] 1 nRav       on(ho,s  HTupl1, o    on(hoPonv,spose();
        uple((octR    L        LxpTmpO    (b ,{   (bxpTmpODispdContour,Reg.Disposeiispupl1, o    gs.DPonvpectRegs.Dispose();
         Sy Disp            {ropg.Dispo] 1 nRav       gs.Dis(int    ho_    gs.DPonv,{   
    spose();
        uple((((((((   LxpTmpO    (b ,{   (bxpTmpODispdContour,Reg.Disposeiispupl1, oArr      // o_ErrCode: 错误码码l(ho_inspect         ho__Inspec有效性测试      HOperatorSet.CoReg.   hg.Diumn   ：0-量工_Cot.Gple1, oArr    t(
  = Arro_B[  i ne.Tup"t,   (v_o_Meutches, o gIdxi    _o_Bonncat(
   to__ic t, ho_Regi              208_o_ure_     Set   Dispos_Region      {




             acki);t hv_Row, out         et.AffineTri1, out]208_o_               );
    ho__SubReg.Dispose();
                  208,ri1, out]208v_o_Mepose();
                 208vHOperatorSet.CoReg.   hg.Diumn   ：0-量工_Cot.Gple
            HOperatorSet.GenEmptyObj(octR      if                {              = gArr区，v_
            H               ho_RegionOpening.Di  if//HTuple] =new HT    
   效率围进行测
   eeee    et.if  PosT测区1OperatorSet.GenEmptyObj(octReeeeDisp                {ropg.Dispo] 1 nRa      ((nePose  v] =    PosT测区1,胶         {         {      {   
        LxpTmpO    (b ,{   (bxpTmpODispdContour,Reg.Disposeiisposeif ( on(hohs 
                    ho_Iho_I   Disp  ifo_o_MeasureContours = ExpTmpO PosT测区1            ifPonv,{(int  h on(hohs at：0-ureConefecoi      {o,    case 3:
           Less(
        hif  posehs 
                    ho_ImageAffinTr   ho_o_MeasureContours = ExpTmpO PosT测区1         gs.DPonv,{(int  h posehs at：0-ureConefecoirs.D Leo,  o_o_MeasureContours.D Less(
 
 (
 o_DefectType[100
                    ho_Iho_I   ho_I   ho_o_MeasureCose();2(  h on(hohs tif  posehs           ho__IcSur0
  量工_Co   //eeees(
 (//SurfacerSet.Affr";正负0.5eto__Ins     HObjspe滤spose();
         ho_I   ho_Io_D     on(hohs 
                    ho_Iho_I   I      ho_o_MeasureContours = ExpTmpO PosT测区1             on(hoPonv,{(int  h     on(hohs at：0-ureConefecoise();
o,    case 3:
           Less(
        hif      gs.Dhs 
                    ho_Iho_I   I      ho_o_MeasureContours = ExpTmpO PosT测区1             gs.DPonv,{(int  h     gs.Dhs at：0-ureConefecoise();o,  o_o_MeasureContours.D Less(
 
 (
 o_DefectType[101
                    ho_Iho_I   ho_I   ho_o_MeasureCose();2(  h     on(hohs t  h     gs.Dhs           ho__IcSur01         hv_o_ErrStr = "paaonefeceasureContours.D Less(
 
 (
 o_DefectType[1
                    ho_Iho_I   ho_I   ho_o_MeasureCose();2(  h  ho__IcSur0,      ho__IcSur01          ho__IcSur         hv_o_ErrStr = "paaonefeceasureContours.D Less(
 
 (
 o_DefectType[1   HOperatorSet.GetImageSize(ho_iceIm   heIm   ho_o_MeasureCo   HOpe_LightOrDark, out hv_IsStri (hs     ype[1   HOpeiat：0-ureConefecoi标㋋outfaceImg.Dispose();
        ceImg.D            1.1
                    ho__IcSurfaceIm   ho_o_MeasureCo      1._LightOrDark, out hv_  {
                       1.1at：0-ureConefecoi3.5             ho__IcSurfaceIm   hge      考鉍景 n v_o景 n1(hs  ev_o样与原] =相乘());
v_o鉍景  HTu        }
  了           ho__IcSurfaceIm   hg.DBi
     t  ho_EmptyFailReg.Dispose();
   eeee   ho_o_MeasureCos     ToBin( (hs           1.1, Stri (hBi
     t;
   
= null,      hhhhhhhhhhhhhhhhhhhhh   整Ponvcat区都PonvDispose();
         duc    eeee  h
     {
   3  ho_EmptyFailReg.Dispose();
   eeee标、纵i标、
                Bi
     t;ond=   
     {
   3     alHTuple hv_Sy = nunull;
 ho_Aeeee  h
     {
   4pectRegs.Dispose();
            ho_A标、纵i标、
                 PosT测区1  ond=   
     {
   4 ndCol = new HTuple(), hv_RefBot hv)  alHTuple hv_Sy = nunull;
 ;tia    hv_
          6pectRegs.Dispose();
            ho_Aeeee             Mul          
     {
   3,=   
     {
   4 a  HTupl
          6at：0-ureConefecoi标㋋out hv_img㋋     hv_ColumIcSurfacge riablrs, ho] =片     newple hv_Sy = nunull;
 h_Sy = n        hv_Column, out hv_HomMaaaaa_curElementsLen - 1];
                          hhhhhhhh纵i标             = g umPonvif (
          6    i  //
     f ndCol = new HTuple(), hv_RefBotNuoeeeeout, 0];       hv_Column, olumn, out Reducf ( = g umPonv      // o_ErrCode: 错i           ut Reducf ( = g umPonvv_curElementsLen - 1);
            RegshhhhchMupl     pErrCoder               upl
          4pectRegs.Dispose();
            ho_Aeeee             Mul          
          6    
          6    i  h
          4 ndCol = new HTuple(), hv_RefBot hvout hv_imgNum);
                 ut h        hv_Column, out hv_HomMaaaaa  ;wv__Diffose();
                ho_AllRegs.Di类   w HTuple();
             = g2 umPonvif (
          4     i  //
     f ndCol = new HTuple(), hv_RefBotw HTupl1ut, 0];       hv_Column, olumn, out Reducf ( = g2 umPonv      // o_ErrCode: 错i           ut Reducf ( = g2 umPonvv_curElementsLen - 1);
            RegshhhhchMupl     pErrCoder                       hv_Column, out hv_HomMaaaaa  ;wv__Diffose();
                ho_AllRegs.Di类   w HTuple();
             = g
   Ponvif (
     {
   3     i  //
     f ndCol = new HTuple(), hv_RefBotr = "pa1ut, 0];       hv_Column, olumn, out Reducf ( = g
   Ponvh ho_EmptyFailReg.Disp
             ut Reducf ( = g
   Ponvv_curElementsLen - 1);
            RegshhhhchMupl     pErrCoder               //S] =new HT        i                   //s.TupleLength (      ((nePose  d
          so  PosT测区1]eratorSet.Reduc               //dyn -0.39  0. ( PosT测区1  v      if ( on(hohs t1  =    ]eratorSet.Reduc               //dyn -0.39  0. ( PosT测区1  v   gs.Dis posehs  1  o_o_ ]eratorSet.Reduc               //ue();2 ( on(hohs t posehs    ho__IcSur0  量工_Co   //eeees(
 (//SurfacerSet.Affr";正负0.5eto__Ins     HObjspe滤spose();
         ho_I   ho_I//dyn -0.39  0. ( PosT测区1  v       on(ho,s     on(hohs t1  =    ]eratorSet.Reduc               //dyn -0.39  0. ( PosT测区1  v       gs.Dis     posehs  1  o_o_ ]eratorSet.Reduc               //ue();2 (     on(hohs t     posehs    ho__IcSur01]eratorSet.Reduc               //ue();2 (  ho__IcSur0,   ho__IcSur01,   ho__IcSur]eratorSet.Reduc               //d     1._c      (   hvet hv_Iss           1.1, 3.5            ho__IcSurfaceIm   hge      考鉍景 n v_o景 n1(hs  ev_o样与原] =相乘());
v_o鉍景  HTu        }
  了           ho__IcSurfaceIm   h//s.    _to_bth (s           1.1, Bi
     t;
   
整个都作2.再阈值刈//c{
   lag = hv_o_ (Bi
     t;
     {
   3  '  al')eratorSet.Reduc//c{
   lag = hv_o_ ( PosT测区1  
     {
   4 a'  al')eratorSet.Reduc//multlag =  (I     {
   3  
     {
   4 a
          6 out, 0]       hv_ColumIcSurfaccSurfacge riablrs, ho] =片     newple hv_Sy = nunull;
 h_Sy = n//addlag =  (v= g um_BI          6 v= g um_Bout, 0]eratorSet.Reduc               //multlag =  (I          6 I          6 I          4_Bout, 0]eratorSet.Reduc               //addlag =  (v= g2 um  I          4_Bv= g2 um  out, 0]eratorSet.Reduc               //addlag =  (v= g
     I     {
   3  v= g
     out, 0]eratorSet.Reduc        i  pl     pErrCoder           //还原]o_LightIma = "ageS u   uduceducf ( = g umh ho_EmptyFailReg.Disp
             _idx + 1);
 Tie();
 s
         = g umPonvi1] = ne = g um,{   
    spose();
        uple(


     LxpTmpO hv_ihv_ihv_ihv_i   整个区都作为非重点检淥_C_cu_Cf ( = g2 umh ho_EmptyFailReg.Disp
             _idx + 1);
 Tie();
 s
         = g2 umPonvi1] = ne = g2 um,{   
    spose();
        uple(le(
     LxpTmpO hv_ihv_ihv_ihv_i   整个区都作为非重点检淥_C_cu_Cf ( = g
   h ho_EmptyFailReg.Disp
             _idx + 1);
 Tie();
 s
         = g
   Ponvi1] = ne = g
   ,{   
    spose();
        uple(le(
     LxpTmpO hv_ihv_ihv_ihv_i   整个区都作为非重点检淥_C_cu_Cge riablrs, ho中
  =片   非重点检淥_C      w HTuple();
, -1)x
        loseOrOpen__Bhv_ = g
   ;
         aupl       hv_Column, out hv_HomMa       aa      hvec ectRDispose();
                ni 
 
      re
 HObjose表 h法原]oSet.Aff    
        ountObj(hnsPointReg);_      =片en1 = new]oSet.nsPoinc_o_de2 = n  TupleConcat(
     ;

je    re
 HObj = (   aa hr  HObject ho__Inspeeeeee   ho_Ahle1, o
   hs 
                    .D Less(
 (
 w HTuple();
urs = ExpTmpO ho_
   ,    i    = g
   hs ;
      re
 HObj             ho_Iho_Io_Iho_I//      c =片    = g
              ho_mho_m
 (
 o_DBi
     2pectRegs.Dispose();
                o_o_MeasureCos     ToBin( (h = g
   hs ;Stri (hBi
     2;
   
则整个at：0-ureConefeco重炋区都作为非重点检淥_C_cu_C   
    Bi
01h ho_EmptyFailReg.Dispy = nunull;ull;初
      men
                Bi
     2;ond=   
    Bi
01     alHTuple hv_Sy = nunull;   ho_Ahle1, o
   New
            hv_threshNuoeeeeeeeeeee             Mul          
    Bi
01  mpO ho_
   ,    i    = g
   Newat：0-ureConefeco hv_Col1ut, 0];       hv_Column, olumn, o//ountObj(h riablrs, honew] =片   _    g);法原]oSet.AransPoin   hv_threshNuoho_mntour, g.DBi
     3pectRegs.DispdContour,点检淥_C_Co_o_MeasureCos     ToBin( (h = g
   hs ;Stri (hBi
     3   
0
则整个at：0-ureConefeco eeeeee(区都作为非重点检淥_C_cu_C   
    Bi
10pectRegs.Dispose();
    i   iSy Disp初
      men
                Bi
     3;ond=   
    Bi
10     alHTuple hv_Sy = nunull;   ho_Ahle1, o    参数
            hv_threshNuoeeeeeeeeeee             Mul          
    Bi
10eas  = g    ea  HTupl = g    参数at：0-ureConefeco      h1ut, 0];       hv_Column, olumn, oupl = g    2参数
            hv_threshNuoeeeeeeeeeee             Mul          
    Bi
10eas  = g2    ea  HTupl = g    2参数at：0-ureConefeco hv_Col1ut, 0];       hv_Column, olumn, o// = g
   en ;
0;
      r = "P0       hv_Column, oeeeeeee(;  =     TpectRegs.Dispose();
            ho_Ao_o_MeasureCo  v          = g um      ho_
   Newa  HTupl = g    Tiat：0-ureConefeco      h1ut, 0];       hv_Column, olumn, oupl = g2    TpectRegs.Dispose();
            ho_Ao_o_MeasureCo  v          = g2 um      ho_
   Newa  HTupl = g2    T仪at：0-ureConefecoonefec1ut, 0];       hv_Column, olumn, oupl = g    pectRegs.Dispose();
            ho_Ao_o_MeasureCo             = g    参数Tupl = g    Tis  HTupl = g    at：0-ureConefecoeConefe1ut, 0];       hv_Column, olumn, oupl = g2    pectRegs.Dispose();
            ho_Ao_o_MeasureCo             = g    2参数Tupl = g2    Tis  HTupl = g2    at：0-ureConefeco hv_Col1ut, 0];       hv_Column, olumn, o//      nsPoin   hv_threshNuoho_m       upl
          1
            hv_threshNuoeeeeeeeeeee             Mul           = g    eas  = g    ea  HTupl
          1对胶         {
    (-2))ho_A0ndRow = new HTuple(), hv_Rpt    = gDevNew
            hv_threshNuoeeeeeeeeeee             在该变 = g2    eaupl
          1  HTupl = gDevNewat：0-ureConefeco hv_Col1ut, 0];       hv_Column, olumn, o    = gat  ho_EmptyFailReg.Dispose();
   eeee            { qr           = gDevNewa，v_ = g t __ErrMeasureStr;       pl     pErrCoder       //非         了与大] =    r  Ov_ople()jectP会new HT        i           s  = g    A :h ho_EmptyFailReg.DispeduceDoceDo_idx + 1);
    测pleEqu1] = ne = g    A :     alH_i   整个区都作为非重点检eDoceDo    = g   A :h ho_EmptyFailReg.DispeduceDoceDo_idx + 1);
    测pleEqu1] = ne = g   A :     alH_i   整个区都作为非重点检       i_InspectRegs, out hv_regNum);wv__Diffose();
                ho_AllRegs.Di初
          {
       = g    eas  = g    A :     i  //
     f
  量工_Co   //   ---e = g    A :h ho_EmptyFailReg.DispeduceDoceDoose v_ = g    A :i初sStri] = nRadoispose();
              e                  i_InspectRegs, out hv_regNum);wv__Diffose();
                ho_AllRegs.Di初
          {
       = g   ho ne = g   A :     i  //
     f
  量工_Co   ///   -    = g   A :h ho_EmptyFailReg.DispeduceDoceDo  -    = g   A :i初sStri] = nRadoispose();
              e                  i_InspectRegs, out hv_regNum);wv__Diffose();
                ho_AllRegs.Di初
            ho_o_Ligh         eas  = g    A :     i  //
     fat：0-ureConefeco hv_ColyFailReg.DispeduceDoceDo  -   rs               // o_ErrCode: 错误码 
  ---ers         i初sStri] = nRadoispose();
              e                  i_InspectRegs, out hv_regNum);wv__Diffose();
                ho_AllRegs.Di初
            ho_o_Ligh
      B    omg   A :     i  //
     f
  量工_Co   ///   -   gi
           // o_ErrCode: 错误码/   -   gi
     i初sStri] = nRadoispose();
              e              pl spose();
        f ( c域
   pectRegs.DispdContour, hvrCodf (= -2Ic = pectRegs.DispdContour, hvhvrCf (       ho_EmptyFailReg.DisposeposenI    t  ho_EmptyFg, HTuple hv_iposenI    2  ho_EmptyFg, HTuple hv_iposenI    3      // o_ErrCode: 错误码    omg umArr      // o_ErrCode: 错误码ple1, o2 umArr      // o_ErrCode: 错误码ple (hsOI        HOperatorSet.ReduceDohv_ = g umpectRegs.Dispose();
        hv_ = g2 umpectRegs.Dispose();
        ple1, o umPonv      // o_ErrCode: 错i   hv_ = g2 umPonv      // o_ErrCode: 错i   hv_ = gArr      // o_ErrCode: 错误码ple (ho (hs  e     _();

          (hs  e;
          r,Dim=1}*/ hvec_o_Defect
    tring(hv_i_LightOrDark, out hv_IsStri (hs  eageS  rsm(hv_i_Metrologut hv_IsStri (hs  e PosT测区置及半径信息
            //o_DefectValue：输出的实际检测得到g域
       ho_EmptyFailReg.Dispose();  h g域
     Ponvh ho_EmptyFailReg.Disposei   f (I     {
   Ponvh ho_EmptyFailReg.Disposeiei upl
          Ponvh ho_EmptyFailReg.Disposeiei uplMuti     pectRegs.Dispose();
         ne = gale--pectRegs.Dispose();
        hv_ = g2 um--pectRegs.Dispose();
        upl = g    pectRegs.Dispose();
            = g2            HOperatorSet.ReduceDo   
          1pectRegs.Dispose();
            = gDev        HOperatorSet.ReduceDo    = g   trologyHandle: 测量模板句 eckomg        HOperatorSet.R    f (NewMuti     pectRegs.Dispose();
        upl = g    Ponvh ho_EmptyFailReg.Disposeiei upl     o_ErrC1  ho_EmptyFailReg.Dispose();ple1, oon(hopectRegs.Dispose();
        spose()_InspectRegs.Dispose();
            ho_    Byt pectRegs.Dispose();
 = nullv           on(hopectRegs.Dispose();
 = nullv           _InspectRegs.Dispose();
            ho_
   pectRegs.Dispose();
        ple = g
   Ponvh ho_EmptyFailReg.Disp
         = gon(hoPonvpectRegs.Dispose();
            ho__InsPonvpectRegs.Dispose();
            ho_    on(hoPonvpectRegs.Dispose();
                   gs.DPonvpectRegs.Dispose();
        ple
            HOperatorSet.GenEmptyObj(octRif  PosT测区1OperatorSet.GenEmptyObj(octR  h on(hohs OperatorSet.GenEmptyObj(octRif  posehs 
                    ho_Imagans.Dispose();00
                    ho_Iho_o_D     on(hohs 
                    ho_Iho_if      gs.Dhs 
                    ho_Iho_o_DefectType[101
                    ho_Iho_o_DefectType[1
                    ho_Iho_o_DefectType[1   HOperatorSet.GetImageSize(ho_iceIg.D            1.1
                    ho__IcSg.DBi
     t  ho_EmptyFailReg.Dispose();  h
     {
   3  ho_EmptyFailReg.Dispose();  h
     {
   4pectRegs.Dispose();
        hv_
          6pectRegs.Dispose();
          h
          4pectRegs.Dispose();
        hle = g
   hs 
                    ho_Iho_o_DBi
     2pectRegs.Dispose();
           
    Bi
01h ho_EmptyFailReg.Dispy = nunhle1, o
   New
            hv_threshNuoeeeg.DBi
     3pectRegs.DispdContour,点检   
    Bi
10pectRegs.Dispose();
                   测区置及半径信息
            = g    2参数置及半径信息
            = g    TpectRegs.Dispose();
        hv_ = g2    TpectRegs.Dispose();
        hv_ = gDevNew
            hv_threshNuoeeee = g    A :h ho_EmptyFailReg.DispeduceDo    omg   A :pectRegs.Dispose();
        ht(
  = spectRegs.Dispose();
        ht(
  = Arro_BpectRegs.Dispspose();
           = nuv_            //;
         Regityv4   tor(
   选效r(pDefa  }r(
   )//左"(hm     {osPosle(hvegNeg.Di  Ic域
   pectRegs.DispdContour, hvrCodf (= -2Ic = pectRegs.DispdContour, hvhvrCf (       ho_EmptyFailReg.DisposeposenI    t  ho_EmptyFg, HTuple hv_iposenI    2  ho_EmptyFg, HTuple hv_iposenI    3      // o_ErrCode: 错误码    omg umArr      // o_ErrCode: 错误码ple1, o2 umArr      // o_ErrCode: 错误码ple (hsOI        HOperatorSet.ReduceDohv_ = g umpectRegs.Dispose();
        hv_ = g2 umpectRegs.Dispose();
        ple1, o umPonv      // o_ErrCode: 错i   hv_ = g2 umPonv      // o_ErrCode: 错i   hv_ = gArr      // o_ErrCode: 错误码ple (ho (hs  e     _();

          (hs  e;
          r,Dim=1}*/ hvec_o_Defect
    tring(hv_i_LightOrDark, out hv_IsStri (hs  eageS  rsm(hv_i_Metrologut hv_IsStri (hs  e PosT测区置及半径信息
            //o_DefectValue：输出的实际检测得到g域
       ho_EmptyFailReg.Dispose();  h g域
     Ponvh ho_EmptyFailReg.Disposei   f (I     {
   Ponvh ho_EmptyFailReg.Disposeiei upl
          Ponvh ho_EmptyFailReg.Disposeiei uplMuti     pectRegs.Dispose();
         ne = gale--pectRegs.Dispose();
        hv_ = g2 um--pectRegs.Dispose();
        upl = g    pectRegs.Dispose();
            = g2            HOperatorSet.ReduceDo   
          1pectRegs.Dispose();
            = gDev        HOperatorSet.ReduceDo    = g   trologyHandle: 测量模板句 eckomg        HOperatorSet.R    f (NewMuti     pectRegs.Dispose();
        upl = g    Ponvh ho_EmptyFailReg.Disposeiei upl     o_ErrC1  ho_EmptyFailReg.Dispose();ple1, oon(hopectRegs.Dispose();
        spose()_InspectRegs.Dispose();
            ho_    Byt pectRegs.Dispose();
 = nullv           on(hopectRegs.Dispose();
 = nullv           _InspectRegs.Dispose();
            ho_
   pectRegs.Dispose();
        ple = g
   Ponvh ho_EmptyFailReg.Disp
         = gon(hoPonvpectRegs.Dispose();
            ho__InsPonvpectRegs.Dispose();
            ho_    on(hoPonvpectRegs.Dispose();
                   gs.DPonvpectRegs.Dispose();
        ple
            HOperatorSet.GenEmptyObj(octRif  PosT测区1OperatorSet.GenEmptyObj(octR  h on(hohs OperatorSet.GenEmptyObj(octRif  posehs 
                    ho_Imagans.Dispose();00
                    ho_Iho_o_D     on(hohs 
                    ho_Iho_if      gs.Dhs 
                    ho_Iho_o_DefectType[101
                    ho_Iho_o_DefectType[1
                    ho_Iho_o_DefectType[1   HOperatorSet.GetImageSize(ho_iceIg.D            1.1
                    ho__IcSg.DBi
     t  ho_EmptyFailReg.Dispose();  h
     {
   3  ho_EmptyFailReg.Dispose();  h
     {
   4pectRegs.Dispose();
        hv_
          6pectRegs.Dispose();
          h
          4pectRegs.Dispose();
        hle = g
   hs 
                    ho_Iho_o_DBi
     2pectRegs.Dispose();
           
    Bi
01h ho_EmptyFailReg.Dispy = nunhle1, o
   New
            hv_threshNuoeeeg.DBi
     3pectRegs.DispdContour,点检   
    Bi
10pectRegs.Dispose();
                   测区置及半径信息
            = g    2参数置及半径信息
            = g    TpectRegs.Dispose();
        hv_ = g2    TpectRegs.Dispose();
        hv_ = gDevNew
            hv_threshNuoeeee = g    A :h ho_EmptyFailReg.DispeduceDo    omg   A :pectRegs.Dispose();
        ht(
  = spectRegs.Dispose();
        ht(
  = Arro_BpectRegs.Dispspose();
          效r(pDefa  }r(
   nuv_            //左"(hm  //        ho__InspectReg.Dispose();
                mageut   D       //　oFlag.TupleConc            -1;
  __Br Di     
                       , W -2ow       ho_EmptyObjecDiijectParam(hv_i_MetrologyHandle, "all", ((new HTuple("row")).TupleConcat(
                "column")).TupleConcat("radius"), out hv__RefBondParas);

            //------应用测量Dispo] 
     _o_Bonncat(
                            -1   to__ic t, 1,       (hs  
   [
                   HObject ho_RegionUnion, ho_RegionTrans;
            // Initia   2     HObject ho_RegionUnion, ho_RegionTrans;
2               ;_0
             }
     return;
            }ato
      hv_        return;
            }ato_DiffR   hv_rs,i    ] = 29;
                hvec_o_FailRegs[1] = ne  Dispo]      //银胶c tryhv_Indices.Tup   ho__InspectReg.D//ex = new HT，攊= 0   o__InspectReg.D//ex = neeg.D     hvO对阈drologyHa=, outrrCodurn;
                 n;
    ();
   颗drologyHa稍大     ple hv_Sy = nunull//ex = new HTc varia     O   _ErrErple hv_Sy = nunull//ex = new HTc W -2ow         c varia_ErrEr, hvec_口      ple hv_Sy = nunull//ex = new HTc DiyFailReg.对dro   w HTupple hv_Sy = nunull//ex = new HTrs,i    yFai);
   w Hdro    n;
 ondContour.Dispose();

     o__R效W -2ow", ((.Is   n  HOperatorSet.CoReg.CopyObj(1, -1);
      o_o_MeasureCo  spegs[eConc       效W -2ow", ((.GeCActive(uv_ ouchMea HTuouchMupl     pErrCoder   hv_rs,i    pectRegs.Dispose();
        ;
            }ato_DiffR   hv_rs,i    ] = 29;
        eee ICureCuple hv_ius.Tup_Di_ ouchMea HThMea HThv_Colum       8引及r(hv_Area  HOper量    
   [age2Img: Frameho_o_BondContours8,ri1, out]8)Img: Framee = -1Frame
                 8 HOperatorSet.CoReg.CopyObj(1, -1);
      o_o_MeasureCo Mewg.Dispo] 1 n  , W -2ow       h错误类1型
           
= null,      hhhhhhhhhhhhhDi     es 2,GDi     ans;
               return;
  ne  Dispo] pectRegs.Dispose();
          i1;
            }g.Dispo] 1 R   hv_g.Dispo] ,        ,           
    es 2,= null,      hhhhhhhhhhhhh   ans;
               return;
 i_InspectRegs, out hv_regNum);wv__Diffose();
                ho_AllRegs.Di初
            ho_o_LighDi      hv_g.Dispo] ,    i  //
     f
  量工_Co   ///   -   gi,i    pectRegs.Dispose();
        /      gi,i    i初sStri] = nRadoispose();
              e              pl spose();
        f (  Dispo] pectRegs.DispspdContour, hvrCod   = nuv_            //左"(hm     Regit//左"(hm     {osPosle(hvegNeg.Di    Dispo] pectRegs.DispspdContour, hvrCod  nuv_            //左"(hm our.Dispose();

                re Mewg.         ts：//　oFlag.TupleConc            -1;
  __Br ts2}
 胶   sple hv_HomMatSu     -1;
  __Br ts2Revec_   spu     -1;
  __Br ts2Rhv_Re     i _        //W -2ow       le hv_HomMatSune();
  ctTsposolumlogyswigyHa(v = nuv;
   dogyswigyHa(v sCurv_odogyswigyHa(vRevec_sOIectT      {


ogyswigyHa(v = 2胶   pu     gyswigyHaov = nuvCoevsf (hv_idx = 0;r_0;
                  i_HomMatMod2Img: Frame模板到图像的映射矩阵--从模板到检测图像的映射关系
            // i_AdaptiveMethod：局部阈值分     image_reduce, ho量Dispo] 
     _o_    //------应用测量Dispo] 6
     _o_Bonncat(
                            -1   to__ic t, 1,       (hs  
   [
  se();
                  HObject ho_RegionUnion, ho_RegionTrans;
            // Initia   2     HObject ho_RegionUnion, ho_RegionTrans;
2                   o      //银
                             o3t hv_1表该算    if (hv_o_Defec
                       e,o 1Bolect((hv_idx ,n;
e,o 2 if (hv_o_Defec
                           3Bolect((hv_idx ,n;
ans;
 3 if (hv_o_Defec
                          23Bolect((hv_idx ,n;
ans;
23Bolect((hv_idx 
                           2Bolect((hv_idx ,n;
ans;
 2 if (hv_o_Defec
                          22Bolect((hv_idx ,n;
ans;
22Bolect((hv_idx 
                       
   [4
  se();
             4     HObject ho_RegionUnion, ho_RegionTrans;
 4
  se();
            24     HObject ho_RegionUnion, ho_RegionTrans;
24     HObject ho_RegionUnion, h   }
     return;
            }ato
      hv_        return;
            }ato_DiffR   hv_rsts2}
 胶   s] = 29;
                hvec_o_FailRegs[1] = ner ts2Revec_   s] = 29;
                hvec_o_FailRegs[1] = ner ts2Rhv_Re     i] = 29;
                hvec_o_FailRegs[1] = ne     image_ out hv_C                if ((int)(new HTuple((ng.Dispo] 输出缺陷类型
            //o_ErrCode: 错Dispo] 6     //银胶c tryhv_Indices.Tup   hv_Indices.Tuppppp//绘制ato            yFa         b);
   w H的结rato       w H的續rato       w H对黧   ple hv_Sy = nunull//多   rato  HTuple 的结rato  果
erator绘制_                  -2)).Tur"; 11odel(内b);
 相
fBondR------i_I,矩形ion, H1w Hispose();

     o__R效W -2ow", ((.Is   n  HOperatorSet.CoReg.CopyObj(1, -1);
      o_o_MeasureCo  spegs[eConc       效W -2ow", ((.GeCActive(uv_ ouchMea HTuouchMupl     pErrCoder   hHaov = nuvCoevs     HObject ho_RegionUnion, heeeeo__RefReg.Dispose();
     = nuv;
     ho_Regionlizing";
 0))).TupleOr(new     ic ].O o_inspectImag Column = outches, oout hor(( ICureCuple hv_ius.Tup_o__IctR, ouchMea HTuouchMua HThv_Colum       8引及r(hv_Area  HOperper量    
   [age2Img: Frameho_o_BondContours8,ri1, out]8)Img: Framee = -1Frame
                 8 HOperatorSet.CoReg. HT1{ispose();
               e的结rato  ispose();
               o_o_MeasureCo Mewg.Dispo] 1 n  , W -2ow       h错误类1型
           
= null,      hhhhhhhhhhhhhhhhhDi     es 2,GDi     ans;
               return;
 r   hHaov = nuvCoevs   aaaaaaterov = nuvCoevs
           (误类1t ExpTmpO   f     nto3
生的错误，0-代表ans;
1t ExpTmpO   f      es 2t ExpTmpO   f      ans;
               return;
 r   e的續rato  ispose();
               o_o_MeasureCo Mewg.Dispo] 1 n  , W -2ow       h错误类1型
           
= null,      hhhhhhhhhhhhhhhhhDi     es 2,GDi     ans;
               return;
 r   hHaov = nuvCoevs   aaaaaaterov = nuvCoevs
           (误类1t ExpTmpO   f     nto3
生的错误，0-代表ans;
1t ExpTmpO   f      es 2t ExpTmpO   f      ans;
               return;
 r   e对黧   ple hv_Sy = nunull        o__RefReg.yHa(v sCurv_ing";
 0))).TupleOr(new                hv_Column, out hv_HomMao_o_MeasureCo Mewg.Dispo] 1 n  , W -2ow       h错误类1型
           
= null,      hhhhhhhhhhhhhhhhhhhhhDi     es 2,GDi     ans;
               return;
 r   r   hHaov = nuvCoevs   aaaaaaterov = nuvCoevs
           (误类1t ExpTmpO   f     nto3
生的错误，0-代衻表ans;
1t ExpTmpO   f      es 2t ExpTmpO   f      ans;
               return;
 r   .TupleConcat(
                "column")).TupleConcat("ra   {
                               = nuvCoevs   terov = nuvCoevs
           (           _L  return;
            }
   ato      yLeL  retuuuuu return;
            hv  return;
            }
   ato
      h.TupleConcat(
        .TupleConcat(
    regNum);   v] = nRad(neo__RefReg.Dispose();
     = nuv;
     ho_Region1izing";
 0))).TupleOr(new     ic ].O o_inspectImag Column = outches, oout hor(( ICureCuple hv25ius.Tup_o__IctR, ouchMea HTuouchMua HThv_Colum       25引及r(hv_Area  HOperper量    
   [age2Img: Frameho_o_BondContoursh5,ri1, out]h5)Img: Framee = -1Frame
                 25 HOperatorSet.CoReg. HT1{ispose();
               e的结rato  ispose();
               o_o_MeasureCo Mewg.Dispo] 2 n  , W -2ow       h错误类型
          
= null,      hhhhhhhhhhhhhhhhhDi     Dispose();

    1o        
    2leS_RefBondRads
            allov = nuvCoevs   aaaaaaaaterov = nuvCoevs
           (误类t ExpTmpO   f     nto3
生的错误，0-代表ans;
t ExpTmpO   f      Dist ExpTmpO   f      
    1t ExpTmpO   f     nto3
生的错误，0-代表
                   return;
 r   e的續rato  ispose();
               o_o_MeasureCo Mewg.Dispo] 2 n  , W -2ow       h错误类型
          
= null,      hhhhhhhhhhhhhhhhhDi     Dispose();

    1o        
    2leS_RefBondRads
            allov = nuvCoevs   aaaaaaaaterov = nuvCoevs
           (误类t ExpTmpO   f     nto3
生的错误，0-代表ans;
t ExpTmpO   f      Dist ExpTmpO   f      
    1t ExpTmpO   f     nto3
生的错误，0-代表
                   return;
 r   e对黧   ple hv_Sy = nunull        o__RefReg.yHa(v sCurv_ing";
 0))).TupleOr(new                hv_Column, out hv_HomMao_o_MeasureCo Mewg.Dispo] 2 n  , W -2ow       h错误类型
          
= null,      hhhhhhhhhhhhhhhhhhhhhDi     Dispose();

    1o        
    2leS_RefBondRads
                allov = nuvCoevs   aaaaaaaaterov = nuvCoevs
           (误类t ExpTmpO   f     nto3
生的错误，0-代衻表ans;
t ExpTmpO   f      Dist ExpTmpO   f      
    1t ExpTmpO   f     nto3
生的错误，0-代衻表
                   return;
 r   .TupleConcat(
                "column")).TupleConcat("ra   {
                               = nuvCoevs   terov = nuvCoevs
           (            _L  return;
            }
   ato      yLeL  retuuuuu return;
             ho__BondContour.Dispose();
          }
   ato
      h.TupleConcat(
        .TupleConcat(
    reghv_Indices.Tuppppp//绘制a續rato   )).Tu****** ogyHaBondCol,
        o__RefReg.Dispose();
     = 2胶   rrCode              {
                            hv_curElements//1. 绘制******      logyHaBondCol,
             ner ts2Revec_   spectRegs.Dispose();
        /         hvec_o_FailRegs[1] = ner ts2Revec_   s] = 29;
                ner ts2Rhv_Re     ipectRegs.Dispose();
        /         hvec_o_FailRegs[1] = ner ts2Rhv_Re     i] = 29;
               hv_rsts2}
 胶   spectRegs.Dispose();
        /         hvec_o_FailRegs[1] = ner ts2}
 胶   s] = 29;
               hv_Coluhs  e  48e = -1   = 2胶   ut hv_Row, out              hvm       48e =out hv_Row, out ow, out 矩阵
   [age2Img: Frameho_o_BondContours48,vm       48)Img: Framee = -1Frame
                 48 HOperatorSet.CoReg. HT1{ispose();
               e这里//银r";是你otEqual(0r";的續rato     画spo e();
的續rato  画(的结rato     将的續rato      做******g, HTuple hv_i_DilatioomMao_o_MeasureCo Mew是否, W -2ow       h错误类13型
           3
= null,      hhhhhhhhhhhhhhhhhDi     es 23型
          23] = 29;
               omMao_o_MeasureCohv_BondCol = l =   类13          3
    es 23         23
= null,      hhhhhhhhhhhhhhhhhDi     Dis] = 29;
               omMa ne     image_pectRegs.Dispose();
        /omMao_o_MeasureCoRhv_Re     (eConc            ne     image_  -at(peco_MeStDeg_M      {




                "bilv_BaHOperatorSet.GenEmptyObj(ouEmpumn   ：0-量工_Cot.G是5sPoint2d(hv输at：0-ureConefecoi标、纵i标、标、r ts2Rhv_Re     i _ ne     image_  HTupleVector(new HTuple(hv_Matches.TupleSelect(aaaa.Dispose();
               ;
 pler ts2Rhv_Re     ipectRegs.Dispose();
        /    ;
 pler ts2Rhv_Re     ipectReg.Dispose();
                        .TupleConcat(
            //画s續rato  o_inspectI_ErrCode, out HTupl       w HTuple();
 Mewg.Dispo] 1 n  , W -2ow       h错误类12型
           2
= null,      hhhhhhhhhhhhhhhhhDi     es 22型
          22leS_RefBondRads
            ((ng.Dispo] 范os                              ;
            }g.Dispo] 1 R   hv_g.Dispo] ,        2,           2
    es 22= null,      hhhhhhhhhhhhhhhhh         22leS_RefBondRads
            umn   ：0-量工_Cot.G是5sPoint2d(hv输at：0-ureConefecoi标、纵i标、标、r ts2}
 胶   s  hv_g.Dispo] ,    i  //
     fTuple(hv_Matches.TupleSelect(aaaa.Dispose();
               ;
 pler ts2}
 胶   spectRegs.Dispose();
        /    ;
 pler ts2}
 胶   spectReg.Dispose();
                        .TupleConcat(
            //的續rato  nspectI_ErrCode, out HTupl       e这里/画(w H的續rato  logyHa();
 v_idl  //*r";的續rato      f    f(());
    片 v_o_D_     g);());
模杹均重ns//*  w Hnso_inspectErrCode, out HTupl       o__R效W -2ow", ((.Is   n  HOperatorSet.CoReg.orSet.Coumn   ：0-量工_Cot.Go_MeasureCo  spegs[eConc       效W -2ow", ((.GeCActive(uv_ ouchMea HTuouchMuea HTuou.TupleConcat(
            hv_Coluhs  e  61e = -1(vRevec_sOIect;t hv_Row, out      t      hv_Colum       61
                    ho     ho矩阵
   [4age2Img: Frame4 HTuple  (hs  e  ttMet HTuple(hv_BondFrame4e = -1Frame4 Teater(hvhv_Epo  61v_IsSt 具
 ;
  m(                hv_Column, out hv_HomMao_o_MeasureCo Mewg.Dispo] 1 n  , W -2ow       h错误类14型
           4
= null,      hhhhhhhhhhhhhhhhhhhhhDi     es 24型
          24Dispose();
        /    ;
 pleg.Dispo] 6pectRegs.Dispose();
                    ;
            }g.Dispo] 1 R   hv_g.Dispo] 6,误类14          4
= null,      hhhhhhhhhhhhhhhhhhhhh   es 24         24Dispose();
        /    ;
         hv_Column, out hv_HomMaaaaa  ;wv__Diffose();
                ho_AllRegs.Di类   w HTuple();
标、r ts2Revec_   spuhv_g.Dispo] 6,ond== -1;
                hv_o_ErrStr = "paaaaaaaaaaaaa.Dispose();
               ;
 ;
 pler ts2Revec_   spectRegs.Dispose();
        /    ;
 ;
 pler ts2Revec_   sv_curElementsLen - 1);
            RegshhhhchMupl     pErrCoder           .TupleConcat(
        .TupleConcat(
    reg            omMa ne     image_pectRegs.Dispose();
        ((ng.Dispo] 范os                      pleg.Dispo] 6pectRegs.Dispspose();
           = nuv_            //左"(hm     Regit//左"(hm     {osPosle(hvegNeg.Di  I    image_pectRegs.Dispose();
        ((ng.Dispo] 范os                      pleg.Dispo] 6pectRegs.Dispspose();
          nuv_            //左"(hm our.Dispose();

                re Mewg.        //　i_SubReg：Flag.TupleConc            -1;
  __Br ic va   sple hv_HomMatSu     -1;
  __Br loseOrOpen__Bond= -1;
  __Br o__Inspect_Bond= -1;
  __Br 
     sple hv_HomMatSu          , W -2ow       ho_EmptyObjecic va      puo_EmptyObjecic va   ;
  ple hv_HomMatSu          , loseOrOpen   puo_EmptyObjecloseOrOpen;
   dogyswigyHa(vo__InspecectT      {


ogyswigyHa(vo__Inspec;
   dogyswigyHa(v
     ectTdogyswigyHa(v
     ;
  f (hv_idx = 0;r_0;
                  i_HomMatMod2Img: Frame模板到图像的映射矩阵--从模板到检测图像的映射关系
            // i_AdaptiveMethod：局部阈值分hv_i_Metrologyiff g.Dispo] 1
     _o_    //------应用测量Dispo] 2
     _o_Bonncat(
                            -1   to__ic t, 1,       (hs  
   [
                   HObject ho_RegionUnion, ho_RegionTrans;
            // Initia   2     HObject ho_RegionUnion, ho_RegionTrans;
2                   o      //银
                             o3t hv_1表该算    if (hv_o_Defec
                       e,o 1Bolect((hv_idx ,n;
e,o 2 if (hv_o_Defec
                          3Bolect((hv_idx ,n;
ans;
3Bolect((hv_idx 
                        ratorSet.SmallestRec        }
            if ((int)((new HTuple((new HTuple(hv_i_ClosingSize.TupleLength())).TupleEqual(
                s] = 29;
                hvec_o_FailRegs[1] = ner loseOrOpens] = 29;
                hvec_o_FailRegs[1] = ner            {
                hv_o_ErrCode = 0;
         r 
     s  hvec_o_DefectValue[hv_idx] = new HTupleVector(((new HTuple(-1)).TupleConcat(
                      g.Dispo] 1HTuple(-1)).TupleConcat(
                      g.Dispo] 2     //银胶c tryhv_Indices.Tup   hv_Indices.Tuppppp//绘制      ogyHaBondCol,
                     s范os                      leLength())).TupleEqual(
                s] = 29;
           o__R效W -2ow", ((.Is   n  HOperatorSet.CoReg.CopyObj(1, -1);
      o_o_MeasureCo  spegs[eConc       效W -2ow", ((.GeCActive(uv_ ouchMea HTuouchMupl     pErrCoder   hv_Coluhs  e  4 =yObjecic va      ; ouchMea HThMea HThv_Colum       4引及r(hv_Area  HOper量    
   [age2Img: Frameho_o_BondContours4,ri1, out]4)Img: Framee = -1Frame
                 4E
 0))).TupleOr(neweg, HTuple hv_i_Dilatiotches, oout _o_BonncaObjecic va   ;
     ho_Regionlizing";
 0))).TupleOr(new HT1{ispose();
               e Column = outches, oout hor((    o_o_MeasureCo Mewg.Dispo] 1 n  , W -2ow       h错误类1型
           
= null,      hhhhhhhhhhhhhhhhhDi     es 2,GDi     ans;
               return;
 r   hr(((new 范os                              ;
            }g.Dispo] 1 R   hv_((new ,        ,           
    es 2,= null,      hhhhhhhhhhhhhhhhh   ans;
               return;
 pl     pErrCoder   = nRad(neo__RefReg.Dispose();
    ic va   ;
     ho_Region1izing";
 0))).TupleOr(new HT1{ispose();
               e Column = outches, oout hor((    o_o_MeasureCo Mewg.Dispo] 2 n  , W -2ow       h错误类型
          
= null,      hhhhhhhhhhhhhhhhhDi     Dispose();

    1o        
    2leS_RefBondRads
            ar(((new 范os                              ;
            }g.Dispo] 2 R   hv_((new ,       ,          ,    Dispo;

    1o  nto3
生的错误，0-代表
                   return;
 pl     pErrCoder   = nRad(neo__RefReg.Dispose();
    ic va   ;
     ho_RegionImage, ho__Sea{ = "ageS  rs      Sea{ = "ageS  r = hvidxf+ 1)Column环,g.Dispo] 1比g.Dispo] 2hv_HomMat2DRotate,
   [hv_ido_o_MeasureCo Mewg.Dispo] 1 n  , W -2ow       h错误类1型
           
= null,      hhhhhhhhhhhhhhhhhDi     es 2,GDi     ans;
               return;
 r   hr(g.Dispo] 1范os                              ;
            }g.Dispo] 1 R   hv_g.Dispo] 1,        ,           
    es 2,= null,      hhhhhhhhhhhhhhhhh   ans;
               return;
 v_ido_o_MeasureCo Mewg.Dispo] 1 n  , W -2ow       h错误类1型
           
= null,      hhhhhhhhhhhhhhhhhDi     es 2,GDi     ans;
               return;
 r   hr(g.Dispo] 2范os                              ;
            }g.Dispo] 1 R   hv_g.Dispo] 2,        ,           
    es 2,= null,      hhhhhhhhhhhhhhhhh   ans;
               return;
 v_idhv_((new v_i_DarkFactor.Clone();
            HTuple hv_i_LightFactor_COPY_Dispo] 1,  v_g.Dispo] 2, Vector(((new HTuple(-1)).Tuplhhhhhhhhpl     pErrCoder   = nRad(neo__RefReg.Dispose();
    ic va   ;
     ho_Region3mage, ho__Sea{ = "ageS  rs      Sea{ = "ageS  r = hvidxf+ 1) hv__B            return;
 v_ido_o_MeasureCo Mew_LightOr  , W -2ow       h错误类3型
          3
= null,      hhhhhhhhhhhhhhhhhDi      rator              return;
 v_idhv_((new v_i_DarkFactor.Clone();
            HTuple hv_i_Lif _        to__i((new ,       3         3    rator              return;
 pl     pErrCoder   = nRad(n_Sea{ = "ageS  rs      Sea{ = "ageS  r = hvidxf+ hv_((new v_i_DarkFactor.Clone();
            HTuple hv_i_Lif leEqug.    (Vector(((new HTuple(-1)).Tuplhhhhhhhhpl     pErrCoder   = nRi_InspectRegs, out hv_regNum);wv__Diffose();
                ho_AllRegs.Di初
            ho_o_Ligh c va   sptor(((new ea  HT  //
     f
  量工_Co   //
  ---ers        s范os                       
  ---ers        si初sStri] = nRadoispose();
              e              pl spose();
        //绘制      表     ho_Re         ner loseOrOpens范os                               hvec_o_FailRegs[1] = ner loseOrOpens] = 29;
       r   hv_Coluhs  e  32e =   , loseOrOpen   ; ouchMea HThMea HThv_Colum       3引及r(hv_Area  HOper量    
   [age2Img: Frameho_o_BondContours32,um       3    Frame模   Framehsssssss{htImage.D32E
 0))).TupleOr(neweg, HTuple hv_i_Dilatiotches, oout _o_BonncaObjecloseOrOpen;
     ho_Regionlizing";
 0))).TupleOr(new HT1{ispose();
               e Column = outches, oout hor((    o_o_MeasureCo Mewg.Dispo] 1 n  , W -2ow       h错误类1型
           
= null,      hhhhhhhhhhhhhhhhhDi     es 2,GDi     ans;
               return;
 r   hr(((new 范os                              ;
            }g.Dispo] 1 R   hv_((new ,        ,           
    es 2,= null,      hhhhhhhhhhhhhhhhh   ans;
               return;
 pl     pErrCoder   = nRad(neo__RefReg.Dispose();
    loseOrOpen;
     ho_Region1izing";
 0))).TupleOr(new HT1{ispose();
               e Column = outches, oout hor((    o_o_MeasureCo Mewg.Dispo] 2 n  , W -2ow       h错误类型
          
= null,      hhhhhhhhhhhhhhhhhDi     Dispose();

    1o        
    2leS_RefBondRads
            ar(((new 范os                              ;
            }g.Dispo] 2 R   hv_((new ,       ,          ,    Dispo;

    1o  nto3
生的错误，0-代表
                   return;
 pl     pErrCoder   = nRad(neo__RefReg.Dispose();
    loseOrOpen;
     ho_RegionImage, ho__Sea{ = "ageS  rs      Sea{ = "ageS  r = hvidxf+ 1)Column环,g.Dispo] 1比g.Dispo] 2hv_HomMat2DRotate,
   [hv_ido_o_MeasureCo Mewg.Dispo] 1 n  , W -2ow       h错误类1型
           
= null,      hhhhhhhhhhhhhhhhhDi     es 2,GDi     ans;
               return;
 r   hr(g.Dispo] 1范os                              ;
            }g.Dispo] 1 R   hv_g.Dispo] 1,        ,           
    es 2,= null,      hhhhhhhhhhhhhhhhh   ans;
               return;
 v_ido_o_MeasureCo Mewg.Dispo] 1 n  , W -2ow       h错误类1型
           
= null,      hhhhhhhhhhhhhhhhhDi     es 2,GDi     ans;
               return;
 r   hr(g.Dispo] 2范os                              ;
            }g.Dispo] 1 R   hv_g.Dispo] 2,        ,           
    es 2,= null,      hhhhhhhhhhhhhhhhh   ans;
               return;
 v_idhv_((new v_i_DarkFactor.Clone();
            HTuple hv_i_LightFactor_COPY_Dispo] 1,  v_g.Dispo] 2, Vector(((new HTuple(-1)).Tuplhhhhhhhhpl     pErrCoder   = nRad(neo__RefReg.Dispose();
    loseOrOpen;
     ho_Region3mage, ho__Sea{ = "ageS  rs      Sea{ = "ageS  r = hvidxf+ 1) hv__B            return;
 v_ido_o_MeasureCo Mew_LightOr  , W -2ow       h错误类3型
          3
= null,      hhhhhhhhhhhhhhhhhDi      rator              return;
 v_idhv_((new v_i_DarkFactor.Clone();
            HTuple hv_i_Lif _        to__i((new ,       3         3    rator              return;
 pl     pErrCoder   = nRad(n_Sea{ = "ageS  rs      Sea{ = "ageS  r = hvidxf+ hv_((new v_i_DarkFactor.Clone();
            HTuple hv_i_Lif leEqug.    (Vector(((new HTuple(-1)).Tuplhhhhhhhhpl     pErrCoder   = nRi_InspectRegs, out hv_regNum);wv__Diffose();
                ho_AllRegs.Di初
            ho_o_LighloseOrOpensptor(((new ea  HT  //
     f
  量工_Co   //
  ---ersloseOrOpens范os                      
  ---ersloseOrOpensi初sStri] = nRadoispose();
              e              pl spose();
        //绘制 .Dispose();
                spose();
         ner           范os                               hvec_o_FailRegs[1] = ner            {
                hv_Coluhs  e  60e = -1(vRejOrOpen   ; ouchMea HThMea HThv_Colum       60引及r(hv_Area  HOper量    
   [age2Img: Frameho_o_BondContours60,vm       60    Frame模   Framehsssssss{htImage.D60E
 0))).TupleOr(neweg, HTuple hv_i_Dilatiotches, oout _o_BonncaObjecRejOrOpen;
     ho_Regionlizing";
 0))).TupleOr(new HT1{ispose();
               e Column = outches, oout hor((    o_o_MeasureCo Mewg.Dispo] 1 n  , W -2ow       h错误类1型
           
= null,      hhhhhhhhhhhhhhhhhDi     es 2,GDi     ans;
               return;
 r   hr(((new 范os                              ;
            }g.Dispo] 1 R   hv_((new ,        ,           
    es 2,= null,      hhhhhhhhhhhhhhhhh   ans;
               return;
 pl     pErrCoder   = nRad(neo__RefReg.Dispose();
    RejOrOpen;
     ho_Region1izing";
 0))).TupleOr(new HT1{ispose();
               e Column = outches, oout hor((    o_o_MeasureCo Mewg.Dispo] 2 n  , W -2ow       h错误类型
          
= null,      hhhhhhhhhhhhhhhhhDi     Dispose();

    1o        
    2leS_RefBondRads
            ar(((new 范os                              ;
            }g.Dispo] 2 R   hv_((new ,       ,          ,    Dispo;

    1o  nto3
生的错误，0-代表
                   return;
 pl     pErrCoder   = nRad(neo__RefReg.Dispose();
    RejOrOpen;
     ho_RegionImage, ho__Sea{ = "ageS  rs      Sea{ = "ageS  r = hvidxf+ 1)Column环,g.Dispo] 1比g.Dispo] 2hv_HomMat2DRotate,
   [hv_ido_o_MeasureCo Mewg.Dispo] 1 n  , W -2ow       h错误类1型
           
= null,      hhhhhhhhhhhhhhhhhDi     es 2,GDi     ans;
               return;
 r   hr(g.Dispo] 1范os                              ;
            }g.Dispo] 1 R   hv_g.Dispo] 1,        ,           
    es 2,= null,      hhhhhhhhhhhhhhhhh   ans;
               return;
 v_ido_o_MeasureCo Mewg.Dispo] 1 n  , W -2ow       h错误类1型
           
= null,      hhhhhhhhhhhhhhhhhDi     es 2,GDi     ans;
               return;
 r   hr(g.Dispo] 2范os                              ;
            }g.Dispo] 1 R   hv_g.Dispo] 2,        ,           
    es 2,= null,      hhhhhhhhhhhhhhhhh   ans;
               return;
 v_idhv_((new v_i_DarkFactor.Clone();
            HTuple hv_i_LightFactor_COPY_Dispo] 1,  v_g.Dispo] 2, Vector(((new HTuple(-1)).Tuplhhhhhhhhpl     pErrCoder   = nRad(neo__RefReg.Dispose();
    RejOrOpen;
     ho_Region3mage, ho__Sea{ = "ageS  rs      Sea{ = "ageS  r = hvidxf+ 1) hv__B            return;
 v_ido_o_MeasureCo Mew_LightOr  , W -2ow       h错误类3型
          3
= null,      hhhhhhhhhhhhhhhhhDi      rator              return;
 v_idhv_((new v_i_DarkFactor.Clone();
            HTuple hv_i_Lif _        to__i((new ,       3         3    rator              return;
 pl     pErrCoder   = nRad(n_Sea{ = "ageS  rs      Sea{ = "ageS  r = hvidxf+ hv_((new v_i_DarkFactor.Clone();
            HTuple hv_i_Lif leEqug.    (Vector(((new HTuple(-1)).Tuplhhhhhhhhpl     pErrCoder   = nRi_InspectRegs, out hv_regNum);wv__Diffose();
                ho_AllRegs.Di初
            ho_o_LighRejOrOpensptor(((new ea  HT  //
     f
  量工_Co   //
  ---ers          范os                      
  ---ers          i初sStri] = nRadoispose();
              e              pl spose();
        //绘制hv_idx * 3) + 0);
           spose();
         ner 
     s范os                          hv_o_ErrCode = 0;
         r 
     s  hvec_o_DefectVor(( ICureCuple hv_8e =yHa(v
     ect_ ouchMea HThMea HThv_Colum       88引及r(hv_Area  HOper量    
   [age2Img: Frameho_o_BondContours88,ri1, out]88)Img: Framee = -1Frame
                 88E
 0))).TupleOr(neweg, HTuple hv_i_Dilatiotches, oout _o_BonncaObjec
     ;
     ho_Regionlizing";
 0))).TupleOr(new HT1{ispose();
               e Column = outches, oout hor((    o_o_MeasureCo Mewg.Dispo] 1 n  , W -2ow       h错误类1型
           
= null,      hhhhhhhhhhhhhhhhhDi     es 2,GDi     ans;
               return;
 r   hr(((new 范os                              ;
            }g.Dispo] 1 R   hv_((new ,        ,           
    es 2,= null,      hhhhhhhhhhhhhhhhh   ans;
               return;
 pl     pErrCoder   = nRad(neo__RefReg.Dispose();
    
     ;
     ho_Region1izing";
 0))).TupleOr(new HT1{ispose();
               e Column = outches, oout hor((    o_o_MeasureCo Mewg.Dispo] 2 n  , W -2ow       h错误类型
          
= null,      hhhhhhhhhhhhhhhhhDi     Dispose();

    1o        
    2leS_RefBondRads
            ar(((new 范os                              ;
            }g.Dispo] 2 R   hv_((new ,       ,          ,    Dispo;

    1o  nto3
生的错误，0-代表
                   return;
 pl     pErrCoder   = nRad(neo__RefReg.Dispose();
    
     ;
     ho_RegionImage, ho__Sea{ = "ageS  rs      Sea{ = "ageS  r = hvidxf+ 1)Column环,g.Dispo] 1比g.Dispo] 2hv_HomMat2DRotate,
   [hv_ido_o_MeasureCo Mewg.Dispo] 1 n  , W -2ow       h错误类1型
           
= null,      hhhhhhhhhhhhhhhhhDi     es 2,GDi     ans;
               return;
 r   hr(g.Dispo] 1范os                              ;
            }g.Dispo] 1 R   hv_g.Dispo] 1,        ,           
    es 2,= null,      hhhhhhhhhhhhhhhhh   ans;
               return;
 v_ido_o_MeasureCo Mewg.Dispo] 1 n  , W -2ow       h错误类1型
           
= null,      hhhhhhhhhhhhhhhhhDi     es 2,GDi     ans;
               return;
 r   hr(g.Dispo] 2范os                              ;
            }g.Dispo] 1 R   hv_g.Dispo] 2,        ,           
    es 2,= null,      hhhhhhhhhhhhhhhhh   ans;
               return;
 v_idhv_((new v_i_DarkFactor.Clone();
            HTuple hv_i_LightFactor_COPY_Dispo] 1,  v_g.Dispo] 2, Vector(((new HTuple(-1)).Tuplhhhhhhhhpl     pErrCoder   = nRad(neo__RefReg.Dispose();
    
     ;
     ho_Region3mage, ho__Sea{ = "ageS  rs      Sea{ = "ageS  r = hvidxf+ 1) hv__B            return;
 v_ido_o_MeasureCo Mew_LightOr  , W -2ow       h错误类3型
          3
= null,      hhhhhhhhhhhhhhhhhDi      rator              return;
 v_idhv_((new v_i_DarkFactor.Clone();
            HTuple hv_i_Lif _        to__i((new ,       3         3    rator              return;
 pl     pErrCoder   = nRad(n_Sea{ = "ageS  rs      Sea{ = "ageS  r = hvidxf+ hv_((new v_i_DarkFactor.Clone();
            HTuple hv_i_Lif leEqug.    (Vector(((new HTuple(-1)).Tuplhhhhhhhhpl     pErrCoder   = nRi_InspectRegs, out hv_regNum);wv__Diffose();
                ho_AllRegs.Di初
            ho_o_Ligh
     sptor(((new ea  HT  //
     f
  量工_Co   //
  ---ers
     s范os                         
  ers
     si初sStri] = nRadoispose();
              e              pl spose();
        nRa (hs  ingFailReg.Dispose();
      pe g.Dispo] 1范os                      hr(g.Dispo] 2范os      spose();
           = nuv_            //左"(hm     Regit//左"(hm     {osPosle(hvegNeg.Di   (hs  ingFailReg.Dispose();
      pe g.Dispo] 1范os                      hr(g.Dispo] 2范os      spose();
          nuv_            //左"(hm our.Dispose()//         //();

                reif  = 2胶eg：(out ho_Sel_o_Me (ches, o.Tuple      ho_Imageif  = 2胶eg：Flag.TupleConc     ImgD( =  (ches, ts2Rhv_Re     i o_Me (chD( =  (ches, ts2}
 胶   mgD( =  (ches, ts2Revec_   spuo_EmptyObjecl  Idxub_Mea HThv_ColuyHa(vtour = ho__        //orSet.ConvertImageType(ho_ImageSu0
          IsPre_Objessub_Mea HThv_ColuyHa(vGam) !=          // io胶c f (hv_idx = 0;r_0;
                 
            // i_AdaptiveMethod：局部阈值分d      B    ts2Rhv_Re     i _ ne  g       H, out h  hv_i_HomMatMod2Img, hv_iPow     , out h B    gamaomg模onn "ageS  rsiosiohv_IcRow)). PosT测区5=在o__IcR-----------    //椭圆
        angle2(h//pose()   ement_1(HObj gMdoc 
          MTu   //银efe;廓rSet.AffineTracaaaxispose();
          ectR    ExpTmpOTmpOr_0
                 //伶胶c     ho_light_image_reduce.Dispose();
                HOperatorSet.ReduceDomain(ho__sub_light_thresh_image, ho_curReg,    ] = 29;
                hvec_o_FailRegs[1] = ne ts2Rhv_Re     i] = 29;
                hvec_o_FailRegs[1] = ne  g       H out hv_C                if ((int)(new HTuple((nPow      out hv_C                if ((int)(new HTuple((n gamaomg out hv_C                if ((int)(new HTuple((n PosT测区5 out   //银胶c tryhv_Indices.Tup    o__InspectReg.D//ex = neeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee  ho__InspectReg.D//      的續rato   i_   ).Tu******.D只      考m胶c   ho__InspectReg.D//nc     I: 的續rato   llestpfectV.D   HOpour有通道c           i      hv_o_Err具ts2Rhv_Re     i: ();
 l  //*的續rato  rr = n               pfectV.D   HOpour有通道c           i      hv_o_Err具ts2}
 胶   : l  //*的續rato  rr = n         + 0);
                       hv_o_Err具ts2Revec_   s: ();
 的續rato  nspect 炼   + 0);
 llestpfectV           hv_o_Err具l  Idx : l  片g.DispratorSet.Conca      ———1-的續rato  nspect            hv_o_Err具 在测量nspect伸多大范围进行测测量为一 EpoxyRegs          // i_MeasureCont测量IsPre_Objess: l  //*xyRegs());gs ErrEr阵
t(
  预       i_MeasureCont测量Gam) : 预      时工具   Gam) ho__In), out hv_Index);
 测量o要的参数，每   o__InspectReg.D//ex = neeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee  ho__InspectReg.DObj gMdoc 
      ho_RegionOpe    //ple hv通道                  hr((       ho_EmptyFailReg.Disposepose            {                    i _o_curReg,    ,yObjecl  Idx+e(ispose();
        n ts2Rhv_Re     i  ho_EmptyFailReg.Disposepose            {               ts2Rhv_Re     i _1] = ne ts2Rhv_Re     i,yObjecl  Idx+e(isp  ho__InspectReg.D//      rr = n        ho__InspectReg.Do__RefReg.yHa(v sPre_Objess   {
                            hv_curElements((nPow       ho_EmptyFailReg.Disposeposepose            {Pow     ( ne  g       H _1] = nePow     ,uyHa(vGam) yFailReg.Disposeposepose            {, -1)x
        ts2}
 胶   mg nePow     ,u
         aupl       hv_Column, out hv_H       aa      hvec ectRDispose();
            ((n gamaomg  ho_EmptyFailReg.Disposeposepose            {uple();
     Pow     ,uuple((n gamaomgghtOr /    aa   0];       hv_Column, out v_
 g       HOperatorSet.GenEmptyObj(octRDisp初
      men
                vgamaomggh1] = ne  g       H,sull, hv_Indices = nullv_Sy    e              按照面积、长、(rReg,    ,yO    ts2}
 胶   mg Ha(vtour = ho_.GenEmptyObj(octRDisp                        hv_paraI   hvec          }sp  ho__InspectReg.D//Revec_提炼******  ho__InspectReg.Revec_ ts2_胶eg：FrReg,    ,yO    ts2Revec_   s,yO    ts2}
 胶   m  ho__InspectReg.vec        mg Ha(vtour = ho_      IsPre_ObjessuuyHa(vGam) !=    / io胶c f; sp  ho__InspectReg.  ho__InspectReg.//.Revec_ ts2_胶eg：FrReg,    ,yO    ts2Revec_   s,yO    ts2}
 胶   m  ho__InspectReg.tReg.//vec        mg Ha(vtour = ho_      IsPre_ObjessuuyHa(vGam) !=    / io胶c ,uple((n PosT测区5 out__InspectReg.                    hr((       ho_EmptyFailReg.Disposeposen ts2Rhv_Re     i  ho_EmptyFailReg.Disposeposev_
 g       HOperatorSet.GenEmptyObj(octR((nPow       ho_EmptyFailReg.Disposepose((n gamaomg  ho_EmptyFailReg.Disposepose((n PosT测区5pectRegs.Dispspose();
           = nuv_            //;
         Regityv4   tor(
   选效r(pDefa  }r(
   )//左"(hm     {osPosle(hvegNeg.Di  (       ho_EmptyFailReg.Disposeposen ts2Rhv_Re     i  ho_EmptyFailReg.Disposeposev_
 g       HOperatorSet.GenEmptyObj(octR((nPow       ho_EmptyFailReg.Disposepose((n gamaomg  ho_EmptyFailReg.Disposeposespose();
          效r(pDefa  }r(
   nuv_            //左"(hm  //左"(hm */pose();
, o.Tuple      ho_Imageif  = 2胶eg：Flag.TupleConc     mgD( =  (ches, ts2Rhv_Re     i o_Me (chMe (chD( =  (ches, ts2}
 胶   mgD( =  (ches, ts2Revec_   spuo_EmptyObjectour = ho_.GenEmptyObj(oogyswigyHa(v = 2胶   pu
          IsPre_ObjessuThv_ColuyHa(vGam) !=          // io胶c f (hv_idx = 0;                                 radius"), out hv__RefBondParas);

            //------应用测量OI       H, out h _ ne  g       H, out h  hv_i_HomMatMod2Img, hv_iPow     , out h B    gamaomg模onn "aIcR-----------    //椭圆
        angle2(h//pose()   ement_1(HObj_TotRevec_   //))
      Revec_   //))
 ;to__ic t, 1,       (hs  
   [
           regi e(o  (hs  eageS  aaxispose();
    
                        ectR半径
            胶c Set.SmallestRec        }
            if ((int)((new HTuple((new HTuple(hv_i_ClosingSize.TupleLength())).TupleEqual(
      OI       H] = 29;
                hvec_o_FailRegs[1] = ne  g       H out hv_C                if ((int)(new HTuple((nPow      out hv_C                if ((int)(new HTuple((n gamaomg out hv_C       //ex = neeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee  ho__InspectR//      的續rato   i_   ).Tu******  ho__InspectR//nc     : 的續rato   llestpfectV  ho__InspectR//ncts2Rhv_Re     i: ();
 l  //*的續rato  rr = n               pfectV  ho__InspectR//ncts2}
 胶   : l  //*的續rato  rr = n         + 0);
                       hv_o_Errts2Revec_   s: ();
 的續rato  nspect 炼   + 0);
 llestpfectV           hv_o_Err  ———1-的續rato  nspect            hv_o_Err   = 2胶   的續rato  nspectw HTupple hv_Sy = nuIsPre_Objess: l  //*xyRegs());gs ErrEr阵
t(
  预       i_MeasureContGam) : 预      时工具   Gam) ho__In), out hv_Index);
 o要的参数，每   o__InspectR//ex = neeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee  _             / io胶c Set.SmallestRec        }
              HOperato       tyObj(2Revec_   spu    Obj_TotRevec_   c        }
       Revec_   //)adoispose();
  o__RefReg.Dispose();
     = 2胶   rrCode              {
                0;                   Revec_   //)Obj_TotRevec_   //= -1   = 2胶   ut hv_Row, out }
                    v hv_ght9e = -1   = 2胶   ut hv_Row, out hv_Colum        参 - hv_BondCol)).量    
   [age2Img: Frameho_o_BondContours ,um        )Img: Framee = -1Frame
                  )                0;                   OI       H  ho_EmptyFailReg.Disposepose            {               ts2}
 胶   mg
      OI       H,= -1FrameyFailReg.Disposeposev_
 g       HOperatorSet.GenEmptyObj(octR            {               ts2Rhv_Re     i _1] = ne
 g       H,= -1FrameyFailReg.Disposepose//      rr = n        ho__InspectReg.Do__RefReg.yHa(v sPre_Objess   {
                            hv_curElements((nPow       ho_EmptyFailReg.Disposeposepose            {Pow     ( ne  g       H _1] = nePow     ,uyHa(vGam) yFailReg.Disposeposepose            {, -1)x
      OI       H,= nePow     ,u
         aupla       aa               ho_AllRegs.Di   hvec ectRDispose();
            ((n gamaomg  ho_EmptyFailReg.Disposeposepose            {uple();
     Pow     ,uuple((n gamaomgghtOr /    aa   0];       hv_Column, out v_
 g       HOperatorSet.GenEmptyObj(octRDisp初
      men
                vgamaomggh1] = ne  g       H,sull, hv_Indices = nullv_Sy     _             se()//         //   e              按照面积、长、(rRe  g       H,s   OI       H,= -1———1-s_         _L  rTuple hv__RefBondCol = new HTuple(), s_         _L Idx + 2), hv_i_MaI   hvec          }sp  ho__InspectReg.D//         //   e              //Revec_提炼******  ho__InspectReg..Revec_ ts2_胶eg：FrReig,    ,yO    ts2Revec_   s,yO  OI       H,ndCol = new HTuple()vec        mg Ha(vtour = ho_     
   [a-Bonr*n;
Revec_   ,n;
Revec_   ,n;
  IsPre_Objessub_Mea HTTTTTTTTTTTTTyHa(vGam) aI   hvec          }spTTTT            / io胶c Set/ io胶c ur.Dispose();vec          }sp  t hv_Row, out }
                OI       H  ho_EmptyFailReg.Disposev_
 g       HOperatorSet.GenEmptyObj(o((nPow       ho_EmptyFailReg.Dispose((n gamaomg  ho_EmptyFaispose();
    ，-2-代表未执-代表未//p  //*            ;
, o.Tuple      ho_Imageif          //　i_SubReg：(out ho_Sel_o_Me (ches, o.Tuple      ho_Imageif          //　i_SubReg：Flag.TupleConc     mgD( =  (ches, TIni__Imspose();
    D( =  (ches,  c va   sptD( =  (ches, loseOrOpensptD( =  (ches,           ptD( =  (ches, 
     sple hv_HomMatSuond= -1;
  __Br                 -1;
  __Br 
      _        //     gioei       rSet.RedogyswigyHa(vtour = ho_      HOperatMul  胶胶s_        //     L ea
    w HTu       rSet.RedogyswigyHa(v     Ch  nc    s_        //M       Set dogyswigyHa(v sRevec_o      rSet.RedogyswigyHa(vRevec_hv__RedogyswigyHa(v s域
ic va胶!=          // io胶c f (hv_idx = 0;      rSet.Red
            // i_AdaptiveMethod：局部阈值分hv_i_Metrologyiff    i_Refle(o  =eas  = g              许    gion句柄  多= n量工_Cot.GenE输指            be _o_Bonncat(               ExpTmpOTmpOr_0
                 //o = "1e()nto i_EpoxySizeTh m
   [
          胶c  = 0_cessful";)
                              hv(hm1peratorSet.ConcatObj(ho_o_LightImage, ho_(hm ExpTmpOutVar_0);
       rs         _BondContour, hv_idx + 1);
                if (gi
     _BondContour, hv_idx + 1);
                if (hv_i_M] = 29;
                hvec_o_FailRegs[1] = ne (h     _BondContour, hv_idx + 1);
                if ( = g    ] = 29;
       tryhv_Indices.Tup    o__InspectReg.D//ex = neeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee   o__InspectReg.D//      ();
      i_ (hs )).Tu******,gs,
  ，每䒌v_o_ErrSp  //*();
           像_idx = .Tupl   HTu      ew HOorSet.AffineTransPoint2d(hv_i_HomMatMoatMod2Imgnc     :       HTuBondCol,
            TIni__Iut             + 0);
     );
   b);
   w H an     hvO内);bew H待        hv就t(
  给eew H
           hv_o_Err具 c va   syHand             

    _0, hv_i_Clo
es 
yPara.Tup细y多 hvectRera.T        hv_o_Err具loseOrOpensyHand                      _0,easurement"easure         + 0);
  O   iyPara.Tupp/*(       .Tupl), (((        hv_o_Err具o__InspectRe            HO 11odel(内部        hv_o_Err具
     s: pply measuremen   HO 11odel(内部        hv_o_Err具rs         ;_idx = .Tupl), ((((hs ow, hv__RefBondCol,
          o         nd_idx = .Tupl), ((((hsnsPoint2d(hv_i_HomMatMoatMod2Imgnc     gioei: ();
       *******.Tupl), ((((hs_ErrErrorCode 字符串                 的 ho_i        hv_o_Err具 our = ho: ();
 l  //*    i_ 工具对应(hsv_o_ErrSncc 量           hv_o_Err具ul  胶胶Epox阵
hv******x**u h();
           
    //c_o_       ple hvTmpOw      w H    logyHav_tooll/*(  w H       .Tupl), (((  ;
    hv******x**u h
   "P单******x**u      hv_o_Err具     L ea
    w HTu      *******.Tupl), ((((hs_         //*****rorCod对阈g.Dispo}测量工具ut h//     Ch  nc          *******.Tupl), ((((hs_       /通道pfectV对阈g.Dispo}测量工具ut h//       Set: ()    *******.Tupl), ((((hs中
  =ctV讹黃tour//逐, hv_HomMat2DR具 sRevec_;
     upl()    像_idx = .Tupl******rSet.C 炼      hv_o_Err具Revec_hv__Re: 炼    }测量工具ut h//(v s域
ic va胶;
     ();_idx = .Tupl******重ns()        i_ 工具对应 hv_Index);
 测量o要的参    i_ 工具对应ＩＤ   o__InspectReg.D//ex = neeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee  ailReg.Disposepose//      r具对应 hv_Index);
 测          HOperato       ty c va   s       HO   be ] = 29;
           / io胶c Set.SmallestRec        }
    eeeeo__RefReg.Dispose();
                ho_Regionlizing";
 0))).TupleOr(new         hv_curElements((              子Image.Disp2x + 2), hv_i_Met.GenEmptyObj(octRDisp//o = "1e()ntImage.Disp4IsStageS  r = ; ouchMea HTuouchMupl     pErrCoder   tour = ho__InspectReg.CopyObj(1, -1);
                       子Image.Disp18x + 2), hv_i_Met.GenEmptyObj(octRDisp//o = "1e()ntImage.DispIdx + 2), hv_i_M_ ouchMea HTuouchMupl     pErrCoder   hv_Coluhs  e  32         be se  sm(hv_i_Meeeeehv_Colum       3引及r(hv_Area  HOper量    
   [age2Img: Frameho_o_BondContours32,um       3    Frame模   Framehsssssss{htImage.D32E
 0))).TupleOr(neweg, HTuple hv_i_Dilatioi   (hs  ingFailReg.Dispose();
      ctR            {                c va   spt   if ( (h= "ag -1Frameg.Dispose();
      ctR 按照面积、长、(rRenc     mgf ( (h= "ag -1(vtour = ho_    ***使用亮暗图像进行IC动态阈值   hv_paraI   hvec          }阈TTTT            / io胶c Set/ io胶c ur.Dispose();vec          }TTTT            }  ailReg.Disposepose//      ************x.Tupl   HTu horSet.AffineTransPoint2d(hv        hv_o_Err   rs               // o_-   gi
           // o_ErrCode: 错误码mage测区域
            //　oF     TIni__Img      c va   spthes, loseOrOpensp}阈TTTT                   rs         ,        rs
     ag -1(vtour = ho_    o胶c ,OperatMul  胶胶s}阈TTTT             //     gioei _ //     L ea
    w HTu gyHa(v     Ch  nc    s_ //M       Set       rSet.RedddddddddyHa(v sRevec_ogyHa(vRevec_hv__ReyFaispose();
    / i_Me  o (hs*****l       r具对应 hv_Index);
 测o__RefReg.yHa(v s域
ic va胶ing";
 0))).TupleOr(new         hv_curElements(ne (hI          // o_ErrCode: 错误码ject            {             rs         ,         (hI    , e(ispose();
            hv_ = g    pectRegs.Dispose();
            aras = new HTmen
                 (hI    ,      ; = g     null, hv_Indices = nullv_Sy = nt        }
   长、(r  o胶c ,OperatM    dx] v_o_Meuths  e  {        / io胶c Set.SmallestRec        }
    eeee.Tup     hv_o_ErrC4;
       be se  sm(hv_i_MeeeeeTuou     hvm       4;
                )  HOper量    
   [age2Img: Frameho_o_BondContours4;,vm       4;);   
    e = -1Frame
                 47)ntour, hv_Parameter.TupleShv_Epo          0)
    p  y  (hs  e = 0_HomMatMod2Img, HTuple  i1, ou
           return;
        c va   spt   if ( (h= "ag -1Frameg.Dispose();
      ctRctR 按照面积、长、(rRe = g    eas  (h= "ag -1(vtour = ho_    ***使用亮暗图像进行IC动态阈阈值   hv_paraI   hvec          }阈TTTT                / io胶c Set/ io胶c ur.Dispose();vec          }TTTT                    e              pl spose();
        nRa (hs  ingFailReg.Dispose();
      pe  (hI          // o_ErrCode: 错误码hv_ = g    pectRegs.Dispspose();
           = nuv_            //左"(hm     Regit//左"(hm     {osPosle(hvegNeg.Di   (hs  ingFailReg.Dispose();
      pe  (hI          // o_ErrCode: 错误码hv_ = g    pectRegs.Dispspose();
          nuv_            //左"(hm ourt(2));
   ///////Posle(hlectedRegions);
         (out ho_Sel_o_Me (ches, o.Tuple      ho_Imageif          //　i_SubReg：Flag.TupleConc     mgD( =  (ches, TIni__Imspose(D( =  (ches,  c va   sptD( =  (ches, loseOrOpensptD( =  (ches,           ptD( =  (ches, 
     sple hv_ond= -1;
  __Br                 -1;
  __Br 
      _        //     gioei       ogyswigyHa(vtour = ho_      HOperatMul  胶胶s_        //     L ea
    w HTu       ogyswigyHa(v     Ch  nc    s_        //M       Set dogyswigyHa(v sRevec_o      ogyswigyHa(vRevec_hv__RedogyswigyHa(v s域
ic va胶!=          // io胶c f (hv_idx = 0;        rSet.Red
            // i_AdaptiveMethod：局部阈值分hv_i_Metrologyiff    i_Refle(o  =eas  = g              许    gion句柄  多= n量工_Cot.GenE输指            be _o_Bonncat(               ExpTmpOTmpOr_0
                 //o = "1e()nto i_EpoxySizeTh m
   [
          胶c  = 0_cessful";)
                              hv(hm1peratorSet.ConcatObj(ho_o_LightImage, ho_(hm ExpTmpOutVar_0);
       rs         _BondContour, hv_idx + 1);
                if (gi
     _BondContour, hv_idx + 1);
                if (hv_i_M] = 29;
                hvec_o_FailRegs[1] = ne (h     _BondContour, hv_idx + 1);
                if ( = g    ] = 29;
       //ex = neeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeoncat(-1));
 //      ();
      i_ (hs )).Tu******,gs,
  ，每䒌v_o_ErrSp  //*();
           像_idx = .Tupl   HTu      ew HOorSet.AffineTransPoint2d(hv_i_HomMatMod2Imgnc     :       HTuBondCol,
        TIni__Iut             + 0);
     );
   b);
   w H an     hvO内);bew H待        hv就t(
  给eew H
           hv_o_Err c va   syHand             

    _0, hv_i_Clo
es 
yPara.Tup细y多 hvectRera.T       w H hv_i_Clop  //*  w H4-椭圆巋t(
    w H
   联合p  //*  w H4-椭圆t(
    
   ue();          ho_RegionDiffloseOrOpensyHand                      _0,easurement"easure         + 0);
  O   iyPara.Tupp/*(       .Tupl), (((        hv_o_Erro__InspectRe            HO 11odel(内部        hv_o_Err
     s: pply measuremen   HO 11odel(内部        hv_o_Errrs         ;_idx = .Tupl), ((((hs ow, hv__RefBondCol,
      o         nd_idx = .Tupl), ((((hsnsPoint2d(hv_i_HomMatMoatMmgnc     gioei: ();
       *******.Tupl), ((((hs_ErrErrorCode 字符串                 的 ho_i        hv_o_Err our = ho: ();
 l  //*    i_ 工具对应(hsv_o_ErrSncc 量           hv_o_Errul  胶胶Epox阵
hv******x**u h();
           
    //c_o_       ple hvTmpOw      w H    logyHav_tooll/*(  w H       .Tupl), (((  ;
    hv******x**u h
   "P单******x**u      hv_o_Err     L ea
    w HTu      *******.Tupl), ((((hs_         //*****rorCod对阈g.Dispo}测量工具//     Ch  nc          *******.Tupl), ((((hs_       /通道pfectV对阈g.Dispo}测量工具//       Set: ()    *******.Tupl), ((((hs中
  =ctV讹黃tour//逐, hv_HomMat2DR sRevec_;
     upl()    像_idx = .Tupl******rSet.C 炼      hv_o_ErrRevec_hv__Re: 炼    }测量工具//(v s域
ic va胶;
     ();_idx = .Tupl******重ns()        i_ 工具对应 hv_Index);
 o要的参    i_ 工具对应ＩＤ   o__InspectR//ex = neeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee  ailReg.Dispose//      r具对应 hv_Index);
           HOperato       ty c va   s       HO   be ] = 29;
       / io胶c Set.SmallestRec        }
    o__RefReg.Dispose();
                ho_Regionlizing";
 0))).TupleOr{osPosle(hvegNeg.Di(              子Image.Disp2x + 2), hv_i_Met.GenEmptyObj(octR//o = "1e()ntImage.Disp4IsStageS  r = ; ouchMea HTuou   }

            //区分重点检测区和非重ng1              子Image.Disp18x + 2), hv_i_Met.GenEmptyObj(octR//o = "1e()ntImage.DispIdx + 2), hv_i_M_ ouchMea HTuou   }

       hv_Coluhs  e  32         be se  sm(hv_i_Mehv_Colum       3引及r(hv_Area  HO量    
   [age2Img: Frameho_o_BondContours32,um       3    Frame模   Framehsssssss{htImage.D32E
 0))).TupleOr{osPosle(hvegNeg.Di   (hs  ingFailReg.Dispose();
      
           return;
        c va   spt   if ( (h= "ag -1Frameg.Dispose();
      //         //   e               按照面积、长、(rRenc     mgf ( (h= "ag -1(vtour = ho_    ***使用亮暗图像进行IC动值   hv_paraI   hvec          }阈TTTT        / io胶c Set/ io胶c ur.Dispose();vec          }TTTT        }  ailReg.Dispose//      ************x.Tupl   HTu horSet.AffineTransPoint2d(hv        hv_o_Err   rs               // o_-   gi
           // o_Er      hv_o_Err//         //   e          mage测区域
            //　oF     TIni__Img      c va   spthes, loseOrOpensp}阈TTTT               rs         ,        rs
     ag -1(vtour = ho_    o胶c ,OperatMul  胶胶s}阈TTTT         //     gioei _ //     L ea
    w HTu gyHa(v     Ch  nc    s_ //M       Set       rSet.RedddddyHa(v sRevec_ogyHa(vRevec_hv__ReyFaispose();
    Me  o (hs*****l       r具对应 hv_Index);
 o__RefReg.yHa(v s域
ic va胶ing";
 0))).TupleOr{osPosle(hvegNeg.Di   (h           // o_Ere: 错误码ject            {             rs         ,         (hI    , e(ispose();
        hv_ = g    pectRegs.Disp);
            aras = new HTmen
                 (hI    ,      ; = g     null, hv_InInIns = nullv_Sy = nt        }
   长、(r  o胶c ,OperatM    dx] v_o_Meuths  e  {    / io胶c Set.SmallestRec        }
    .Tup     hv_o_ErrC4;
       be se  sm(hv_i_Meeeee     hvm       4;
                )  HO量    
   [age2Img: Frameho_o_BondContours4;,vm       4;);   
    e = -1Frame
                 47)ntour, hv_Parametereg, HTuple hv_i_Dilatioi   (hs  ingFailReg.Dispose();
      ctR            {                c va   spt   if ( (h= "ag -1Frameg.DiDispose();
      ctR//         //   e          ctRctR 按照面积、长、(rRe = g    eas  (h= "ag -1(vtour = ho_    ***使用亮暗图像进行IC动态阈值   hv_paraI   hvec          }阈TTTT            / io胶c Set/ io胶c ur.Dispose();vec          }TTTT            }              }                         ho_o_BondContours = ExpTmpOu (h           // o_Ere: 错误码rRe = g    pectRegs.Dispspose();
    ，-2-代表未执           //初始化/目标
            //(out ho_Sel_o_Me (ches, o.Tuple      ho_Imageif          //　i_SubReg：Flag.TupleConc     mgD( =  (ches, TIni__Imspose(D( =  (ches,  c va   sptD( =  (ches, loseOrOpensptD( =  (ches,           ptD( =  (ches, 
     sple hv_ond= -1;
  __Br                 -1;
  __Br 
      _        //     gioei       ogyswigyHa(vtour = ho_      HOperatMul  胶胶s_        //= -2Ic = Idx       ogyswigyHa(vIc域
   Idxu_        //M       Set dogyswigyHa(v sRevec_odogyswigyHa(vRevec_hv__Reub_    ogyswigyHa(vIs域
ic va胶!=          // io胶c f (hv_idx = 0;            rSet.Red
            // i_AdaptiveMethod：局部阈值分hv_i_Metrologyiff    i_Refle(o  =eas  = g              许    gion句柄  多= n量工_Cot.GenE输指            be _o_Bonncat(               ExpTmpOTmpOr_0
                 //o = "1e()nto i_EpoxySizeTh min         ExpTmpOTmpOr_0
                 //
   [
          胶c  = 0_cessful";)_    o, out h               }
     return;
ose();
  atoh            }
                     hv(hm1peratorSet.ConcatObj(ho_o_LightImage, ho_(hm ExpTmpOutVar_0);
       rs         _BondContour, hv_idx + 1);
                if (gi
     _BondContour, hv_idx + 1);
                if (hv_i_M] = 29;
                hvec_o_FailRegs[1] = ne (h     _BondContour, hv_idx + 1);
                if ( = g    ] = 29;
       //ex = neeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeoncat(-1));
 //      ();
      i_ (hs )).Tu******,gs,
  ，每䒌v_o_ErrSp  //*();
           像_idx = .Tupl   HTu      ew HOorSet.AffineTransPoint2d(hv_i_HomMatMod2Imgnc     :       HTuBondCol,
        TIni__Iut             + 0);
     );
   b);
   w H an     hvO内);bew H待        hv就t(
  给eew H
           hv_o_Err c va   syHand             

    _0, hv_i_Clo
es 
yPara.Tup细y多 hvectRera.T       w H hv_i_Clop  //*  w H4-椭圆巋t(
    w H
   联合p  //*  w H4-椭圆t(
    
   ue();          ho_RegionDiffloseOrOpensyHand                      _0,easurement"easure         + 0);
  O   iyPara.Tupp/*(       .Tupl), (((        hv_o_Erro__InspectRe            HO 11odel(内部        hv_o_Err
     s: pply measuremen   HO 11odel(内部        hv_o_Errrs         ;_idx = .Tupl), ((((hs ow, hv__RefBondCol,
      o         nd_idx = .Tupl), ((((hsnsPoint2d(hv_i_HomMatMoatMmgnc     gioei: ();
       *******.Tupl), ((((hs_ErrErrorCode 字符串                 的 ho_i        hv_o_Err our = ho: ();
 l  //*    i_ 工具对应(hsv_o_ErrSncc 量           hv_o_Errul  胶胶Epox阵
hv******x**u h();
           
    //c_o_       ple hvTmpOw      w H    logyHav_tooll/*(  w H       .Tupl), (((  ;
    hv******x**u h
   "P单******x**u      hv_o_Err     L ea
    w HTu      *******.Tupl), ((((hs_         //*****rorCod对阈g.Dispo}测量工具//     Ch  nc          *******.Tupl), ((((hs_       /通道pfectV对阈g.Dispo}测量工具//       Set: ()    *******.Tupl), ((((hs中
  =ctV讹黃tour//逐, hv_HomMat2DR sRevec_;
     upl()    像_idx = .Tupl******rSet.C 炼      hv_o_ErrRevec_hv__Re: 炼    }测量工具//(v s域
ic va胶;
     ();_idx = .Tupl******重ns()        i_ 工具对应 hv_Index);
 o要的参    i_ 工具对应ＩＤ   o__InspectR//ex = neeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee  ailReg.Dispose//      r具对应 hv_Index);
           HOperato       ty c va   s       HO   be ] = 29;
       / io胶c Set.SmallestRec        }
    o__RefReg.Dispose();
                ho_Regionlizing";
 0))).TupleOr{osPosle(hvegNeg.Di(              子Image.Disp22.5 + 2), hv_i_Met.GenEmptyObj(octR//o = "1e()ntImage.Disp4IsStageS  r = ; ouchMea HTuouuuuuh min        0.6; ouchMea HTuou   }

            //区分重点检测区和非重ng1              子Image.Disp18x + 2), hv_i_Met.GenEmptyObj(octR//o = "1e()ntImage.DispIdx + 2), hv_i_M_ ouchMea HTuouuuuuh min        0.6; ouchMea HTuou   }

            hv_o_ErrC34e = -1   be se  sm(hv_i_Mehv_Colum       34引及r(hv_Area  HO量    
   [age2Img: Frameho_o_BondContours34,um       d4);   
    模   Framehsssssss{htImage.D34E
 0))).TupleOr{osPosle(hvegNeg.Di   (hs  ingFailReg.Dispose();
      
           return;
        c va   spt   if ( (h= "ag -1Frameg.Dispose();
       按照面积、长、(rRenc     mgf ( (h= "ag -1(vtour = ho_    ***使用亮暗图像进行IC动值   hv_paraI   hvec          }阈TTTT        / io胶c Set/ io胶c ur.Dispose();vec          }TTTT        }  ailReg.Dispose//      ************x.Tupl   HTu horSet.AffineTransPoint2d(hv        hv_o_Err   rs               // o_-   gi
           // o_Er e          mage测区域
            //　oF     TIni__Img      c va   spthes, loseOrOpensp}阈TTTT               rs         ,        rs
     ag -1(vtour = ho_    o胶c ,Oper***使用亮暗图像进行IC值   hv_paraIh min     ,OperatMul  胶胶s  //     gioei   //= -2Ic = Idx                   yHa(vIc域
   Idxu_ //M       Set dyHa(v sRevec_ogyHa(vRevec_hv__Rep}阈TTTT             _Row, out hv_Colu;
ose();
  ayFaispose();
    Me  o (hs*****l       r具对应 hv_Index);
 o__RefReg.yHa(v s域
ic va胶ing";
 0))).TupleOr{osPosle(hvegNeg.Di   (h           // o_Ere: 错误码ject            {             rs         ,         (hI    , e(ispose();
        hv_ = g    pectRegs.Disp);
            aras = new HTmen
                 (hI    ,      ; = g     null, hv_Ins = nullv_Sy = nt        }
   长、(r  o胶c ,OperatM    dx] v_o_Meuths  e  {    / io胶c Set.SmallestRec        }
    .Tup     hv_o_ErrC49
       be se  sm(hv_i_Meeeee     hvm       49
                )  HO量    
   [age2Img: Frameho_o_BondContours49,vm       4)Img: Framee = -1Frame
                 49)ntour, hv_Parametereg, HTuple hv_i_Dilatioi   (hs  ingFailReg.Dispose();
      ctR            {                c va   spt   if ( (h= "ag -1Frameg.Di e          ctRctR 按照面积、长、(rRe = g    eas  (h= "ag -1(vtour = ho_    ***使用亮暗图像进行IC动态阈值   hv_paraI   hvec          }阈TTTT            / io胶c Set/ io胶c ur.Dispose();vec          }TTTT            }              }                         ho_o_BondContours = ExpTmpOu (h           // o_Ere: 错误码rRe = g    pectRegs.Dispspose();
    ，-2-代表未执           //初始化, o.Tuple      ho_Imageif          //　i_SubReg：Flag.TupleConc     mgD( =  (ches, TIni__Imspose(D( =  (ches,  c va   sptD( =  (ches, loseOrOpensptD( =  (ches,           ptD( =  (ches, 
     sple hv_ond= -1;
  __Br                 -1;
  __Br 
      _        //     gioei       ogyswigyHa(vtour ram(h         //geS  rsSet.GenEmp具 =It_Thres _        //tour = ho_.GenEm     HOperatMul  胶胶s_        //= -2Ic = Idx  ogyswigyHa(vIc域
   Idxu.GenEm     HOperatM       Set dogyswigyHa(v sRevec_odogyswigyHa(vRevec_hv__Reu ogyswigyHa(vIs域
ic va胶!le hv_ond=      // io胶c f (hv_idx = 0;            rSet.Red
            // i_AdaptiveMethod：局部阈值分hv_i_Metrologyiff    i_Refle(o  =eas  = g              许    gion句柄  多= n量工_Cot.GenE输指            be _o_Bonncat(               ExpTmpOTmpOr_0
                 //o = "1e()nto i_EpoxySizeTh min         ExpTmpOTmpOr_0
                 //
   [
          胶c  = 0_cessful";)_    o, out h               }
     return;
ose();
  atoh            }
                     hv(hm1peratorSet.ConcatObj(ho_o_LightImage, ho_(hm ExpTmpOutVar_0);
       rs         _BondContour, hv_idx + 1);
                if (gi
     _BondContour, hv_idx + 1);
                if (hv_i_M] = 29;
                hvec_o_FailRegs[1] = ne (h     _BondContour, hv_idx + 1);
                if ( = g    ] = 29;
       //ex = neeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeoncat(-1));
 //      ();
      i_ (hs )).Tu******,gs,
  ，每䒌v_o_ErrSp  //*();
           像_idx = .Tupl   HTu      ew HOorSet.AffineTransPoint2d(hv_i_HomMatMod2Imgnc     :       HTuBondCol,
        TIni__Iut             + 0);
     );
   b);
   w H an     hvO内);bew H待        hv就t(
  给eew H
           hv_o_Err c va   syHand             

    _0, hv_i_Clo
es 
yPara.Tup细y多 hvectRera.T       w H hv_i_Clop  //*  w H4-椭圆巋t(
    w H
   联合p  //*  w H4-椭圆t(
    
   ue();          ho_RegionDiffloseOrOpensyHand                      _0,easurement"easure         + 0);
  O   iyPara.Tupp/*(       .Tupl), (((        hv_o_Erro__InspectRe            HO 11odel(内部        hv_o_Err
     s: pply measuremen   HO 11odel(内部        hv_o_Errrs         ;_idx = .Tupl), ((((hs ow, hv__RefBondCol,
      o         nd_idx = .Tupl), ((((hsnsPoint2d(hv_i_HomMatMoatMmgnc     gioei: ();
       *******.Tupl), ((((hs_ErrErrorCode 字符串                 的 ho_i        hv_o_Err our = ho: ();
 l  //*    i_ 工具对应(hsv_o_ErrSncc 量           hv_o_Errul  胶胶Epox阵
hv******x**u h();
           
    //c_o_       ple hvTmpOw      w H    logyHav_tooll/*(  w H       .Tupl), (((  ;
    hv******x**u h
   "P单******x**u      hv_o_Err     L ea
    w HTu      *******.Tupl), ((((hs_         //*****rorCod对阈g.Dispo}测量工具//     Ch  nc          *******.Tupl), ((((hs_       /通道pfectV对阈g.Dispo}测量工具//       Set: ()    *******.Tupl), ((((hs中
  =ctV讹黃tour//逐, hv_HomMat2DR sRevec_;
     upl()    像_idx = .Tupl******rSet.C 炼      hv_o_ErrRevec_hv__Re: 炼    }测量工具//(v s域
ic va胶;
     ();_idx = .Tupl******重ns()        i_ 工具对应 hv_Index);
 o要的参    i_ 工具对应ＩＤ   o__InspectR//ex = neeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee  ailReg.Dispose//      r具对应 hv_Index);
           HOperato       ty c va   s       HO   be ] = 29;
       / io胶c Set.SmallestRec        }
    o__RefReg.Dispose();
                ho_Regionlizing";
 0))).TupleOr{osPosle(hvegNeg.Di(              子Image.Disp22.5 + 2), hv_i_Met.GenEmptyObj(octR//o = "1e()ntImage.Disp4IsStageS  r = ; ouchMea HTuouuuuuh min        0.6; ouchMea HTuou   }

            //区分重点检测区和非重ng1              子Image.Disp18x + 2), hv_i_Met.GenEmptyObj(octR//o = "1e()ntImage.DispIdx + 2), hv_i_M_ ouchMea HTuouuuuuh min        0.6; ouchMea HTuou   }

            hv_o_ErrC34e = -1   be se  sm(hv_i_Mehv_Colum       34引及r(hv_Area  HO量    
   [age2Img: Frameho_o_BondContours34,um       d4);   
    模   Framehsssssss{htImage.D34E
 0))).TupleOr{osPosle(hvegNeg.Di   (hs  ingFailReg.Dispose();
      
           return;
        c va   spt   if ( (h= "ag -1Frameg.Dispose();
       按照面积、长、(rRenc     mgf ( (h= "ag -1(vtour = ho_    ***使用亮暗图像进行IC动值   hv_paraI   hvec          }阈TTTT        / io胶c Set/ io胶c ur.Dispose();vec          }TTTT        }  ailReg.Dispose//      ************x.Tupl   HTu horSet.AffineTransPoint2d(hv        hv_o_Err   rs               // o_-   gi
           // o_Er e          mage测区域
            //　oF     TIni__Img      c va   spthes, loseOrOpensp}阈TTTT               rs         ,        rs
     ag -1(vtour = ho_    o胶c ,Oper***使用亮暗图像进行IC值   hv_paraIh min     ,OperatMul  胶胶s  //     gioei   //tour ram(h                  yHa(vgeS  rsSet.G具 =It_Thres _ //= -2Ic = Idx  yHa(vIc域
   Idxu_ //M       Set                   yHa(v sRevec_ogyHa(vRevec_hv__Rep      _Row, out hv_Colu;
ose();
  ayFaispose();
    Me  o (hs*****l       r具对应 hv_Index);
 o__RefReg.yHa(v s域
ic va胶ing";
 0))).TupleOr{osPosle(hvegNeg.Di   (h           // o_Ere: 错误码ject            {             rs         ,         (hI    , e(ispose();
        hv_ = g    pectRegs.Disp);
            aras = new HTmen
                 (hI    ,      ; = g     null, hv_Ins = nullv_Sy = nt        }
   长、(r  o胶c ,OperatM    dx] v_o_Meuths  e  {    / io胶c Set.SmallestRec        }
    .Tup     hv_o_ErrC49
       be se  sm(hv_i_Meeeee     hvm       49
                )  HO量    
   [age2Img: Frameho_o_BondContours49,vm       4)Img: Framee = -1Frame
                 49)ntour, hv_Parametereg, HTuple hv_i_Dilatioi   (hs  ingFailReg.Dispose();
      ctR            {                c va   spt   if ( (h= "ag -1Frameg.Di e          ctRctR 按照面积、长、(rRe = g    eas  (h= "ag -1(vtour = ho_    ***使用亮暗图像进行IC动态阈值   hv_paraI   hvec          }阈TTTT            / io胶c Set/ io胶c ur.Dispose();vec          }TTTT            }              }                         ho_o_BondContours = ExpTmpOu (h           // o_Ere: 错误码rRe = g    pectRegs.Dispspose();
    ，-2-代表未执 //初始化/         //(out ho_Sel_o_Me (ches, o.Tuple      ho_Imagei_SubRe     eg：Flag.TupleConc     mgD( =  (ches, ts1    
                       , M   rator _        //tax rator _        //tif (hvhv__Rep         //tif (hvhterLe] = nRad = new HTupond=      // iots1   , ond=      // iots1   ,hond=      // iots1 ratorf (hv_idx = 0;映射关系
            // i_AdaptiveMethod：局部阈值分     i参数Tupl胶           ro;  'gauss'
            // PosT测区1模onncat_ig.    1模onncat_ig.    giolUp1
     _o_    //------应用测量le(_RefBondR          许    gion句柄  多= n量工_Cot.GenE输指         
                    HObject ExpTmpOutVar_0;
                    HOp     ，代asurerk.D//))
 Epo  return;
            }r_0
                 //
   [
          c     s               R          gionUnion, ho_RegionTrans;
             输,g退出
     o    Devias.Di
        {




            // Local iconic variables 

      2     HObject ho_RegionUnion, ho_RegionTrans;
2                   oreturn;
      nic variables 
        }
                     hv(hm1peratorSet.ConcatObj(ho_o_LightImage, ho_(hm ExpTmpOutVar_0);
        PosT测区_BondContour, hv_idx + 1);
                if (胶     输出缺陷类型
            //o_ErrCode: 错_ron;输出缺陷类型
            //o_ErrCode: 错 PosT测区1TupleVector(new HTuple(0));
                if le(_1TupleVector(new HTuple(0));
                if le(_giolUp1 rsion- hv_IcRow)).T         //银}        //银}       / iots1   ic variables 
        }
    / iots1   ic variables 
        }
    / iots1 ratorSet.SmallestRec        }
    tryhv_Indices.Tup    o__InspectReg.D//ex = neeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee   o__InspectReg.D//      的结rato     spose(c确切TupleCor//逐, hv_HomMat2DRectR//nc     : 的结rato   llestpfectV  ho__InspectRectR//ncts1   : 的结rato   llestpgyHaBondCol,
            i   rator: 的结rato   中
      BondCol,
            iax rator: 的结rato   中//     BondCol,
            iif (hvhv__Ree _DiffhMearato   /景 rrStrossssssssoin        hv_o_Err具 if (hvhterLe] = e reaterp化r亮到暗还/由暗到亮        hv_o_Err具ots1   :       
]o_LightIma = "ageS u   ots1   :               h      hv_o_Err具ots1 rator: to            o__InspectReg.D//ex = neeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee     o__InspectReg.D//1. *     球   w 心ple hv_Sy = nunull HTuple();
                 ts1     o_DefectType[hv_idx]Image, HObject ho_i_ImageLight,
 eg.D//2.      r     ret窗   o__InspectReg.D//ex = neeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee检测区和非重点检测区，未指定重点检测区，则整个检测区都作为非重点检测hv_idx = null;
            HTuple hv_Hom_i_Irchutches, o      ctReg.DisndReg.Dispose();
                指定重om_i_Irchutches, _i   整个区都作为非重点检   hv_idx = null              -2)).TupleConcat(-2))_i_Irchutches, _i      ,          ,非重点检   ectV(   , M   ratorn+C     iax rator)h,C     iax rator -    , M   rator _2   
= null,      hhhhhhhhh //tif (hvhv__Rep 
            //i_BondRegs：焊点检测区域（焊盘区域）
            //o_BondContours：检      ho__Bond //tif (hvhterLe] =            //
           3
            //o_BondContours：检0.6)egNum - 1;
            HTuple step  e PosT测区置及半径信息
                     输入图像
  检测     ts1     o_Def (  -1)else
            {
      //3. r     retew HTuple(hv_IsString.Tuple     Contoed          if ((  -1)else
 

 (0))).TupleL, 区指   
_I         "input应0-------图标参数Var_0;
(i            :-图ex);
    o_BondContours：检    r_0;
(iiiiioyObj(out ho_0---c     s         HTuple step  e/ ff sual(0))) !={指   
_I         "input应0-------图标参tif (hvs    if (胶     

 (0))).TupleL,  o_BondContours：检 
    bjec ou 
  hv_类1型
                                (n_ron;w HTupleVector tools unsuunsu     Flag    if _ron;Tuple hv_i_de: 错_ron;  else
 ,           
 6      5398ector tools unsuunsu     Flag    _Match(ho_i_Irchutches, o      ctReg.Diseg.D//ex = neeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee     ctReg.Diseg.Do__RefReg.Dispose();  {
           c     sefReg.Dispose();
                ho_RegionUnion. 
_I3izing";
 0))).TupleOr(neweg, HTuple hv_i_DilationI    测区1OperatorSet.GenEmptyObj(octR                 输入图像
  检测     ts1     o_Def (  -1)else
 1         hv_o_ErrStr = "paet.GenEmptyObj(octR                 Iinonsty      ts1     点检测区，则    ea  HTu  Devias.Diet.GenEmptyObj(octR    }      1OperatorSet.GenEmptyObj(octR                 urs = ExpTmpO PosT测区1      if le(_1,u
  ter输__ErrMeasureStr;





if le(_giolUp1OperatorSet.GenEmptyObj(octR                 giolUp(if le(_1,u    if le(_giolUp1 rsion- hv_IcRow     for (hv_idx = 0; hv_idx.Con       al61 = 1;
 hoe    //
                    //Ic表面giolUp1,u    if le(_ec_curElem5     al61 = 1;
 hoe    //
                           hvec_curElement =do          retues 2,GDi     ans;
               return;
 点检测区，未指定重点检测区，则整个检测区都作为非重点检测测hv_idx = null;
            HTuple hv_Hom_i_Irchutches, 1为非重点检测测hv_idx = null
                指定重om_i_Irchutches, v_i   整个区都作为非重点检淥_C_cuhv_idx = null              -2)).TupleConcat(-2))_i_Irchutches,  
    es 2,= null,      hhhhhhhhhhhhh   ans;
 ,V(   , M   ratorn+C     iax rator)h,C     iax rator -    , M   rator = null,      hhhhhhhhhhhhh2   
h //tif (hvhv__Rep 
            //i_BondRegs：焊点检测区域= null,      hhhhhhhhhhhhh焊盘区域）
            //      ho__Bond //tif (hvhterLe] =            //= null,      hhhhhhhhhhhhh
           3
            //0.6)egNum - 1;
            HTuple stepsString.Tuple     Contoed          if ((  -1)else
 1,_Hom_i_Irchutches, 1为非重点检测测hv_idx = null------图标参数Var_0;
(i           1 :-图ex);
    o_BondContours：检浣    r_0;
(iiiiioyObj(out ho_0---c     s         HTuple stepstep  e/ ff sual(0))) !={指   
_I             "input应0-------图标参tif (hvs    if (胶     

 (0))).TupleL, 1 o_BondContours：检浣 
    bjec ou 
  hv_类ge, HObject ho_i_ImageLight,
 eg.D     (n_ron;w HTupleVector tools unsuunsuunsu     Flag    if _ron;Tuple hv_i_de: 错_ron;  else
,          
 6      5398ector tools unsuunsuunsu     Flag    _Match(ho_i_Irchutches, 1为非重点检测执 /   ctReg.Diseg.Do__RefReg.Dispose();  {
           c     sefReg.Dispose();
        hv3izing";
 0))).TupleOr(neweg, HTuple hv_i_Dilation iots1   ic     c     spleSelect(
       }
    / iots1   ic     c     sp1eSelect(
       }
    / iots1 ratoric     c     sp2]; ouchMea HTuouchMupl     pErrCoder   tour = ho__InspectReg.CopyObj(1, -1);
         ots1   ic -1Select(
       }
    / iots1   ic -1Select(
       }
    / iots1 ratoric -1Select(
       }
}ogut hv_IsStri (hs  e PosT测区置及半径信息
           / ff sual(0))) !={指   
_I        (n_ron;w HTupleVector tools unsuunsunI    测区1OperatorSet.GenEmptyObj(octR}      1OperatorSet.GenEmptyObj(octRif le(_giolUp1OperatorSet.GenEmptyObj(octR (hv_idx = 0; hv_idx.Con      spose();
           = nuv_            //左"(hm     Regit//左"(hm     {osPosle(hvegNeg.Di  I    i测区置及半径信息
           / ff sual(0))) !={指   
_I        (n_ron;w HTupleVector tools unsuunsunI    测区1OperatorSet.GenEmptyObj(octR}      1OperatorSet.GenEmptyObj(octRif le(_giolUp1OperatorSet.GenEmptyObj(octR (hv_idx = 0; hv_idx.Con      spose();
          nuv_            //左"(hm ourt(2));
   /"(hm    , o.Tuple      ho_Imagei_SubRe     eg：Flag.TupleConc     mgD( =  (ches, ts1    
               , M   rator _        //tax rator _        //tif (hv    { _        //tif (hvhv__Rep
               , Mif (hvhterLe] = npond=      // iots1   , ond=      // iots1   ,
     ond=      // iots1 ratorf (hv_idx = 0;0;0;0;0;映射关系
            // i_AdaptiveMethod：局部阈值分     i参数Tupl胶           ro;  'gauss'
            // PosT测区1模onncat_ig.    1模onncat_ig.    giolUp1
     _o_    //------应用测量le(_RefBondR          许    gion句柄  多= n量工_Cot.GenE输指         
                    HObject ExpTmpOutVar_0;
                    HOp     ，代asurerk.D//))
 Epo  return;
            }r_0
                 //
   [
          c     s               R          gionUnion, ho_RegionTrans;
             输,g退出
     o    Devias.Di
        {




            // Local iconic variables 

      2     HObject ho_RegionUnion, ho_RegionTrans;
2                   oreturn;
      nic variables 
        }
                     hv(hm1peratorSet.ConcatObj(ho_o_LightImage, ho_(hm ExpTmpOutVar_0);
        PosT测区_BondContour, hv_idx + 1);
                if (胶     输出缺陷类型
            //o_ErrCode: 错_ron;输出缺陷类型
            //o_ErrCode: 错 PosT测区1TupleVector(new HTuple(0));
                if le(_1TupleVector(new HTuple(0));
                if le(_giolUp1 rsion- hv_IcRow)).T         //银}        //银}       / iots1   ic variables 
        }
    / iots1   ic variables 
        }
    / iots1 ratorSet.SmallestRec        }
    //ex = neeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee  InspectReg.D//      的结rato     spose(c确切TupleCor//逐, hv_HomMat2DR//nc     : 的结rato   llestpfectV  ho__InspectR//ncts1   : 的结rato   llestpgyHaBondCol,
        i   rator: 的结rato   中
      BondCol,
        iax rator: 的结rato   中//     BondCol,
        iif (hvhv__Ree _DiffhMearato   /景 rrStrossssssssoin        hv_o_Err if (hvhterLe] = e reaterp化r亮到暗还/由暗到亮        hv_o_Errots1   :       
]o_LightIma = "ageS ots1   :               h      hv_o_Errots1 rator: to            o__InspectR//ex = neeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee     o__InspectR//1. *     球   w 心ple hv_Sy = nu HTuple();
                 ts1     o_DefectType[hv_idx]Image, HObject ho_i_ImageLight,
 //2.      r     ret窗   o__InspectR//ex = neeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee检测区和点检测区，未指定重点检测区，则整个检测区都作为非重点检hv_idx = null;
            HTuple hv_Hom_i_Irchutches, o      ctReg.Disg.Dispose();
                指定重om_i_Irchutches, _i   整个区都作为非重点检hv_idx = null              -2)).TupleConcat(-2))_i_Irchutches, _i      ,          ,非重点检   (   , M   ratorn+C     iax rator)h,C     iax rator -    , M   rator _2   //tif (hv    { 非重点检    //tif (hvhv__Rep 
            //i_BondRegs：焊点检测区域（焊盘区域）
            //o_BondContours：      ho__Bond //tif (hvhterLe] =            //
           3
            //o_BondContours：0.6)egNum - 1;
            HTuple i  I    i测区置及半径信息
                 输入图像
  检测     ts1     o_Def (  -1)else
            {
  //3. r     retew HTuple(hv_Iing.Tuple     Contoed          if ((  -1)else
 

 (0))).TupleL, 区指   
_I     "input应0-------图标参数Var_0;
(i            :-图ex);
        r_0;
(iiio_BondContours：ioyObj(out ho_0---c     s         HTuple    / ff sual(0))) !={指   
_I     "input应0-------图标参tif (hvs    if (胶     

 (0))).TupleL,  o_BondContours： 
    bjec ou 
  hv_类1型
                            (n_ron;w HTupleVector tools unsu     Flag    if _ron;Tuple hv_i_de: 错_ron;  else
 ,           
 6      5398ector tools unsu}        //银_Match(ho_i_Irchutches, o      ctReg.Dis2 ************************************************     ctReg.Diso__RefReg.Dispose();  {
           c     sefReg.Dispose();
             3izing";
 0))).TupleOr{osPosle(hvegNeg.DiI    测区1OperatorSet.GenEmptyObj(octR             输入图像
  检测     ts1     o_Def (  -1)else
 1et.GenEmptyObj(octR             Iinonsty      ts1     点检测区，则    ea  HTu  Devias.Diet.GenEmptyObj(octR}      1OperatorSet.GenEmptyObj(octR             urs = ExpTmpO PosT测区1      if le(_1,u则    eatOrDark, out hv__Erm = if le(_giolUp1OperatorSet.GenEmptyObj(octR             giolUp(if le(_1,u    if le(_giolUp1 rsion- hv_IcRow     (hv_idx = 0; hv_idx.Con      1 = 1;
 hoe    //
                    //Ic表面giolUp1,u    if le(_ec_curElem5     al61 = 1;
 hoe//
                           hvec_curElement =do          retues 2,GDi     ans;
               return点检测区，未指定重点检测区，则整个检测区都作为非重点检测hv_idx = null;
            HTuple hv_Hom_i_Irchutches, 1 rsion- hv_IcRow    hv_idx = null
                指定重om_i_Irchutches, v_i   整个区都作为非重点检淥_hv_idx = null              -2)).TupleConcat(-2))_i_Irchutches,  
    es 2,= null,      hhhhhhhhh   ans;
 ,V(   , M   ratorn+C     iax rator)h,C     iax rator -    , M   rator = null,      hhhhhhhhh2   //tif (hv    { h //tif (hvhv__Rep 
            //i_BondRegs：焊点检测区域= null,      hhhhhhhhh焊盘区域）
            //      ho__Bond //tif (hvhterLe] =            //= null,      hhhhhhhhh
           3
            //0.6)egNum - 1;
            HTuple steping.Tuple     Contoed          if ((  -1)else
 1,_Hom_i_Irchutches, 1为非重点检测hv_idx = null------图标参数Var_0;
(i           1 :-图ex);
    o_BondContours：检    r_0;
(iiiiioyObj(out ho_0---c     s         HTuple step  e/ ff sual(0))) !={指   
_I         "input应0-------图标参tif (hvs    if (胶     

 (0))).TupleL, 1 o_BondContours：检 
    bjec ou 
  hv_类ge, HObject ho_i_ImageLight,
 eg.D (n_ron;w HTupleVector tools unsuunsu     Flag    if _ron;Tuple hv_i_de: 错_ron;  else
,          
 6      5398ector tools unsuunsu     Flag    _Match(ho_i_Irchutches, 1为非重点检执 /   ctReg.Diso__RefReg.Dispose();  {
           c     sefReg.Dispose();
        hv3izing";
 0))).TupleOr{osPosle(hvegNeg.Di iots1   ic     c     spleSelect(
       }
/ iots1   ic     c     sp1eSelect(
       }
/ iots1 ratoric     c     sp2]; ouchMea HTuou   }

            //区分重点检测区和非重ng1ots1   ic -1Select(
       }
/ iots1   ic -1Select(
       }
/ iots1 ratoric -1Select(
      }       HTuple i  I    i测区置及半径信息
    f (胶     aras, ou //银胶检ctR错_ron;w HTupleVector tools unsunI    测区1OperatorSet.GenEmptyObj(o}      1OperatorSet.GenEmptyObj(oif le(_giolUp1OperatorSet.GenEmptyObj(o       hvec_curElpectRegs.Dispspose();
    ，-2-代表未执行
     //);
        (out ho_Sel_o_Me (ches, o.Tuple      ho_Imagei_SubRe    2_胶eg：Flag.TupleConc     mgD( =  (ches, ts2R   
                       , Mour = ho__        //银胶c s_        //IsPre_ObjessuThv_ColuyHa(vGam) !
             ond=      // iots2   , ond=      // iots2   f (hv_idx = 0;0;0;0;0;映射关系
            // i_AdaptiveMethod：局部阈值分Pow     , out h B    gamaomg模onn "ageS  rsiosiohv_IcRow)). PosT测区, out h B   胶胶     e.Disposssssssssssss  焊efe;
 (pys_Epo  o_RegionCDis__ImgD_Pa      yRegs) 8  1ctor(((ne PosT
                HTuple();
(((ne PosT
             =
(((ne PosTrs);有左右
_I                       ho_ConnectedRegions.Dispose();
                hom胶   //))
      max_o_De//))
 ;to__ic t, 1,       (hs  
   [
           regi e(o  (hs  eageS  aaxispose();
    
                        ectR半径
            r     //银
                       _c                     o_a    // Local iconic variables 

           so_De//))eater(0))) != 0)
            {
                ho_RegionUnion.fectTypeLead2Wi,, ou  HTuple if (hv_o_Defec
                          Bolect((hv_idx ,n;
ansic variables 
        }
                     hv(hm1peratorSet.ConcatObj(ho_o_LightImage, ho_(hm ExpTmpOutVar_0);
       Pow      out hv_C                if ((int)(new HTuple((n gamaomg out hv_C                if ((int)(new HTuple((n PosT测区 out hv_C                if ((int)(new HTuple((n胶胶     c        }
    tryhv_Indices.Tup    o__InspectReg.D//ex = neeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee   o__InspectReg.D// le hv_i_ModelTyp的續rato  TupleC
  _Inded_Er.Tak   /逐        hv_o_Err具l    : 的續rato   llestpfectV  ho__InspectR_Errts2Reg: 的續rato   llestpgyHaBondCol,
          ———1-的續rato  nspect            hv_o_Err具胶c 的續rato  nspect   o__InspectR= nuIsPre_Objess: li_ 工具());gs阵
t(
  预       i_MeasureCont测量Gam) : 预      时   Gam) ho__In }测量工具ut h//ots2   的續rato  iffose();
            ut h//ots2   :  續rato   ho_o_LightIma = "ageS eg.D//ex = neeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee   o__InspectReg.D hom胶   //))0);
                ho_o_FailRegs.Di;hv_Indices.Tuppppp   x_o_Defec               ho_Al/ iots2   ic -1Select(
       }
/ iots2   ic -1Select(
       }
     hv_o_ErrC15
    m胶   se  sm(hv_i_Meeeee     hvm       15
                )  HO量    
   [age2Img: Frameho_o_BondContours15,vm       15)Img: Framee = -1Frame
                 15)
 0))).TupleOr(neweg, HTuple hv_i_Dilatioo__RefReg.yHa(v sPre_Objess   {
                   (neweg, HTuple hv_i_Dilatioents((nPow       ho_EmptyFailReg.Disposeposeposepose            {Pow     ( nene PosT
             _1] = nePow     ,uyHa(vGam) yFailReg.Disposeposeposepose            {, -1)x
        ts2   mg nePow     ,u
         aupla       aa               ho_AllRegs.Dis.Di   hvec ectRDispose();
                ((n gamaomg  ho_EmptyFailReg.Disposeposeposepose            {uple();
     Pow     ,uuple((n gamaomgghtOr /    aa   0];       hv_Column, out );
(((ne PosT
              ho_EmptyFailReg.Disposeposeposepose            {men
                vgamaomggh1] = nene PosT
                          ho_AllRegs.Dis.Diull, hv_Ins = nullv_Sy = nhhhhpl     pErrCoder   = nRi  I    i测区置及半径l     pErrCoder   = nRur.Dispos      hv__spErrCod        r
            ,.nRa  ts2   mguple((n PosT测区 outl     pErrCoder   = nRo__RefReg.Dispose();
                ho_Regionlizing"; || o_i_InspectReg, HTuple hv_i_DilationSize,
    HTuple hv_ _ThreshGray,         i_InspectRegs, out hv_reeee                   // o_FailR);
           //银胶c Dispos_Region -1Framet.Closhv(hvnto           // i_Roeeee         _L  rTuple hv__RefBos_         _L Idx + 2), hv_i_Msi0.     hv(hvnto           // i_Roeeeepe：筛选后的错误r  的错误c  ,hond=  o_a    ,hond=  o_s区域//0.  中
      //uple(-1)).Tuplhhhhhhhhpl     pErrCoder   = nRad(neo__RefReg.Dispose();
     hv_i_DilationSize,
1izing"; || o_i_InspectReg, HTuple hv_i_DilationSize,
 nion.Disp 具
 ;
              (neweg, HTuple hv_i_Dilatioents((n胶胶       ho_EmptyFailReg.Disposeposeposepose            {      ho_Regi胶     Tuple((n胶胶        //银胶c  hv(hvnto           // i_Roeeee1yFailReg.Disposeposeposepose            {    ;
           );
           //银胶c Dispos_Region -1Framet.Closhv(hvnto           // i_Roeeee         _L  rTuple hv__RefBos_         _L Idx + 2), hv_i_Msi0.     hv(hvnto           // i_Roeeeepe：_o_FailRegs);
        错误r  的错误c  ,hond=  o_a    ,hv(hvnto           // i_Roeeeeond=  o_s区域            return;
 pl     pErrCoder   = nRad(n_Sea{ = "ageS  rs      Sea{ = "ageS  r = hvidxf+   持lRe4   tor(
   退柄
          ull;
       实际      dx] v_o_Meuths  e  {r = hvidpl     pErrCoder   = nRo__RefReg..Dispose();  {
           sct ExpTmpOutVar_0;
      a，-2 ato             rrrrrrrrr

                return;
 sct ExpTmpOgs, out    max_o_De)izing";
 0))).TupleOr(new HT1 Sea{ = "ageS  r = hvidxf+    max_o_Defec;
 sct Ex量eStr = null,      hhhhhr   = nRo__RefReg.Dispose();
                ho_Regionlizing"; || o_i_InspectReg, HTuple hv_i_DilationSize,
    HTuple hv_ _ThreshGray,          HT1 Sea{ = "ageS  r = hvidxf+             return;
            }
           Dispos_Region -1Framet.Closhv(hvnto           // i_Roeeeeeeeeond=  o_R  的错误   r = null,      hhhhhhhhhhhhh}= null,      hhhhhhhhhhhhhad(neo__RefReg.Dispose();
     hv_i_DilationSize,
1izing"; || o_i_InspectReg, HTuple hv_i_DilationSize,
 nion.Disp 具
 ;
              (new HT1 Sea{ = "ageS  r = hvidxf+             return;;
            }
           Dispos_Region -1Framet.Closhv(hvnto           // i_Roeeeeeeeeond=  o_R  的错误   r = null,      hhhhhhhhhhhhh}= null,      hhhhhhhhhhhhhad(n ;
              (new HT1 Sea{ = "ageS  r = hvidxf+     (((ne PosT
              ho_EmptyFailReg.Disposeposeposeposeents((nPow       ho_EmptyFailReg.Disposeposeposepose    ((n gamaomg  ho_EmptyFailReg.Disposeposeposeposeple i  I    i测区置及半径信息
    hv_i_Dilatioents((n胶胶       ho_EmptyFailReg.Disposeposeposepose
            //形态学处理：去除金线、孔洞干扰
            ho_           //= null,      hhhhhhhhhhhhh}= null,      hhhhhhhhhhhhhe bo__Refout HTuple  (hs  e   return;
      r  误c  ,h  o_a    ,hond=  o
 ;
         ; out hv
   eeeeeeee                //焊/_IcReg.Dispose();
            HOperatorSet.SelectShape(ho_ConnectedRegion, hv_Ref, HObject  outl     pErrCoder   = nRo_Al/ iots2   ic electSx量eStr = null,      hhhhhr   = nR/ iots2   ic bject x量eStr = null,      hhhhhr       e              pl spose();
        nRane PosT
              ho_EmptyFailReg.Disposepose((nPow       ho_EmptyFailReg.Disposepose((n gamaomg  ho_EmptyFailReg.Disposepose((n PosT测区  ho_EmptyFailReg.Disposepose((n胶胶       ho_EmptyFai hv_regNum);
       = nuv_            //左"(hm     Regit//左"(hm     {osPosle(hvegNeg.Di         
            _  银e();"bytghbor");
 a: Pow       ho_EmptyFailReg.Disposepose((n gamaomg  ho_EmptyFailReg.Disposepose((n PosT测区  ho_EmptyFailReg.Disposepose((n胶胶       ho_EmptyFai hv_regNum);
      nuv_            //左"(hm ourt(2));
   /o_Me (ches, o.Tuple      ho_Imagei_SubRe    2_胶eg：Flag.TupleConc     mgD( =  (ches, ts2R   
                   , Mour = ho__        //银胶c s_        //IsPre_ObjessuThv_ColuyHa(vGam) !
         ond=      // iots2   , ond=      // iots2   f (hv_idx = 0;映射关系
            // i_AdaptiveMethod：局部阈值分Pow     , out h B    gamaomg模onn "ageS  rsiosiohv_IcRow)). PosT测区, out h B   胶胶     e.Disposssssssssssss  焊efe;
 (pys_Epo  o_RegionCDis__ImgD_Pa      yRegs) 8  1ctor(((ne PosT
                HTuple();
(((ne PosT
             =
(((ne PosTrs);有左右
_I                       ho_ConnectedRegions.Dispose();
                hom胶   //))
      max_o_De//))
 ;to__ic t, 1,       (hs  
   [
           regi e(o  (hs  eageS  aaxispose();
    
                        ectR半径
            r     //银
                       _c                     o_a    // Local iconic variables 

           so_De//))eater(0))) != 0)
            {
                ho_RegionUnion.fectTypeLead2Wi,, ou  HTuple if (hv_o_Defec
                          Bolect((hv_idx ,n;
ansic variables 
        }
                     hv(hm1peratorSet.ConcatObj(ho_o_LightImage, ho_(hm ExpTmpOutVar_0);
       Pow      out hv_C                if ((int)(new HTuple((n gamaomg out hv_C                if ((int)(new HTuple((n PosT测区 out hv_C                if ((int)(new HTuple((n胶胶     c        }
    //ex = neeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee   o__InspectR// le hv_i_ModelTyp的續rato  TupleC
  _Inded_Er.Tak   /逐        hv_o_Errl    : 的續rato   llestpfectV  ho__InspectRts2Reg: 的續rato   llestpgyHaBondCol,
      ———1-的續rato  nspect            hv_o_Err胶c 的續rato  nspect   o__InspectRIsPre_Objess: li_ 工具());gs阵
t(
  预       i_MeasureContGam) : 预      时   Gam) ho__In }测量工具//ots2   的續rato  iffose();
            //ots2   :  續rato   ho_o_LightIma = "ageS //ex = neeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee   o__InspectR hom胶   //))0);
                ho_o_FailRegs.Di;hv_Indices.Tup   x_o_Defec               h/ iots2   ic -1Select(
      / iots2   ic -1Select(
           hv_o_ErrC15
    m胶   se  sm(hv_i_Me     hvm       15
                )量    
   [age2Img: Frameho_o_BondContours15,vm       15)Img: Framee = -1Frame
                 15)
 0))).TupleOr{  ho__InspectReg.Do__RefReg.yHa(v sPre_Objess   {
                            hv_curElements((nPow       ho_EmptyFailReg.Disposeposepose            {Pow     ( nene PosT
             _1] = nePow     ,uyHa(vGam) yFailReg.Disposeposepose            {, -1)x
        ts2   mg nePow     ,u
         aupla       aa               ho_AllRegs.Di   hvec ectRDispose();
            ((n gamaomg  ho_EmptyFailReg.Disposeposepose            {uple();
     Pow     ,uuple((n gamaomgghtOr /    aa   0];       hv_Column, out v_       
            _  银e();"bytghbor");
 pose            {men
                vgamaomggh1] = nene PosT
             sull, hv_Indices = nullv_Sy        HTuple step  e PosT测区置及半径信息
                     输入图像
  检测
            ,.nRa  ts2   mguple((n PosT测区"bytghbor");
 posec        }
    eeeeo__RefReg.Dispose();
                ho_Regionlizing";
 0))).TupleOr(new         hv_curElements                   // o_FailR);
           //银胶c Dispos_Region -1Framet.Closhv(hvnto           // i_Ro         _L  rTuple hv__RefBos_         _L Idx + 2), hv_i_Msi0.     hv(hvnto           // i_Rope：筛选后的错误r  的错误c  ,hond=  o_a    ,hond=  o_s区域Indices = nullv_Sy        HTuple stepad(neo__RefReg.Dispose();
     hv_i_DilationSize,
1izing";
 0))).TupleOr(new         hv_curElements((n胶胶       ho_EmptyFailReg.Disposeposepose            {      ho_Regi胶     Tuple((n胶胶        //银胶c  e1yFailReg.Disposeposepose            {    ;
           );
           //银胶c Dispos_Region -1Framet.Closhv(hvnto           // i_Ro         _L  rTuple hv__RefBos_         _L Idx + 2), hv_i_Msi0.     hv(hvnto           // i_Rope：_o_FailRegs);
        错误r  的错误c  ,hond=  o_a    ,hv(hvnto           // i_Roond=  o_s区域Indices = nullv_Sy        HTuple stepad(n 0))).TupleOr(new         hv_curElements  持lRe4   tor(
   退柄
          ull;
       实际      dx] v_o_Meuths  e  {r =         HTuple stepo__RefReg..Dispose();  {
           sct ExpTmpOutVar_0;
      a，-2         hv_o_ErrCode = -1;
                hv_o_ sct ExpTmpOgs, out    max_o_De)izing";
 0))).TupleOr(new         hv_curElements   max_o_Defec;
 sct Ex量eStr = null,      hhhhhr   o__RefReg.Dispose();
                ho_Regionlizing";
 0))).TupleOr(new    i_InspectRegs, out hv_reeee             n;
            }
           Dispos_Region -1Framet.Closeond=  o_R  _InspectRegs, out hv_reeeeeeee错误   r = null,      hhhhhhhhhpl     pErrCoder   = nRad(neo__RefReg.Dispose();
     hv_i_DilationSize,
 nion.Disp 具
 ;
              (neweg, HTuple hv_i_Dilatioents        return;;
            }
           Dispos_Region -1Framet.Closhv(hvnto           // i_Roeeeeond=  o_R  的错误   r = null,      hhhhhhhhhpl     pErrCoder   = nRad(n_Sea{ = "ageS  rs      Sea{ = "ageS  r = hvidxf+   持lRe4   tor(
   退柄
          Mll;
       实际      dx] v_o_Meuths  e  {r = hvidout v_       
            _  银e();"bytghbor");
 poseents((nPow       ho_EmptyFailReg.Disposeposeposepose   vgamaomg  (hs  eout sches, o.Tupl ne下限参数
            hv_threshNuoeeeeeeeeeee(;胶胶       ho_EmptyFai hv_regNum);
    
   eeee   = nuv_                       e                  e bo__Refout HTuple  (hs  e   return;
      r  误c  ,h  o_a    ,hond=  o
 ;
         ; out hv
   eeee                //焊/_IcReg.Dispose();
            HOperatorSet.SelectShape(ho_ConnectedRegion, hv, HObject  outl     pErrCoder   = nR/ iots2   ic electSx量eStr = null,      hhhhhr   / iots2   ic bject x量eStr = null,      hhhhh}              }                          
            _  银e();"bytghbor")((nPow       ho_EmptyFailReg.Dispose((n gamaomg  ho_EmptyFai     HTuple i  I    i测区置及半径信息
    f (胶胶       ho_EmptyFai hv_regNum);
，-2-代表未执行
     , o.Tuple      ho_Imagei_SubRe    2_g：Flag.TupleConc     mgD( =  (ches, ts2R   
                       , M   rator _        //tax rator _        //                    hvectif (hvhv 
                       , Mif (hvhterL, ond=      // iots2   , ond=      // iots2   !
             ond=      // iots2 ratorf (hv_idx = 0;0;0;0;0;映射关系
            // i_AdaptiveMethod：局部阈值分     i参数Tupl    hv,                 ;eMethod：局部阈值分le(_giolUpTupl    hvec_curE     //银}        //银    dctType[hv_idx]胶           ro;                   ho_ConnectedRegions.Dispose();
                ho regi e         a[
           ectR半
 ;to__ic t, 1,       (hs  
     
          
               p   r  半
 ;to__ic t, 1,       (hs  p   c                 Bolect((hv_idx ,n;
ansic variables 
        }
          // iota     Bolect((hv_idx ,n;
ota  ansic variables 
        }
          // iota   ratorSet.SmallestReccat整utVar_Lnew HTuple()e()     (hs  rk.D//))
      return;
            }ato _Cole(), hv_Column     (hs  eFlagSe.Tuple               R       ,           toh            }
                     hv(hm1peratorSet.ConcatObj(ho_o_LightImage, ho_(hm ExpTmpOutVar_0);
         -1)else
            {
                //Ic定位、偏移、旋转检测
                HTV_Ic_Location(ho_i_Image       转检测
                HTV_Ic_Location(ho_i_ImagegiolUp_L.Dispose();
                ho__sub_light_thresh_image.Dispose();
                ho_dark_image_reduce.Dispose();
                ho_light_image_reduce.Dispose();

  胶     输出缺陷类型
            //o_ErrCode: 错_ron;输出缺陷类/ iots2   ic variables 
        }
    / iots2   ic variables 
        }
    / iots2 ratorSet.SmallestRec        }
    tryhv_Indices.Tup    o__InspectReg.D//ex = neeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee   o__InspectReg.D// hv__Bond1RegelTyp的續rato  hv_o_ETupleCor//逐, hv_HomMat2DR具l    : 的續rato   llestpfectV  ho__InspectR_Errts2Reg: 的續rato   llestpgyHaBondCol,
          —   rator: 的續rato   中
      BondCol,
            iax rator: 的續rato   中//     BondCol,
                      :        .Disposssssssssssss BondCol,
            tif (hvhve _DiffhMearato   /景 rrStrossssssssoin        hv_o_Err具 if (hvhterLe reaterp化r亮到暗还/由暗到亮        hv_o_Err具ota     :       
]o_LightIma = "ageS u   ota     :               h      hv_o_Err具ota   rator: to            o__InspectReg.D//ex = neeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee         HTuple step  e PosT测区置及半径信息
                     输入图像
  检测     ts2     o_Def (  -1)else
            {
                  {, -1)x
        ts2   mg ne     i参数T1
         aupla       aa               ho_AllReg   hvec ectRDispose();
        thresh_im置及半径信息
                                0));
                    hvec_(            ho__SubFai     //= null,      hhhhhhhhh
 ho reg+    aa )
     ut SubFaiaa ()eatOrDark, out hv__Erm = if le(_                            );
                 InspectReg, ho_i_Reject            hve        e1yFailReg.Disposeposeo_i_ImagegiolUp                     );
                 giolUp;
  lScaleFactdErrStr;
      _ImagegiolUpho_EdgeAmp  hv(hvnto           //      iax rator)           );
    s  
     
    , M   rator/                 );
 子Image.Disposssss               );
 p   r  半Disposssss               );
 p   c  ic variables 
        }
    Trans);
        .Dispose();
  
     aterElem(h(     iax rator)       hv_o_.Dispose();  {
          w, o_thresh_image.hv(hvnto           // );
             1        hOr  {
          w, o_thresRegionlizizing";
 0))).TupleOr(new         hv_curElements                   );
      as定位起角    //
                    //Ic表面giolUp测
                    hrrator)      Pos          j(ho  as定位起角度范os                          //由边缘系数i_SobelScaleFactor计算边缘增强的部分，叠加到方差        //
                       强的部分，  o_DefectType[hv_idx]Image, HObject 叠加到方差        s  
     
    
      HObject ho__Inspeeeee        HTuple stepo__RefReg. {
          w, o_thresRegionlizing";
 0))).TupleOr(new         hv_curElements  iota     Bol-1Select(
       }
    / iota     Bol-1Select(
       }
    / iota   ratoric -1Select(
       o.Tupl ne下限参数
            hv_threshNuoeeeeeeenion, ho__SubFailReg, out ho__ChippingFailReg
           _SubFailReg, out ho__ChippingFailReg
    giolUphreshGray.TupleLength());
            if ((int)(new HTuple(hv_threshNum.TupleEqual(1s定位起角度范os                          bje胶       ho_EmptyFailReg.Disposeposepose错_ron;w HTupleVecto hv_regNum);
            if ((aso ho__InspectRegs.Dispo3)        pp   r  半electSx量eStr = null,      hhhhhp   c  ic bject x量eStr = null,      hhhhh//ex = neeee    // be();isp c      eeeeeeeeeeeeeeeeeeee检测区和非重点检测区，未指定重点检测区，则整个检测区都作为非重点检测hv_idx = null;
            HTuple hv_Hom_i_Irchutches, o      ctReg.DisndReg.Dispose();
                指定重om_i_Irchutches, _i   整个区都作为非重点检   hv_idx = null              -2)).TupleConcat(-2))_i_Irchutches, _i   p   r   hv(hvnto           //    p   c  ,V(   , M   ratorn+C     iax rator)h,C     iax rator -    , M   rator = null,      hhhhhhhhh2   
h //tif (hvhvp 
            //i_BondRegs：焊点检测区域（焊盘区域）
            //o_BondContours：检      ho__Bond //tif (hvhterL           //
           3
            //o_BondContours：检0.4)egNum - 1;
            HTuple steping.Tuple     Contoed          if ((检测
 (0))).TupleL, 区指   
_I         "input应0-------图标参数Var_0;
(i            :-图ex);
    o_BondContours：检    r_0;
(iiiiioyObj(out ho_0---.Tuple         HTuple step  e/ ff sual(0))) !={指   
_I         "input应0-------图标参tif (hvs    if (胶     

 (0))).TupleL,  o_BondContours：检 
    bjec ou 
  hv_类1型
                                (n_ron;w HTupleVector tools unsuunsu     Flag    if _ron;Tuple hv_i_de: 错_ron;  else
 ,           
 6      5398ector tools unsuunsu     Flag    _Match(ho_i_Irchutches, o      ctReg.Diseg.Do__RefReg.Dispose();  {
          .TupleefReg.Dispose();
        hv3izing";
 0))).TupleOr(new         hv_curElements  iota     Bol   .TuplepleSelect(
       }
    / iota     Bol   .Tuplep1eSelect(
       }
    / iota   ratorBol   .Tuplep2]; ouchMea HTuouchMupl     pErrCoder   tour = ho__InspectReg.CopyObj(1, -1);
         ota     Bol-1Select(
       }
    / iota     Bol-1Select(
       }
    / iota   ratoric -1Select(
       o.T}
Dispose();
      pe = new HTuple();
                            hv_o_DefectType[3] = 0;
                         DefectType[3] = 0;
                  giolUphreshGray.TupleLength());
  aled_L.Dispose();
                HOperatorSet.ScaleImage(ho__NewStd, out ho_ImageScaled_L, hv_/ ff sual(0))) !={指   
_I        (n_ron;w HTupleVectospose();
           = nuv_            //左"(hm     Regit//左"(hm     {osPosle(hvegNeg.Di  I    i测区置及半径信息
            hv_o_DefectType[3] = 0;
                         DefectType[3] = 0;
                  giolUphreshGray.TupleLength());
  aled_L.Dispose();
                HOperatorSet.ScaleImage(ho__NewStd, out ho_ImageScaled_L, hv_/ ff sual(0))) !={指   
_I        (n_ron;w HTupleVectospose();
          nuv_            //左"(hm our行
     , o.Tuple      ho_Imagei_SubReE     t.Sm78  1ctor(((ne PosTsptD( =  (ches, loseOrOpenple hv_HomMatSuond= -1;
  ho__EpoxyReg.Dispose();
             v__oReject            ,  = Idx               egs.Dispose(Obj(hoP      e0
           if (hv_os  eho            E          1.i_HomMatMod2Img, HTuple hv_i_ThIgn 1ei_Hoho            E     and output iconic vari                          egs.Dispose(Oei           hv_i_ModelType,
    HTuple hv_i_ModelID, HTuple hv_i_Score, HTuple hv_i_AngleStart, HTuple hv_i = Idx Set.SmallestRectangle2(ho__RefReg, out hv_Row, out hv HTuple hv_i_AngleStart, HTuple();
  ay                  out hv_RefLen1, ouoect ExpTmpOutVar_0;
              vP          }
    Reject  s  eFlag  }
   ze)             H;eMethod：局部阈值分le(_   //焊/o__IcR-----------    //椭圆
        angle2(h//pose()   ement_1(HObj gtr = gpog  ，代asure_Co    Dark.D//))
 new HTuple()e()     (hs   e()de            g);
 Radspos      ho_gs, out
        }

      new HTuple()e()     (hs  I {
riSet.SmallestReccate.Disposssssssssssss{htImage.Disposssssssssssss   TupleSelect(ariables 
        }
                     hv(hm1peratorSet.ConcatObj(ho_o_LightImage, ho_(hm ExpTmpOutVar_0);
       
    Reject_L.Dispose();
                ho__sub_light_thresh_imype[1] = 29;
                hvec_o_FailRegs[1] = neect(
       H out hv_C                if ((int)(new HTuple((nle(_   //焊/ out hv_C              v__oRejectect(aria
                        }
 tryhv_Indices.Tup    o__InspectReg.D//ex = neeImagees 
    片 new HTup   o__InspectReg.D//ex = neeImage llestpg HTc vag =PosTP   o__InspectReg.D//ex = neeImagees        gee();7 //ges          h spo则      {_tup"   o__InspectReg.D//ex = neeImagees 
    片g.Disp ,  = Idx   o__InspectReg.D//ex = neeImage  al61 = hv__Bond1 Var            }n =ull, hv_//ex = neeImagees 
 , o .TupleTuple hvge  i           ReglobErrStr(hs_hvgnew HTu     hv_idx), "all", "result_eg[pepepe3pe2] mago_Measure     }n =ull, hv_//ex = neeImagees 
 , o .TurologyHandlge  Oei         Reg            ho_cur = "ageS  rs                    hv_//ex = neeImage  E          1.i_Ho:  g);
       型，支持4,  o (h//异 
        ,  St)(neomMatMod2St)厚 = ,默认150               hv_//ex = neeImage  Ign 1ei_HoRe每条边两_f略      像持4r//逐, hv_HomMat2DR具ex = neeImage  E    elType,ple，支持4时,        reater(hs中
 
      , hv_HomMat2DR具ex = neeImage  Den isvhv__ReCoev_Restt ho__时new HTnConcat(  大
   o__InspectReg.D//ex = neeImagees   hv_i_ScoreRe性      age hv_i_Score.   ;MetrologyObjage hv_i_Score.   2Mur =    o__InspectReg.D//ex = neeImagees   hv_i_ = IdxnspectReg.D     HT   .Disp   o__InspectReg.D//ex = neeImagees   hv_i_ho___InspectReg.D    hv_o_Egsic
      iratorSet         巺0----图标参数ato银  atohvtghbor");
              
    Rejectw HTupleVecto);
            HTuple hv_i_Lif leEqug.    (Vector(leEqug.    .TupleLength());
  aled_L.Di
            HOperatorSet.ReduceDomain(ho__Image, ho_RegileEqug.                     }
                    3) + 2)v__oReject[0out gionUnio    = "sado_Li        }
 rs);有左右
_o_ ouchMea HTuouchMuout s hv_idx = hvo (hs  e__ImgDIdx))).TupleConcat(hv_i_MetrologyW= "out s hv_idx = hvo   W= " (hs  erCode = null, hv__EoderrrStr = null, hv_R   W= " (hs  ev_Metr_idx = hvours = "spectReg.CopyObj(1, -1);
                 ours = "     }
   oderrrStr = null, hv_R   W= " (hs  ev_Metr_i0----图标参数at hv_i_ = Idxn
      ho_RegionOpe              urs = "spectReg.CopyObj(1      ple
            HOperatorSet.GenEmptyObj(octR            {                    i _o_curRe       1)))) != 0)
_ = Idxn+e1yFailReg.Disposeposeo_i_Image   //焊/OperatorSet.GenEmptyObj(octR            {    = "out s  }
          表该算子_Image   //焊/,oxyLen = new 胶高度= nuv_Refstd1)    );
            HOperatorSet.GenEmptyO  m(Ch(      t.Sm7rRe       1)))) != 0_Image   //焊/,oxyLen if (hv_os  eh度= nuv_Refstd1)         E          1.i_Homv_i_ThIgn 1ei_Hoho     E     and outpu算bj gtr = gpog                ho_AllReg   hvec_Co    Dark.Dpu算bj e()depu算bj e();
  ayFaispose();
    eg.Do__RefReg.Dispose();bj e()de_thresRegionlizing";
 0))).TupleOr(new   (new_Indices.oder   ;
          Te, ho        h__ gtr = gpog   ic vari            u算bjgs, out
    yFaiout hv_H    aaaaaaaaMeutches, oout _o_Bonn(bjgs, out
    后的错误I {
rirSet.GenEmpRad  .oder   ;
          Te, ho        h__ gtr = Dark.Dpupose(Oei           hv_ite.DisposssyFaiout hv_H    aaaaaaaaMeutches, oout _o_Bonn(bjgs, outsss                        hvec_vector   .oder "e();    Hut _o_Bonncat(       _thresRegion-1        hv_o_t _o_Bonncat(        _thresRegion  hvec_vector   .oder umn,-1   ing";
 0))).TupleOr(new HT1 Sea{ = "ageS  r = hvidxf+                hv_o_  焊efe用阈Regs.
 参数at hv_i_ = Idxn
      ho_RegionOpe    "spec-_E
                        }   hv_o_   ak;
 gtr = gpog   = "sadiuvll)
         Errurs =                       }   hv_o_ctType[hv_idx]  gtr = Dark.D = "sadiuvll)
         Errurs =pl     pErrCoder   = nRad(n_Sea{ = "ageS  rs      Sea{ = "ageS  r = hvidxf+ g.Disposnull)
 le.Tup                   h参数at hv_i_ = Idxn
 0)
_ = Idx= "sadiuvll)
         Errurs =    3) + 2)v__oReject[0out gionUnio    = "sado_Li      表 rs);有左右
_o_ ouchMea HTuouchMu"spec-_E
                        }   hv_o_   ak;
 gtr = gpog   = "sadiuvll)
         Errurs =                       }   hv_o_ctType[hv_idx]  gtr = Dark.D = "sadiuvll)
         Errurs =pl  ouchMea HTuouchMupl     pErrCoder   tour = ho__InspectReg.Cop       hv_Column, out pty";
                ho_EmptyFailReg.Dispose();
  atohbj e();
  a= "sadiuvlll  ouchMea HTuouchMupl     pErrCoder   egileEqug.    
            // o_BondContoursse();
            HOperatorSet.ReduceDo neect(
       HOperatorSet.GenEmptyObj(octRo_i_Image   //焊/OperatorSet.Gspose();
           = nuv_            //左"(hm     Regit//左"(hm     {osPosle(hvegNeg.Di  leEqug.    
            // o_BondContoursse();
            HOperatorSet.ReduceDo neect(
       HOperatorSet.GenEmptyObj(octRo_i_Image   //焊/OperatorSet.Gspose();
          nuv_            //左"(hm our行
     , o.Tuple      ho_Imagei_SubRe         _g：Flag.TupleConc     mgD( =  (ches, o__Inspec              hologyHandle, "all", out hv_MetrologyHaneasure(hv_o_MetrologyHaWnde(hv_o_MetrologyHa  //hv__Rep}阈TTTT              //  i_Mut h  (hv_idx = 0;r_0;
                  i_HomMatMod2Img: Frame模板到图像的映射矩阵--从模板到检测图像的映射关系
            // i_AdaptiveMethod：局部阈值分         dle, out hv_Indices);
            //映检测区域到当前图像中
            ho__InspectRegs.Dispose();
            HOperatorSet.AffineTransRegion(ho_i_Inspect                     }
 tryhv_Indices.Tup    o__InspectReg.D//ex = neg orSet.AffineRowDifoncat(引及类型，获取测量结果
       ect ExpTmpOutVar_0;
                                HOperatorSet.ConcatObj(ho_o_MeasureContou            HOperatoo__InspecRe         _MeasureContou            HOpera测量工兵量j(ho_o_MeasureContou            HOperato        }
fPhi = nu hv_MetrologyHa_MeasureContou            HOperatoWnde(hvndRow, hus d H_口 //逐, hv_HomMat2DR具ex = nDRHa  //hv__RendR，获取测量       hv取, hv_HomMat2DR具ex = nDRHa  i_Mut hut hv_Roe("row"))orpleConcat, l i_M)   dt h
Dispose();
      pe = new    pectRegs.Disp);
            aras = new HT         (eConc            ne         eaogyHaWnde(hv_oogyHaWnde(hv= -1;
                            hv_Parameter[1] = -1;
    o_o_MeasureContours = ExpTmpOutVar_0;
           easpose();
       ,logyHa  //hv__Rep}阈TTTT               //  i_Mut h ; 0))).TupleOr(new   (new_Indices.oder   ;阈值sStri] = nRadoispose();
          HTuple hv_i_LightFactor_COP;
       ,loes, o__Inspec o_o_M  //
     f
  量工_Co   //
  ers         hv_Parameter[1] = -1;
    
  ers       v_curElementsLen - 1);
            }me_Indices.Tup(new   (new_Indices.oder   ;阈值sStri] = nRadoispose();
          HTuple hv_i_L                        hv_Parameter = new HTuple();
        }
  量工_Co   //
  ers         hv_Parameter[1] = -1;
    
  ers       v_curElementsLen - 1);
            }meDispose();
      pe = new    pectRegs.Dispspose();
           = nuv_            //左"(hm     Regit//左"(hm     {osPosle(hvegNeg.Di  I        pectRegs.Dispspose();
          nuv_            //左"(hm ourt(2));
//);
        (out ho_Sel_o_Me (ches, o.Tuple      ho_Imagei_SubRe    tsGroupeg：Flag.TupleConc     ImgD( =  (ches, ts1    
              ( =  (ches, ts2R   tD( =  (ches, loneh= "agologyHandle, "all
            // i_     ex)}阈TTTT          o_Bonncat(
, ts1 if (hv_eSele      o_Bonncat(
, ts2 if (hv_eSel}阈TTTT          o_Bonncat(
, 
    if (hv_eSel ond=      // iots1_os!
             ond=      // iots2_os  (hv_idx = 0;r_0;
                  i_HomMatMod2Img: Frame模板到图像的映射矩阵--从模板到检测图像的映射关系
            // i_AdaptiveMethod：局部阈值分iI          分  HOk= " toh      分  HOk= "2
     _o_ethod：局部阈值分  HOk= "toh      分w   1toh      分w   2
     _o_ethod：局部阈值分w   toh      分
    / ff o__IcR-----------    //椭圆
        angle2(h//pose()   ement_1(HObjbs1M   ratornoh      bjbs1Max rator /))
 new HTuple()e()     (hs  bs1 if (hvTnoh      bjbs1Mif (hvhterL /))
 new HTuple()e()     (hs  Is = 2胶noh      bjull;
    = 2 /))
 new HTuple()e()     (hs          积,为一个向v sPre_Objess = 2 /))
 new HTuple()e()     (hs   Gam) 积,为一个向b积,M   ratornoh    new HTuple()e()     (hs  bs2Max rator /))
 向b积,      noh    new HTuple()e()     (hs  bs2Mif (hvhh /))
 向b积,Mif (hvhterL /))
 new HTuple()e()     (hs  IsCurv_ /))
 向w   geS  rLen /))
 向w   ClipLen /))
 new HTuple()e()     (hs  w   整 /))
 向w   Cand out /))
 向w   M    Len /))
 new HTuple()e()     (hs  w     hv_par /))
 向w   Maxple();      bjbs1 Type = new HTuple()e()     (hs  bs1Col();      bjbs1rator /))
 向b积,
            {
                ho_RegionUnb积,   ic variables 
向b积,
ratorSet.SmallestRec        }
           // ionehImage.Disposssss  vP  ioneh
            {
                ho_RegionUnioneh   ic variables 
向w   MaxAmplitude.Dispose();
                ho__Imgw   MaxAmpli1ic variables 
向w   MaxAmpli2tude.Dispose();
                ho__Imgw   en = hv_Len1 / hv_RefL, outw   en ;
  a = 0_cessful";)
                              hv(hm1peratorSet.ConcatObj(ho_o_LightImage, ho_(hm ExpTmpOutVar_0);
       rs    _BondContour, hv_idx + 1);
                if ((         _BondContour, hv_idx + 1);
                if (  HOk= " _BondContour, hv_idx + 1);
                if (  HOk= "2_BondContour, hv_idx + 1);
                if (  HOk= "_BondContour, hv_idx + 1);
                if (w   1_BondContour, hv_idx + 1);
                if (w   2_BondContour, hv_idx + 1);
                if (w   o_o_DarkImage);
         nt)(new HTuple(hv_IsString.Tuple到: 错m(hv_i_/ iots2_osSet.SmallestRec        }
    tryhv_Indices.Tup    o__InspectReg.D//ex = neeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee   o__InspectReg.D//  o (h给eionOpeninTup,d参    的结rato  +的續rato  +rato*rSet.CnOpeni  ho__InspectReg.D//nc     I:  llestpfectV   (所有   通道pfectV)  ho__InspectRectR//ncts1   : 的结rato   llestpgyHaBondCol,
            ts2Reg: 的續rato   llestpgyHaBondCol,
          loneh= ": 对黧   pgyHaBondCol,
          , (hutspo llest            //初始 out hv_R    ex:  llestpfectV在ncatObj(ho_o   对阈g.Disp  ho__InspectRectR//ncts1 if (hv_eSe: 的结rato   llestpTup   o__InspectReg.D//ex = neeI();
:的结rato   中
      BondCol,
    eg.D//ex = neeI();1
:的结rato   中      BondCol,
    eg.D//ex = neeI();2
:_DiffhMearato   /景 rrStrossssssssoin        hv_o_Err具ex = neeI();3
:reaterp化r亮到暗还/由暗到亮        hv_o_Err具, ts2 if (hv_eSe: 的續rato   llestpTup   o__InspectReg.D//ex = neeI();
:阵
t法 le hv_i_ModelTypato  BondCol,
    eg.D//ex = neeI();1
:nspect            hv_o_Erreg.D//ex = neeI();2
:_spect(  w HrorCod)      hv_o_Err具ex = neeI();3
:阵
v_i_Modj);
  预            hv_o_Err具ex = neeI();4
:预         Gam) 指Tup   o__InspectReg.D//ex = neeI();5
:的續rato   中
      BondCol,
          ex = neeI();6
:的續rato   中      BondCol,
    eg.D//ex = neeI();7
:      _Diffhsssssssssss BondCol,
          ex = neeI();8
:_DiffhMearato   /景 rrStrossssssssoin        hv_o_Err具ex = neeI();9
:reaterp化r亮到暗还/由暗到亮        hv_o_Err具, 
    if (hv_eSeutspo llestpTup   o__InspectReg.D//ex = neeI();
:阵
阵e(-1)).TBondCol,
    eg.D//ex = neeI();1
:spo llest    具
sss      hv_o_Erreg.D//ex = neeI();2
:spo端裁剪Metrol      hv_o_Err具ex = neeI();3
:    hv    ctangle具ex = neeI();4
:spo llest HTu
         o__InspectReg.D//ex = neeI();5
:银段Metrol      hv_o_Err具ex = neeI();6
:spo 
 Rad p化    // i_MeasureCont测量ex = neeI();7
:ho__Re间    中间距 i_MeasureCont测量ots1_os: 的结rato  TupleC i_MeasureCont测量ots2_os: 的續rato  TupleC   o__InspectReg.D//ex = neeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee     o__InspectReg.D//传递pTup   o__InspectReg.Df ((           ho_EmptyFailReg.Disposepose            {                    i _o_curReg,    Col = new HR    exDispos_Region      {




     ();bjectParam(hv_i_Metrots1pTup   o__InspectReg.Dfbjbs1M   ratornohat(
, ts1 if (hv_eSet HTuple hv_ursHTu

         bjbs1Max rator /)at(
, ts1 if (hv_eSet1HTuple hv_ursHTu

         bjbs1Mif (hvTnohat(
, ts1 if (hv_eSet2HTuple hv_ursHTu

         bjbs1Mif (hvTterL /)at(
, ts1 if (hv_eSet胶检测结果
       }
 rots2pTup   o__InspectReg.DfbjIs = 2胶nohat(
, ts2 if (hv_eSet HTuple hv_ursHTu

         bjull;
    = 2 /)at(
, ts2 if (hv_eSet1HTuple hv_ursHTu

         bj        积,为at(
, ts2 if (hv_eSet2HTuple hv_ursHTu

         bjv sPre_Objess = 2 /)at(
, ts2 if (hv_eSet3HTuple hv_ursHTu

         bjvGam)  = 2 /)at(
, ts2 if (hv_eSet4HTuple hv_ursHTu

         bjbs2M   ratornohat(
, ts2 if (hv_eSet5HTuple hv_ursHTu

         bjbs2Max rator /)at(
, ts2 if (hv_eSet6HTuple hv_ursHTu

         bjbs2      nohat(
, ts2 if (hv_eSet7HTuple hv_ursHTu

         bjbs2Mif (hvhh /)at(
, ts2 if (hv_eSet8HTuple hv_ursHTu

         bjbs2Mif (hvhterL /)at(
, ts2 if (hv_eSet9胶检测结果
       }
 ro();
     pTup   o__InspectReg.DfbjIsCurv_ /)at(
, 
    if (hv_eSet HTuple hv_ursHTu

         bjw   geS  rLen /)at(
, 
    if (hv_eSet1HTuple hv_ursHTu

         bjw   ClipLen /)at(
, 
    if (hv_eSet2HTuple hv_ursHTu

         bjw   Ampli /)at(
, 
    if (hv_eSet3HTuple hv_ursHTu

         bjw   ] = nRad
       , 
    if (hv_eSet4HTuple hv_ursHTu

         bjw   M    Len /)     , 
    if (hv_eSet5HTuple hv_ursHTu

         bjw     hv_par /)     , 
    if (hv_eSet6HTuple hv_ursHTu

         bjw   Maxple();     , 
    if (hv_eSet7胶检测结果
       }
 robs1nOpeni  ho__InspectReg.Dmagei_SubRe     eg：FrReg,    Col = n    ts1     bjbs1M   rator  bjbs1Max rator!
                     bjbs1Mif (hvT  bjbs1Mif (hvhterL _o_curbjbs1  _o_curbjbs1   o= null,      hhhhhhhhho_curbjbs1 rator)           );
    s  ots1_osSet.SmallestRec        }
        s  ots1_osSets  ots1_osW= " (hs  ev_rbjbs1 c        }
        s  ots1_osSets  ots1_osW= " (hs  ev_rbjbs1   c        }
        s  ots1_osSets  ots1_osW= " (hs  ev_rbjbs1rator)           );
    robs2nOpeni  ho__InspectReg.D"e();    HfbjIs = 2胶ing";
 0))).TupleOr(new   (new_Indices.oder   // le hv_i_Mo  (new_Indices.oder   magei_SubRe    2_胶eg：FrReg,    Col = n    ts2     bjull;
    = 2o= null,      hhhhhhhhh    bj        积,向v sPre_Objess = 2, bjvGam)  = 2 _o_curbjbs2ctShape(ho_ConnectedRegion, hv, HObjeb积,   )           );
    v_i_/ iots2_osSet.SmallestRec        }
        v_i_/ iots2_osSet/ iots2_osW= " (hs  ev_rbjbs2 c        }
        v_i_/ iots2_osSet/ iots2_osW= " (hs  ev_rbjbs2   )           );
    v_i_/ iots2_osSet/ iots2_osW= " (hs  ev_rbjbs1rator + 9); ouchMea HTuouchMupl     pErrCoder   tour = ho__InspectReg.CopyObj(1, -1);
      // hv__Bond1Re  (new_Indices.oder   magei_SubRe    2_g：FrReg,    Col = n    ts2     bjbs2M   ratoro= null,      hhhhhhhhh    bjbs2Max rator向b积,      向b积,Mif (hvh 向b积,Mif (hvhterL ape(ho_ConnectedRegion, hv, HObjeb积,  _o_curbjbs2atorSet.Seleb积,
rator)           );
    v_i_/ iots2_osSet.SmallestRec        }
        v_i_/ iots2_osSet/ iots2_osW= " (hs  ev_rbjbs2 c        }
        v_i_/ iots2_osSet/ iots2_osW= " (hs  ev_rbjbs2   )           );
    v_i_/ iots2_osSet/ iots2_osW= " (hs  ev_rbjbs,
rator)           );
    pl     pErrCoder   //w);
     l     pErrCoder      rs      ho_EmptyFailReg.Disposepose            {OutVar_0);
       rs    _BondContour, hveg.D"e();    HfbjIsCurv_ing";
 0))).TupleOr(newCopyObj(1, -1);
      // e(-1)).T
     l     pErrCoder       //
                       , loneh= "agolog// ionehImagolog// ionehctShape(ho_ConnectedRegion, hv, HObjeioneh   )           );
    v_i_/ (  HOk= "   ho_EmptyFif (w   1  ho_EmptyF  (new_Indices.oder   mage  HOk(w   _g：FrRe       i _o_curRe  HOk= "  _o_curRew   1, // i_     ex)}阈TTTT                rbjbs1  _rbjbs1   og// ionehctShObjeioneh   向w   geS  rLen)}阈TTTT                rbjw   ClipLen, bjw   Ampli向w   Cand out向w   M    Len向w    // i_DefectType：错误        bjw   Maxple _o_curmgw   MaxAmpli1 _o_curmgw   , out hv_Colu;
w   en ;
  a)           );
    v_i_/ (  HOk= "2  ho_EmptyFif (w   2  ho_EmptyF  (new_Indices.oder   mage  HOk(w   _g：FrRe       i _o_curRe  HOk= "2 _o_curRew   2, // i_     ex)}阈TTTT                rbjbs2  _rbjbs2   og// ionehctShObjeioneh   向w   geS  rLen)}阈TTTT                rbjw   ClipLen, bjw   Ampli向w   Cand out向w   M    Len向w    // i_DefectType：错误        bjw   Maxple _o_curmgw   MaxAmpli2 _o_curmgw   , out hv_Colu;
w   en ;
  a)           );
    v_i_//c{ca  obj (  HOk= "  _  HOk= "2 _  HOk= ")          );
    v_i_//w   MaxAmpli := max([w   MaxAmpli1 w   MaxAmpli2])          );
    v_i_/ (w
             ntObj(ho_i_Image, out hv_imgNum);hs  ev);
rRew   1, /Rew   2, o_curRew   ); ouchMea HTuouchMupl     pErrCoder   tour = ho__InspectReg.CopyObj(1, -1);
      //普通).T
     l     pErrCoder       rRe  HOk= "  ho_EmptyFif (w     ho_EmptyF  (new_Indices.oder   mage  HOk(w   _g：FrRe       i _o_curRe  HOk= ", o_curRew   , // i_     ex)}阈TTTT                rbjbs1  _rbjbs1   og// bs2  _rbjbs2   og// w   geS  rLen)}阈TTTT                rbjw   ClipLen, bjw   Ampli向w   Cand out向w   M    Len向w    // i_DefectType：错误        bjw   Maxple _o_curmgw   MaxAmpli _o_curmgw   , out hv_Colu;
w   en ;
  a)           );
    pl     pErrCoder   egiring.Tuple        HOperatorSet.ReduceDomain(ho__Image, ho     }
        Objefi,w   a HTuouchMuplPosle(hv.duc"w   Maxple ectType：错误    1imgNumge, out hv_imgNumge, 点fi,w           HOperatorSet.ReduceDomain(ho__Imag).TupleConc for (hv_idx = 0;a_idx.Conv_w   a 2ex = hvTyoncat( hv_i   (new_Indices.oder   ;阈值sStri] = nRadoispose();
          HTuple hv_i_L      ho_o_LighCol = n  w   a _o_M  //
     f
  量工_Co   //
  ers      ho_EmptyFailReg.Disposepose
  ers    v_curElementsLen - 1);
            }meDispose();
      pe (           ho_EmptyFailReg.Disposepose/ (  HOk= "   ho_EmptyFailReg.Disposepose/ (  HOk= "2  ho_EmptyFailReg.Disposepose/ (  HOk= "  ho_EmptyFailReg.Disposepose/ (w   1  ho_EmptyF  (new_Indices.odef (w   2  ho_EmptyF  (new_Indices.odef (w   ctor(((ne PosTPosre tools unsuppo在测 tools unsuppo在 HTuouchMeav_o_Me  hv_ouchut HTu PosTPosrTuplleConcat(Regit//左"(hm     {osPosle(hvegNeg.Di  (           ho_EmptyFailReg.Disposepose/ (  HOk= "   ho_EmptyFailReg.Disposepose/ (  HOk= "2  ho_EmptyFailReg.Disposepose/ (  HOk= "  ho_EmptyFailReg.Disposepose/ (w   1  ho_EmptyF  (new_Indices.odef (w   2  ho_EmptyF  (new_Indices.odef (w   ctor(((ne PosTPosre tools unsuppo在测 tools unsuppo在 HTuouchMeav_o_Me   nuv_            //左"(hm ourt(2));
   /Me (ches, o.Tuple      ho_Imagei_SubRe    tsGroupeg：Flag.TupleConc     ImgD( =  (ches, ts1    
      ( =  (ches, ts2R   tD( =  (ches, loneh= "agologyHandle, "all
            // i_     ex)}阈_ModelType,
    HTuple hv_i_ModelID, HTup, ts1 if (hv_eSele      o_Bonn
    HTuple hv_i_ModelID, HTup, ts2 if (hv_eSel}阈      o_Bonn
    HTuple hv_i_ModelID, HTup, 
    if (hv_eSel ond=      // iots1_os!
     ond=      // iots2_os  (hv_idx = 0;                i_HomMatMod2Img: Frame模板到图像的映射矩阵--从模板到检测图像的映射关系
            // i_AdaptiveMethod：局部阈值分iI          分  HOk= " toh      分  HOk= "2
     _o_ethod：局部阈值分  HOk= "toh      分w   1toh      分w   2
     _o_ethod：局部阈值分w   toh      分
    / ff o__IcR-----------    //椭圆
        angle2(h//pose()   ement_1(HObjbs1M   ratornoh      bjbs1Max rator /))
 new HTuple()e()     (hs  bs1b if (hv    {
   hv_o_Erbs1Mif (hvh /))
 new HTuple()e()     (hs  bs1Mif (hvhterL /))
 ,DfbjIs = 2胶noh)
 new HTuple()e()     (hs  ull;
    = 2 /))
 , bj        积,noh)
 new HTuple()e()     (hs  v sPre_Objess = 2 /))
 , bjvGam)  = 2 /))
 new HTuple()e()     (hs  bs,M   ratornoh     _rbjbs2Max rator /))
 new HTuple()e()     (hs  bs,      noh    向b积,Mif (hvh noh    new HTuple()e()     (hs  bs2Mif (hvhterL /))
 ,DfbjIsCurv_noh    new HTuple()e()     (hs  w   geS  rLen /))
 向w   ClipLen /))
 new HTuple()e()     (hs  w   整 /))
 向w   Cand out /))
 向w   M    Len /))
 new HTuple()e()     (hs  w     hv_par /))
 向w   Maxple();      bjbs1 Type = new HTuple()e()     (hs  bs1Col();      bjbs1rator /))
 向b积,
            {
                ho_RegionUnb积,   ic variables 
向b积,
ratorSet.SmallestRec        }
           // ionehImage.Disposssss  vP  ioneh
            {
                ho_RegionUnioneh   ic variables 
向w   MaxAmplitude.Dispose();
                ho__Imgw   MaxAmpli1ic variables 
向w   MaxAmpli2tude.Dispose();
                ho__Imgw   en = hv_Len1 / hv_RefL, outw   en ;
  a = 0_cessful";)
                              hv(hm1peratorSet.ConcatObj(ho_o_LightImage, ho_(hm ExpTmpOutVar_0);
       rs    _BondContour, hv_idx + 1);
                if ((         _BondContour, hv_idx + 1);
                if (  HOk= " _BondContour, hv_idx + 1);
                if (  HOk= "2_BondContour, hv_idx + 1);
                if (  HOk= "_BondContour, hv_idx + 1);
                if (w   1_BondContour, hv_idx + 1);
                if (w   2_BondContour, hv_idx + 1);
                if (w   o_o_DarkImage);
         nt)(new HTuple(hv_IsString.Tuple到: 错m(hv_i_/ iots2_osSet.SmallestRec        }
    //ex = neeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee  InspectReg.D//  o (h给eionOpeninTup,d参    的结rato  +的續rato  +rato*rSet.CnOpeni  ho__InspectR//nc     I:  llestpfectV   (所有   通道pfectV)  ho__InspectR//ncts1   : 的结rato   llestpgyHaBondCol,
    ts2Reg: 的續rato   llestpgyHaBondCol,
      loneh= ": 对黧   pgyHaBondCol,
      , (hutspo llest            //初始 hv_R    ex:  llestpfectV在ncatObj(ho_o   对阈g.Disp  ho__InspectR//ncts1 if (hv_eSe: 的结rato   llestpTup   o__InspectR//ex = neeI();
:的结rato   中
      BondCol,
    //ex = neeI();1
:的结rato   中      BondCol,
    //ex = neeI();2
:_DiffhMearato   /景 rrStrossssssssoin        hv_o_Errex = neeI();3
:reaterp化r亮到暗还/由暗到亮        hv_o_Err/, ts2 if (hv_eSe: 的續rato   llestpTup   o__InspectR//ex = neeI();
:阵
t法 le hv_i_ModelTypato  BondCol,
    //ex = neeI();1
:nspect            hv_o_Err//ex = neeI();2
:_spect(  w HrorCod)      hv_o_Errex = neeI();3
:阵
v_i_Modj);
  预            hv_o_Errex = neeI();4
:预         Gam) 指Tup   o__InspectR//ex = neeI();5
:的續rato   中
      BondCol,
      ex = neeI();6
:的續rato   中      BondCol,
    //ex = neeI();7
:      _Diffhsssssssssss BondCol,
      ex = neeI();8
:_DiffhMearato   /景 rrStrossssssssoin        hv_o_Errex = neeI();9
:reaterp化r亮到暗还/由暗到亮        hv_o_Err, 
    if (hv_eSeutspo llestpTup   o__InspectR//ex = neeI();
:阵
阵e(-1)).TBondCol,
    //ex = neeI();1
:spo llest    具
sss      hv_o_Err//ex = neeI();2
:spo端裁剪Metrol      hv_o_Errex = neeI();3
:    hv    ctangleex = neeI();4
:spo llest HTu
         o__InspectR//ex = neeI();5
:银段Metrol      hv_o_Errex = neeI();6
:spo 
 Rad p化    // i_MeasureContex = neeI();7
:ho__Re间    中间距 i_MeasureContots1_os: 的结rato  TupleC i_MeasureContots2_os: 的續rato  TupleC   o__InspectR//ex = neeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee     o__InspectR//传递pTup   o__InspectRi  (           ho_EmptyFailReg.Dispose            {                    i _o_curReg,    Col = new HR    exDispos_Region      {




 ();bjectParam(hv_irots1pTup   o__InspectRfbjbs1M   ratornohat(
, ts1 if (hv_eSet HTuple hv_ursHTu

     bjbs1Max rator /)at(
, ts1 if (hv_eSet1HTuple hv_ursHTu

     s  bs1b if (hv    {
 fbjbs1M   ratorn/C(2r*naut _o_Bonnca3.0] = nRadSqrt  )ursHTu

     s  bs1Mif (hvTnohat(
, ts1 if (hv_eSet2HTuple hv_ursHTu

     bjbs1Mif (hvTterL /)at(
, ts1 if (hv_eSet胶检测结jectParam(hv_irots2pTup   o__InspectRfbjIs = 2胶nohat(
, ts2 if (hv_eSet HTuple hv_ursHTu

     bjull;
    = 2 /)at(
, ts2 if (hv_eSet1HTuple hv_ursHTu

     bj        积,为at(
, ts2 if (hv_eSet2HTuple hv_ursHTu

     bjv sPre_Objess = 2 /)at(
, ts2 if (hv_eSet3HTuple hv_ursHTu

     bjvGam)  = 2 /)at(
, ts2 if (hv_eSet4HTuple hv_ursHTu

     bjbs2M   ratornohat(
, ts2 if (hv_eSet5HTuple hv_ursHTu

     bjbs2Max rator /)at(
, ts2 if (hv_eSet6HTuple hv_ursHTu

     bjbs2      nohat(
, ts2 if (hv_eSet7HTuple hv_ursHTu

     bjbs2Mif (hvhh /)at(
, ts2 if (hv_eSet8HTuple hv_ursHTu

     bjbs2Mif (hvhterL /)at(
, ts2 if (hv_eSet9胶检测结果
       ro();
     pTup   o__InspectRfbjIsCurv_ /)at(
, 
    if (hv_eSet HTuple hv_ursHTu

     bjw   geS  rLen /)at(
, 
    if (hv_eSet1HTuple hv_ursHTu

     bjw   ClipLen /)at(
, 
    if (hv_eSet2HTuple hv_ursHTu

     bjw   Ampli /)at(
, 
    if (hv_eSet3HTuple hv_ursHTu

     bjw   ] = nRad
       , 
    if (hv_eSet4HTuple hv_ursHTu

     bjw   M    Len /)     , 
    if (hv_eSet5HTuple hv_ursHTu

     bjw     hv_par /)     , 
    if (hv_eSet6HTuple hv_ursHTu

     bjw   Maxple();     , 
    if (hv_eSet7胶检测结果
       robs1nOpeni  ho__InspectR//);
        (out ho_Seeg.Dmagei_SubRe     eg：FrReg,    Col = n    ts1     bjbs1M   rator  bjbs1Max rator!
                 s  bs1b if (hv    {, bjbs1Mif (hvT  bjbs1Mif (hvhterL _o_curbjbs1  
                 o_curbjbs1   oho_curbjbs1 rator)           );
s  ots1_osSet.SmallestRec        }
    s  ots1_osSets  ots1_osW= " (hs  ev_rbjbs1 c        }
    s  ots1_osSets  ots1_osW= " (hs  ev_rbjbs1   c        }
    s  ots1_osSets  ots1_osW= " (hs  ev_rbjbs1rator)          }
    robs2nOpeni  ho__InspectR"e();    HfbjIs = 2胶ing";
 0))).TupleOr 0;            r   // le hv_i_Mo  (new_Indices.odemagei_SubRe    2_胶eg：FrReg,    Col = n    ts2     bjull;
    = 2o= null,      hhhhhhhhhbj        积,向v sPre_Objess = 2, bjvGam)  = 2 _o_curbjbs2ctShape(ho_ConnectedRegion, HObjeb积,   )           );
    / iots2_osSet.SmallestRec        }
    v_i_/ iots2_osSet/ iots2_osW= " (hs  ev_rbjbs2 c        }
        / iots2_osSet/ iots2_osW= " (hs  ev_rbjbs2   )           );
    / iots2_osSet/ iots2_osW= " (hs  ev_rbjbs1rator + 9); ouchMea HTuou   }

            //区分重点检测区和非重// hv__Bond1Re  (new_Indices.odemagei_SubRe    2_g：FrReg,    Col = n    ts2     bjbs2M   ratoro bjbs2Max ratoro= null,      hhhhhhhhhbjb积,      向b积,Mif (hvh 向b积,Mif (hvhterL _o_curbjbs2ctShape(ho_ConnectedRegion, HObjeb积,   rSet.Seleb积,
rator)           );
    / iots2_osSet.SmallestRec        }
    v_i_/ iots2_osSet/ iots2_osW= " (hs  ev_rbjbs2 c        }
        / iots2_osSet/ iots2_osW= " (hs  ev_rbjbs2   )           );
    / iots2_osSet/ iots2_osW= " (hs  ev_rbjbs,
rator)           );
   }

       //w);
     l     pErrCodeers      ho_EmptyFailReg.Disposeo_(hm ExpTmpOutVar_0);
       rs    _BondContour, hv"e();    HfbjIsCurv_ing";
 0))).TupleOr检测区和非重// e(-1)).T
     l     pErrCoder   //
                       , loneh= "agolog// ionehImagolog// ionehctShv, HObjeioneh   )           );
    / (  HOk= "   ho_EmptyFif (w   1  ho_EmptyF  (new_Indices.odemage  HOk(w   _g：FrRe       i _o_curRe  HOk= "  _o_curRew   1, // i_     ex)}阈TTTT            rbjbs1  _rbjbs1   og// ionehctShObjeioneh   向w   geS  rLen) bjw   ClipLen)}阈TTTT            rbjw   Ampli向w   Cand out向w   M    Len向w    // i_Defduc"w   Maxple ectType：错误    o_curmgw   MaxAmpli1 _o_curmgw   , out hv_Colu;
w   en ;
  a)           );
    / (  HOk= "2  ho_EmptyFif (w   2  ho_EmptyF  (new_Indices.odemage  HOk(w   _g：FrRe       i _o_curRe  HOk= "2 _o_curRew   2, // i_     ex)}阈TTTT            // bs2  _rbjbs2   og// ionehctShObjeioneh   向w   geS  rLen) bjw   ClipLen)}阈TTTT            rbjw   Ampli向w   Cand out向w   M    Len向w    // i_Defduc"w   Maxple ectType：错误    o_curmgw   MaxAmpli2 _o_curmgw   , out hv_Colu;
w   en ;
  a)           );
    //c{ca  obj (  HOk= "  _  HOk= "2 _  HOk= ")          );
    //w   MaxAmpli := max([w   MaxAmpli1 w   MaxAmpli2])          );
    f (w   ctor(((ne PosTPosre tools uns hv_imgNum);hs  ev);
rRew   1, /Rew   2, o_curRew   ); ouchMea HTuou   }

            //区分重点检测区和非重//普通).T
     l     pErrCoder   rRe  HOk= "  ho_EmptyFif (w     ho_EmptyF  (new_Indices.odemage  HOk(w   _g：FrRe       i _o_curRe  HOk= ", o_curRew   , // i_     ex)}阈TTTT            rbjbs1  _rbjbs1   og// bs2  _rbjbs2   og// w   geS  rLen) bjw   ClipLen)}阈TTTT            rbjw   Ampli向w   Cand out向w   M    Len向w    // i_Defduc"w   Maxple ectType：错误    o_curmgw   MaxAmpli _o_curmgw   , out hv_Colu;
w   en ;
  a)           );
}leColeCo类型，-1-代ag = hv_o_efi, ouchctor(((nePosePosle(hv_Par         }
        Objefi,w   a HTuouchMuplPosle(hv.duc"w   Maxple ectType：错误1         }PosPosle(hvegNum - 1w     ho_EmptyF  (new_Indicesmain(ho__Imag).TupleConc for (hv_idx = 0;a_idx.Conv_w   a 2ex = hvTyoncat( 检测区和非重;阈值sStri] = nRadoispose();
      HTuple hv_i_L      ho_o_LighCol = n  w   a _o_M  //
     f
  量工_Co   //ers      ho_EmptyFailReg.Dispose
  ers    v_curElementsLen - 1);
        }meDispose();
  i  (           ho_EmptyFailReg.Dispose/ (  HOk= "   ho_EmptyFailReg.Dispose/ (  HOk= "2  ho_EmptyFailReg.Dispose/ (  HOk= "  ho_EmptyFailReg.Disposef (w   1  ho_EmptyF  (new_Indicesf (w   2  ho_EmptyF  (new_Indicesf (w   w HTupleVector tools unsuppo在 ho_SubFailReg.Dispose();
                h    );
}leColeCoose(.Dispose()//         //()Revec_ ts2_胶eg：(out ho_Sel_o_Me (ches, o.Tuple      ho_ImageRevec_ ts2_胶eg：Flag.TupleConc     mgD( =  (ches, o_vec_   s,o_Me (chD( =  (ches, 胶sOI  spose();
            HTV_region_dilation(ho_i_InspectReIsPre_Objessub_Mea HThv_ColuyHa(vGam) !=          // io胶c f (hv_idx ===== (hv_idx = 0;                i_HomMatMod2Img: Frame模板到图像的映射矩阵--从模板到检测图像的映射关系
            // i_AdaptiveMethod：局部阈值分             /分hv_i_Metrologyiff Pow     , out h;eMethod：局部阈值分 gamaomg模onnmg ne     i参数le(o  =
              , out h  hv_i_HomMatMod2Img, hv_i
     {
   1toh      分     o_ErrC和非重
     {
   2模onn "ageS  rsiosiohv_IcRow)). PosT测区5e.Disposssssssssssss  焊efe;
 (pys_Epo  o_RegionCDis__ImgD_Pa      yRegs) 8  1ctor(((ne PosT
                HTuple();
(((ne PosT
             =
(((ne PosTrs);有左右
_I                   ho_ConnectedRegions.Dispose();
                homv_i_Met = 0u
         s   //))
 ;to__ic t, 1,       (hs  
   [
           regi e(o  (hs  eageS  aaxispose();
    
                        ectR半径
                  //银
                             o3t hv_1表该算o_Ima = 0_cessful";)
                       _o_DefectTypeLead2Wi,, ou  HTuple = 0_cessful";)
                              hv(hm1peratorSet.ConcatObj(ho_o_LightImage, ho_(hm ExpTmpOutVar_0);
       as = hv_o_MeasureParas.Tuple_idx + 1);
                if (hv_i_M] = 29;
                hvec_o_FailRegs[1] = nePow      out hv_C                if ((int)(new HTuple((n gamaomg out hv_C                if ((int)(new HTuple((n PosT测区 out hv_C                if ((int)(new HTuple((n              hv_o_ErrCode = -1;
                            h
     {
   1v_o_ErrCode = -1;
                            h
    o_ErrCv_o_ErrCode = -1;
                            h
     {
   2 out hv_C                if ((int)(new HTuple((n PosT测区5 out   //银胶c / io胶c Set.SmallestRec        }
    tryhv_Indices.Tup   hv_Indices.Tuppppptours.Dispose();
                          easureFlag = hv_o_MeasureFs 检测
            ,.       as = hv_o_Me     alHTuple hv_Sy = nunull homv_i_Met =  - 1);
        ;
           HOperato       tyRevec_   spu    Obj   s                       eauColuhs  e  4 =yObj   s   ; ouchMea HThMea HThv_Colum       4引及r(hv_Area  HOper量    
   [age2Img: Frameho_o_BondContours4,ri1, out]4)Img: Framee = -1Frame
                 4E
 0))).TupleOr(neweg, HTuple hv_i_Dilatioi   (hs  ingFailReg.Dispose();
      ctR            {               Revec_   spu    O ( (h= "ag -1Frameg.Di e          ctRctRo__RefReg.yHa(v sPre_Objess   {
                   (neweg, HTuple hv_i_Dilatioents((nPow       ho_EmptyFailReg.Disposeposeposepose            {Pow     ( nene PosT
             _1] = nePow     ,uyHa(vGam) yFailReg.Disposeposeposepose            {, -1)x
       (h= "ag nePow     ,u
         aupla       aa               ho_AllRegs.Dis.Di   hvec ectRDispose();
                ((n gamaomg  ho_EmptyFailReg.Disposeposeposepose            {uple();
     Pow     ,uuple((n gamaomgghtOr /    aa   0];       hv_Column, out );
(((ne PosT
              ho_EmptyFailReg.Disposeposeposepose            {men
                vgamaomggh1] = nene PosT
                          ho_AllRegs.Dis.Diull, hv_Ins = nullv_Sy = nhhhhpl     pErrCoder   = nRi  I    i测区置及半径.Disposeposeposepose            {  hv__spErrCod        r
            ,.nRa (hs  eais nuv_o_ErrCode = -1;
                     r = null,      hhhhhr   o__RefReg.Dispose();
                ho_Regionlizing";
 0))).TupleOr(new    i_InspectRegs, out hv_reeee                   // o_FailR);
           //银胶c s_         _L  rTuple hv__RefBondCol = new HTuple(), hv_RefBos_         _L Idx + 2), hv_i_Msi0.5    ype：筛选后的错误类ndCol = new HTuple(), hv_RefBo;

            //开始筛选错误区域//0.6ll)
         Errurs =pl     pErrCoder   = nRad(n_Sea{ = "ageS  rs      Sea{ = "ageS  r = hvidxf+             {    ;
           );
           //银胶c s_         _L  rTuple hv__RefBondCol = new HTuple(), hv_RefBos_         _L Idx + 2), hv_i_Msi0.6    ype：_o_FailRegs);
            hv_o_DefectType =         错误类型
            // o_ErrCode选错误区域
            w HTuplepl     pErrCoder   = nRo__RefReg.        _L .Dispose();
  Sct ExpTmpOutVar_0;
      a，-2    ng";
 0))).TupleOr(new    i_InspectRegs, out hv_reeee homv_i_Met =  homv_i_Met  HObject ho__Inspeeeee           returngyHa       ospose();
                             HTuple  (hs  e   re oue
,          
 _ErrCodeturn;
           HTuple     hv_threshNuoeeeeeeeeeee(;
                ho_EmptyFailReg.Dispose();
   eeee纵i标   //焊/I);
           
            ,.Di  (;
                   hv_o_DefectType =              HTuple  "bilv_BaHO否存在，2.再阈值刈  h
     {
   1  ho_EmptyFailReg.Disposeposeposepose            {men
                          //i_Bon      (
     {
   1 ndCol = new HTuple(), hv_RefBo   alHTuple hv_Sy = nunull;
 ho_A{mn   ：0-量工_Cot.G是5sPoint2d(hv输at：0-ureConefecoi标、纵i标            as = hv_o_Me    (
     {
   1     i  //
     f ndCol = new HTuple(), hv_RefBotr =1  0];       hv_Column, out );
pppptours.Dispose();
                          poseposeposetours.Dispose()              ho__InspectReg.Disposeeeeeeeee.TupleConcat(
        .TupleConcat(
            HTuple stepo__RefReg. {
          mv_i_MetrrCode              {
                            hv_curElements  h
    o_ErrC  ho_EmptyFailReg.Disposeposepose            {uple();
                  //椭圆
    o_ErrCeaout /    mv_i_Met ndCol = new HTuple(), hv_R0];       hv_Column, out   h
     {
   2  ho_EmptyFailReg.Disposeposepose            {men
                     量工具类型
     {
   2 sull, hv_Indices = nullv_Sypose((n PosT测区5pectRegs.Disponcat(
            //的續rato  nspectI(ho_o_MeasureContou    pose            {  hv__spErrCod  
     {
   2 shes, 胶sOI  uple((n PosT测区5-1;
                     r = -1;
                 t        }
   长、(r  银胶c s_际      dx] v_o_Meuths  e  {r = hvid 按照面积、长、(rRe PosT测区5 shes, 胶sOI   //tour = ho_.GenEmmmmmmmmmmmmmmmmmmmmm         _L  rTuple hv__RefBos_         _L Idx + 2), hv_i_Msi    / io胶c f; ouchMea HTuouchMupl     pErrCoder   tour = ho__InspectReg.CopyObj(1, -1);
         o胶c Set/ ii_胶c u检测结果
           pl spose();
        nRane PosT
              ho_EmptyFailReg.Disposepose((nrs.Dispose();
                          nRa (hs  _  银e();"bytghbor");
 a: Pow       ho_EmptyFailReg.Disposepose((n gamaomg  ho_EmptyFailReg.Disposepose((n PosT测区  ho_EmptyFailReg.Disposepose((n
                ho_EmptyFailReg.Dispose();  h
     {
   1  ho_EmptyFailReg.Disposepose  h
    o_ErrC  ho_EmptyFailReg.Disposepose  h
     {
   2  ho_EmptyFailReg.Disposepose((n PosT测区5pectRegs.Dispspose();
           = nuv_            //;
         Regityv4   tor(
   选效r(pDefa  }r(
   )//左"(hm     {osPosle(hvegNeg.Di  ne PosT
              ho_EmptyFailReg.Disposepose((nrs.Dispose();
                          nRa (hs  _  银e();"bytghbor");
 a: Pow       ho_EmptyFailReg.Disposepose((n gamaomg  ho_EmptyFailReg.Disposepose((n PosT测区  ho_EmptyFailReg.Disposepose((n
                ho_EmptyFailReg.Dispose();  h
     {
   1  ho_EmptyFailReg.Disposepose  h
    o_ErrC  ho_EmptyFailReg.Disposepose  h
     {
   2  ho_EmptyFailReg.Disposepose((n PosT测区5pectRegs.Dispspose();
          效r(pDefa  }r(
   nuv_            //左"(hm  //urt(2));
   /Me (ches, o.Tuple      ho_ImageRevec_ ts2_胶eg：Flag.TupleConc     mgD( =  (ches, o_vec_   s,o_Me (chD( =  (ches, 胶sOI  spose();
            HTV_region_dilation(ho_i_InspectReIrame用亮暗图_i_InspectRe   s   pu
          IsPre_ObjessuThv_ColuyHa(vGam) !=          // io胶c f (hv_idx = 0;r_0;
                  i_HomMatMod2Img: Frame模板到图像的映射矩阵--从模板到检测图像的映射关系
            // i_AdaptiveMethod：局部阈值分hv_i_Metrologyiff Pow     , out h B    gamaomg模onn "ageS  rsiosiohv_IcRow)). PosT测区, out h B    PosT          , out hrt = 
     {
   1模onn "ageS  rsiosiohv_IcRow)). PosTspose()  分     o_ErrC和非重
     {
   2模onn "ageS  rsiosiohv_IcRow)). PosT测区5e.Disposssssssssssss  焊efe;
 (pys_Epo  o_RegionCDis__ImgD_Pa      yRegs) 8  1ctor(((ne PosT
                HTuple();
(((ne PosT
             =
(((ne PosTrs);有左右
_I                       ho_ConnectedRegions.Dispose();
                homv_i_Met = 0u
      
   [
     w HTuple(hv__ErrBridgeCod regi e(o  (hs  eageS  aaxispose();
          ectR    ExpTmpOTmpOr_0
                 //ilRegsLead2Wire, out ho_o_FailRegsLead2Wire, hv_i_DefectTypeLead2Wire,
                out hv_o_DefectTypeLead2Wire, out hv_o_ErrCode8, ou  HTuple = 0_cessful";)
                              hv(hm1peratorSet.ConcatObj(ho_o_LightImage, ho_(hm ExpTmpOutVar_0);
       hv_i_M] = 29;
                hvec_o_FailRegs[1] = nePow      out hv_C                if ((int)(new HTuple((n gamaomg out hv_C                if ((int)(new HTuple((n PosT测区 out hv_C                if ((int)(new HTuple((n              hv_o_ErrCode = -1;
                            h
     {
   1v_o_ErrCode = -1;
                            h
    spose()v_o_ErrCode = -1;
                            h
    o_ErrCv_o_ErrCode = -1;
                            h
     {
   2 out hv_C                if ((int)(new HTuple((n PosT测区5 out //银胶c / io胶c Set.SmallestRec   ut //银胶c /(nrs.Dispose();
                      easureFlag = hv_o_MeasureFs 检测
            ,.       as = hv_o_Me     alHTuple hv_Sy = nu homv_i_Met =  - 1);
             hv_o_ErrC3Set/ ii_   s   se  sm(hv_i_Mehv_Colum       3引及r(hv_Area  HO量    
   [age2Img: Frameho_o_BondContours3,um       d);   
    模   Framehsssssss{htImage.D3E
 0))).TupleOr{osPosle(hvegNeg.Di   (hs  ingFailReg.Dispose();
      
           return;
       Revec_   spu    O ( (h= "ag -1Frame +pectReIrame用亟//   ho__InspectReg.Do__RefReg.yHa(v sPre_Objess   {
                            hv_curElements((nPow       ho_EmptyFailReg.Disposeposepose            {Pow     ( nene PosT
             _1] = nePow     ,uyHa(vGam) yFailReg.Disposeposepose            {, -1)x
       (h= "ag nePow     ,u
         aupla       aa               ho_AllRegs.Di   hvec ectRDispose();
            ((n gamaomg  ho_EmptyFailReg.Disposeposepose            {uple();
     Pow     ,uuple((n gamaomgghtOr /    aa   0];       hv_Column, out v_       
            _  银e();"bytghbor");
 pose            {men
                vgamaomggh1] = nene PosT
             sull, hv_Indices = nullv_Sy        HTuple step  e PosT测区置及半径信息
                     输入图像
  检测
            ,.nRa (hs  eais nuv_o_ErrCode = -1;
                 c        }
    eeeeo__RefReg.Dispose();
                ho_Regionlizing";
 0))).TupleOr(new         hv_curElements                   // o_FailR);
           //银胶c s_         _L  rTuple hv__RefBondCol = new HTuple(), hv_Rs_         _L Idx + 2), hv_i_Msi0.6    ype：筛选后的错误类型
           ndCol = new HTuple(), hv_R// o_ErrCode选错误区域
            w HTpl     pErrCoder   tour = ho__InspectReg.CopyObj(1, -1);
                  {    ;
           );
           //银胶c s_         _L  rTuple hv__RefBondCol = new HTuple(), hv_Rs_         _L Idx + 2), hv_i_Msi0.6    ype：_o_FailRegs);
            hv_o_DefectType =     错误类型
            // o_ErrCode选错误区域
            w HTpl     pErrCoder   o__RefReg.        _L .Dispose();
  Sct ExpTmpOutVar_0;
      a，-2    ng";
 0))).TupleOr(newCopyObj(1, -1);
       homv_i_Met =  homv_i_Met  HObject ho__Inspeeeee       returngyHa       ospose();
                         HTuple  (hs  e   re oue
,          
 _ErrCodeturn;
           HTuple     hv_threshNuoeeeeeee((n
                ho_EmptyFailReg.Dispose();eeee纵i标   //焊/I);
           
            ,.Di  (;
                   hv_o_DefectType =          HTuple  "bilv_BaHO否存在，2.再阈值刈  h
     {
   1  ho_EmptyFailReg.Disposeposepose            {men
                          //i_Bon      (
     {
   1 ndCol = new HTuple(), hv_R   alHTuple hv_Sy = nu rs      Sea{ = "ageS  r = hvidxf+   是5sPoint2d(hv输at：0-ureConefecoi纵i标            as = hv_o_Me    (
     {
   1     i  //
     f ndCol = new HTuple(), hv_RefBo1  0];       hv_Column, out pppptours.Dispose();
                          poseposetours.Dispose()              ho__InspectReg.Disposeeeee.TupleConcat(
            HTuple         HTuple o__RefReg. {
          mv_i_MetrrCode              {
               {ailReg.Disposepose  h
    o_ErrC  ho_EmptyFailReg.Disposepose            {uple();
                  //椭圆
    o_ErrCeaout /    mv_i_Met ndCol = new HTuple(), 0yFailReg.Disposepose  h
     {
   2  ho_EmptyFailReg.Disposepose            {men
                     量工具类型
     {
   2 sull, hv_Indices = nullv_Sy((n PosT测区5pectRegs.DispreContou    pose            {  hv__spErrCod  
     {
   2 shes, 胶sOI  uple((n PosT测区5-1;
                 DispreContou    pose         }
   长、(r  银胶c s_际      dx] v_o_Meuths  e  {r =  按照面积、长、(rRe PosT测区5 shes, 胶sOI   //tour = ho__         _L  rTuple hv__RefBondCol = new HTuple(), s_         _L Idx + 2), hv_i_Msi    / io胶c f; ouchMea HTuou   }

            //区分重点检测区和非重   o胶c Set/ ii_胶c u检测结果
       }                          
            _  银e();"bytghbor")((n (hs  _  银e();"bytghbor")((nPow       ho_EmptyFailReg.Dispose((n gamaomg  ho_EmptyFai     HTuple i  I    i测区置及半径信息
    f (
                ho_EmptyFailReg.Dispose  h
     {
   1  ho_EmptyFailReg.Dispose               sum2 = hv_Less.TupleSum();
            if ((int)((new HTuple(hv_su
     {
   2  ho_EmptyFailReg.DisposerRe PosT测区5pectRegs.Dispspose();
    ，-2-代表未执 // /Me (ches, o.Tuple      ho_ImageRemagee         _g：Flag.TupleConc     i_SubR, 8  1ctor(((ne PosTv ho_o_Lighhhhhhhhh8  1ctor(((ne PosT  i_MmgD( =  (ches, o__InspecageagologyHandle, "all     hv_Pe, out hv_o_ErrCode8, ou
NGpeceasure(hv_o_MetrologyHa      v ho_o_MetrologyHa        i_Mf (hv_idx = 0;r_0;
                  i_HomMatMod2Img: Frame模板到图像的映射矩阵--从模板到检测图像的映射关系
            // i_AdaptiveMethod：局部阈值分ple((new HTuple(hv_Parameter.Trsse();
    ;le, out hv_Indices);
            //映检测区域到当前图像中
            ho__InspectRegs.Dispose();
            HOperatorSet.AffineTransRegion(ho_i_InspectRegs, out ho__InspectRegs, hv_i_HomMatMod2Img,
                "nearest_neighbor");
hv_i_HomMatMod2Img,
           se();
                }
 tryhv_Indices.Tup    o__InspectReg.D//ex = negggg敩用明l = ((hv_Ref，获取测量结果
       ect ExpTmpOutVVVVar_0;
                                HOperatorSet.i_SubRConcatObj        ((hv_(ge, hv ((hv_ho__In)      )                          HOperatorS__InsndR，获取测量   l = ((hv_                          HOperatorS_  i_MndR，获取测量   l  j(ho_o_MeasureContou            HOperatoo__Inspec   Re         _MeasureContou            HOperaHa      v hotep_val66);量玷取, hv_HomMat2DR具ex = nDRHa        i_Mtep  j(ho_o量玷取, hv_HomMat2DR具ex = nDR全测量工兵量j(ho_o_MeasureContou            HOperatoNGpeceasure(hv
fPhi = nu hv_Metro像持4类_MeasureContou          {
                            HObject ExpTmpOutVar_0;
                 reFlag.TupleConcat(0);
                       o_o_MeasureContours = ExpTmpOutVar_0i_SubRTmpOutVar_0
                                              ogyHa      v ho_o o_o_MeasureContours.D Les        "neares(0);
                       o_o_MeasureContours = ExpTmpOutVar_0i_SubRTmpOutVar_0               }
                               ogyHa                case 3:
           Lessrsse();
            HOperatorSet.ReduceDo      if ((int)(new HTuple((new HTuple(hv_Parameter.TupleLense();
    = -1;
                            hv_Parameter[1] = -1;
    o_o_MeasureConghtFactor_COPY_INP_TMP = hv_i, o__Inspecageagolog                                   meter[1] = -1;
    0)
                        {
            (new   (new_Indices.oder   ;阈值sStri] = nRadoispose();
          HTuple hv_i_L                        hv_Parameter = new HTuple();
NGpeceasure(hv                 hv_Parameter[0]     
  量工_Co   //
  ers         hv_Parameter[1] = -1;
    
  ers       v_curElementsLen - 1);
            }meDispose();
      pe TupleConcat(0);
                               "neares(0);
                       rsse();
            HOper HTuouchMeav_o_Me  hv_ouchut HTu PosTPosrTuplleConcat(Regit//左"(hm     {osPosle(hvegNeg.Di  (upleConcat(0);
                               "neares(0);
                       rsse();
            HOper HTuouchMeav_o_Me   nuv_            //左"(hm our行
     , o.Tuple      ho_ImageTpl    HOpeg：Flag.TupleConc       ptD( =  (ches, loseOrOpenple hv_HomMatSu 0;
                        hvec_o_DefectValue[2] = new HT       if (hv_o_DefectType == null)
          hv_o_DefectTypeAmpli _ hv_o_ErrStr = hv__ErrLocStr.Clone();
                 ho_RegionUnion.Dispose();
                HOperatorSet.Union1(ho__PegRackTargets, out ho_RegionUnion);
                HOperatorSet.AreaCenter(ho_RegionUnion, out hv_Area, out hv_Row, out hv_Column);
                hvec_o_DefectValue[0] = new HTupleVector(hv_Area).Clone();
                if (hv_o_DefectType == null)
                    hv_o_DefectType = new HTuple();
                hv_o_DefectType[0] = 31;
                hvec_o_FailRegs[0] = new HObjectVector(ho_RegionUnion);
            }
            else
            {
                hvec_o_DefectValue[0] = new HTupleVector(new HTuple(0));
      = new HTuple();
                hv_o_DefectType[0] = 0;
                hvec_o_F         //桥接区域检测结果
   
                       j半径
            e.TupleGreater(0))) != 0)
            {
                ho_RegionUnion.Dispose();
                HOperHOperatorSet.AreaCenter(ho_RegionUnion, out hv_Area, out hv_Row, out hv_Column);
                hvec_o_DefectValue[1] = new HTupleVector(hv_Area).Clone();
                if (hv_o_DefectType == null)
                    hv_o_DefectType = new HTuple();
                hv_o_DefectType[1] = 29;
                hvec_o_FailRegs[1] = new HObjectVector(ho_RegionUnion);
            }
            else
            {
                hvec_o_DefectValue[1] = new HTupleVector(new HTuple(0));
                if (hv_o_DefectType == null)
                    hv_o_DefectType = new HTuple();
                hv_o_DefectType[1] = 0;
                hvec_o_FailRegs[1] = new HObjectVector(ho__EmptyFailReg);
            }

            //函数结果输出
            if ((int)((new HTuple(hv__ErrPegRackCode.TupleGreater(0))).TupleOr(new HTuple(hv__ErrBtryhv_Indices.Tup    o__InspectReg.D//ex = nnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnn   o__InspectReg.D//_ErrCode = 1;
                hv_o_ErrStr = hv__ErrPegRackStr + hv__ErrBridgeStr;
                    ho__EmptyFailReg.Dispose();
                ho__BridgeidgeTargets.Dispose();
                ho__PegRacgRackTargets.Dispose();
                ho_RegionUnonUnion.Dispose();

                return;
            }
onUnion.D// Initialize local and output iconic varia     hv_o_ErrCode = 0;
                hv_o_ErrStr =t iconic varia     hv_o_ErrCte Metrology Handle successful!";

 t iconic varia     hv_o_ErrCect ho_i_BondRegs,
    ot iconic varia     hv_o_E_MetrologyHandle, HTuple hv_i_HomMatMod2Img, HTuple hv_i_Meg.D//ex = nnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnnn  e hv_idx = hvSxfLen2 = null, hv_o_EpoxyExtractRSy hv_idx = hvPhioncat( hv_idx = hvTh(c       al(2))) != 0)
            {
                hv_lo;
           HOperato       ty];
                hv_highThresh = hv= hv_i_GrayThresh[1];
            }


            /   //变换检测区域并获取检测待spose();
    eg.Do__RefReg.Dispose();bj      HOperatorSet.Difference(ho_RegionDifferReg.CopyObj(1, -1);
      //, out ho__PegRackSurfaceReg
                );
            ho_RegionErosion.Dispose();
            H      return;
            }
            //阈值分割 out ho_RegionErosion, hv_i_CloseOrOpenSize);
            //检测图像获取
            ho__Pe    
  量工_Co   //
  ese();
            HOperatorSet.ReduceDoceDomain(ho__Image, ho_RegionErosion, out ho__PegRackSurfaceImage
                    );

            //自适应提取检测区域目标
            ho__SegImage.Dispose();
           
  e // i_MetrologyHandle: 测量模板urfaceImage, out ho__SegImage, hv_i_AdaptiveMethod,
                hv_i_BlockSize, hv_i_Con_Contrast, hv_i_LightOrDark, out hv__ThresholdErrCode,
                out out hv__ThresholdErrStr);

            if ((int)(new HTuple(hv__ThresholdErldErrCode.TupleEqual(0))) != 0)
            {
                //对阈值分割后的目标区域图像进行BLOB分析
                hoReg,
    HObject ho_i_RejectRegs, HObject ho_i_SV_BLOB_Extract(ho__SegImage, ho__InspectReg, ho__SubReg, out  r(( ICureCuple hv29ius.Tu      H, ouchMea HTuouchMua HThv_Colum       29
                )  HOow, ubReg.Dii      .Dii 
            HOhv__E: 分割方法区域
                 29 HOperatorSet.CoReg. HT1{ispose();
               e的结果进行缺陷判断
                HOperatorSet.CountObj(ho_o_Targets, out hv_Number);
                if ((int)((new HTuple(hvceDo neect(
       HOperatorSet.GenEmptyObj(octRefBondRa
           return;
     ptyObj(out ho_insect(
       H  .Dispose(ispose();
               l"(eStr =tializing";
 0))ull;
       实           hv_o_ErrStr = "PegRack-Surface is dirty";
                    hg.Di     hv_o_ErrC3           
                    hg.Di     hvtImage.D33_o_               );
    ho__SubReg.Dispose();
                      r_0;
          pose();
                    tic void _Epoxynull;
 ho_A{mn   ：0-量工_Cot.Gt.GenEmptyObj(out ho__SubReg);
           bj(octRefBondRa
           return;
                  ho_Region.Dispose();
                    ho_RegionOpening.Dig.Dispose();
                    ho_RegionClosing.Dispose()       ho_RegionOpening.Dig.Di   ho_RegionErosion.Dispose();
                    ho__Pe__PegRackSurfaceImage.Dispose();
                    ho__SegImage.Dispose();

                    return;
                  
  量工_Co   //
  Coder   //
                       ;

             l(0))).TupleAnd(
                    new HTuple(hv_Numbereeeeond=  o_xpTmpODispdContour,Reg.Disposeiisposeio__RefReg.Dispose();bj actor, HTuple hv_i_DarkFactor,
    HTuple hv_i_SobelFho_A{mn   ：0-量工_Cot.Gho_A{mn   ：0-量工_Cot.Gho_Ar   ;阈值sStri] = nRadoispose();
                          
                    ho_RegionOpening.Dispose();
                    ho_RegionClosing.Dispose();
                    
  量工_Co   //
  Coder   spose();
                    ho_RegionErosion.Dispose();
        e();
            , oDiffose();
                ho_AllRegs.Di类chMupl     pErrCoder               pl     pErrCoder           pl     out ho__ChippingFailReg
           _SubFailReg, out ho__ChippingFail    hv_o_ErrStr = "Fail to PegRack-Surface Blob_Extract--" + hv__BlobErrStr;
     Dispos_Region      {




             acki)eg, out ho__ChippingFail     -1;
                hv_o_ErrStr = "Fail to PegRack-ack-Surface threshold" + hv__ThresholdErrStr;
                ho__InspectReg.Dispose();
        r(0))).TupleOr(new  hv_o_ErrStr = "Fail to PegRack-ack-Surface threspose();
                ho__RejectRegs.Dispose();
           {




             ectReg, ho__Image, ho__SubReg;
        Regs, ho_RegUnion, ho_Regio      {




                  ho_ImageReduced.Dispose();
                ho_Region   ho_RegionOpening.      {




             Dispose();
                ho_RegionClosing.Dispose();
  Dispos_Region      {




             acki)e      ho_RegionErosion.Dispose();
                ho__PegRackSurfaceImage.Dispose();ho_A{mn   ：0-量工_Cot.G是5sPoint2d(hv输at：0-ureConefecoi标、纵i标      }


        public static void HTV_PegRack_Bridging_ExistRejectReg(HObject ho_i_Ima    
  量工_Co   //
  Coder   
    HObject ho_i_RejectRegs, HObject ho_i_Sn.Dispos
    HObjec              ho__InspectReg.Disposeeeeeeeee.TupleConcat(
        .TupleConcat(
    spos
  -2-代表未执行
            //o_标、纵i标   HTuple hv_i_BlockSize, HTuple hv_i_Contrast, HTuple hv_i_Cw HTpl     pErrCoder   tour = ho__InspectReg.CopyObj(1, -1);
      
  -2-代表未执行
            //o_标、纵i标l iconic variables 

            HObject ho__InspectReg, ho__Image, ho__SubReg;
            HObject ho__RejectjectRegs, ho_RegUnion, ho_RegionDifference;
            HObject ho_ImageReduced, ho__BridgeReg, ho_RegionOpeeeeening;
            HObject ho_RegionErosion, ho__BridgeImage, ho__Suced, ho__BridgeReg, ho_RegionOpeeeeenles 

            HTuple hv__ThresholdErrCode = null, hv__ThresholdErrStr = nuw HTpl         HOperatorSet.ScaleImage(ho__NewStd, out ho_ImageScaled_L, hv_焊盘区域）
            // o_BondContoursse();
            HOperatorSet.ReduceDo ne // i_MetrologyHandle: 测量模板e hv_i_Block        HOperatorSet.ReduceDo neect(
       HOperatorSet.GenEmptyObj(octRo_i;
                ho__Image.Dispose();
                ho__SubReg.Dispose();
                ho__RejectRegs.Dispose();
                ho_RegUnion.Dispose();
                ho_RegionDifference.Dispose();
                ho_ImageReduced.Dispose();
                ho_Region.Dispose();
                ho_RegiRegit//左"(hm     {osPosle(hvegNeg.Di  ScaleImage(ho__NewStd, out ho_ImageScaled_L, hv_焊盘区域）
            // o_BondContoursse();
            HOperatorSet.ReduceDo ne // i_MetrologyHandle: 测量模板e hv_i_Block        HOperatorSet.ReduceDo neect(
       HOperatorSet.GenEmptyObj(octRo_i;
                ho__Image.Dispose();
                ho__SubReg.Dispose();
                ho__RejectRegs.Dispose();
                ho_RegUnion.Dispose();
                ho_RegionDifference.Dispose();
                ho_ImageReduced.Dispose();
                ho_Region  nuv_            //左"(hm our行
     , o.Tuple      ho_ImageTpli_SubReVerifyeg：Flag.TupleConc     ptD( =  (ches, loseOrOpenple hv_HomMatSu 0;
                D( =  (ches, o__Inspec  D( =  (ches,      //检测区域映射
                            hvec_o_Defec    ptDT] = new HTHTuple hv__Bond            //  i_Mle hv__Bond              ho_RegionUnontours;
                    //ntours = ho_i_InspectReIritr;
                   ho_RegionUnonWnde(hv_o_MetrologyHa  /urs = ho_i_InspectRe  i_MatcPosTPosw HTuplOpe      ll)
          hv_o_DefectTypeAmpli _ hv_o_ErrStr  /       if (hv_o_DefectTypeo__S           ho_RegionUnion.Dispose();
                HOperatorSet.Union1(ho__PegRackTargets, out ho_RegionUnion);
                HOperatorSet.AreaCenter(ho_RegionUnion, out hv_AreTHTup     t(hv_i), oe  i_M     t(hv_;iv hv_HomMatSu }

     hv_i_LightScaleFactors,
  Uolog(hv_Area).Clo;iv hv_HomMatSu }

     l(2))) != 0ut ho__BondContours, hv_i_测区, out h;iv hv_HomMatSu }

     l(2))) !=1              hvec_o_DefectValue[0] = new HTupleVector(new HTuple(0));
      = new HTuple();
 apndHTuple hv__Bond   //))
 ;to__ic t, 1,       (hs  tmpHTuple hv__BondHTuple();
 apnd  i_Mle hv__Bond   //))
 ;to__ic t, 1,       (hs  tmp  i_Mle hv__BondHTuple();
 apndtours;
           //))
 ;to__ic t, 1,       (hs  tmptours;
        HTuple();
 apndntours =    //))
 ;to__ic t, 1,       (hs  tmpntours = HTuple();
 apndIritr;
        //))
 ;to__ic t, 1,       (hs  tmpIritr;
     HTuple();
 apndWnde(hv   //))
 ;to__ic t, 1,       (hs  tmpWnde(hvHTuple();
 apnd  /urs =    //))
 ;to__ic t, 1,       (hs  tmp  /urs = HTuple();
 apnd  i_MatcPos   //))
 ;to__ic t, 1,       (hs  tmpsssssssssssss  le();
 apnd         //))
 ;to__ic t, 1,       (hs  tmp      ss  le();
 apnd   Ampli   //))
 ;to__ic t, 1,       (hs  tmp   AmpliHTuple();
 apnd  /r;
        //))
 ;to__ic t, 1,       (hs  tmp  /r;
     HTuple();
 apndypeo__S   //))
 ;to__ic t, 1,       (hs  tmp   o__S = 0u
      
   [
     w HTuple(hv__ErrBridgeCodHTHTuple hv__Bond
             =
(odHTHTuple hv__Bondu检测结果
                 //ntours = 
             =
(odHTHtours = u检测结果
                 //Iritr;
     
             =
(odHTIritr;
     u检测结果
                 //sssssssssss
             =
(odHTsssssssssssu检测结果
                 //sssssle hv__Bond
             =
(odHTsssssle hv__Bondu检测结果
                 //onClosing, hv_i_CloseOrOpenSize);
u检测结果
                 //onC   ng, hv_i_CloseOrOpenSize   u检测结果
                 //onCAmpling, hv_i_CloseOrOpenSizeAmpliu检测结果
                 //tours;
        ng, hv_i_CloseOrOpenStours;
        u检测结果
                 //  /r;
     ng, hv_i_CloseOrOpenS  /r;
     u检测结果
                 //  /urs = 
             =
(odHT  /urs = u检测结果
                 //Wnde(hv
             =
(odHTWnde(hvu检测结         HOperHOperatorSet.AreaCenter(ho_RegionUnion, out hv_Area, out hv_Row, out hv_Column);
                hbjectVector(ho_RegionUnion);
            }
       THTup     t(hv_tVector(ho_RegionUnion);
            }
       Tsssss     t(hv_tVector(ho_RegionUnion);
            }
                hv_o_DefectType = new HTuple();
                hv_o_DefectType[1] = 29;
                hvec_o_FailRegs[1] = new HObjectVector(ho_RegionUnion);
            }
       l(2))) !=  hvec_o_DefectValue[hv_idx] = new HTupleVector(((new HTuple(-1)).TupleConcat(
                        -1)else
            {
                //Ic定位、偏l(2))) !=1     //银胶c tryhv_Indices.Tup   ho__InspectReg.D//ex = neeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee  ho__InspectReg.D//pO   iorSet.AffineTransPoint2d(hv             .Tupl), (((o     HTuple hv_Great,  o (hple hv       //银胶  ,n.DispErrC return;
            }
onUnio H配定位 llestpfectV  ho__InspectR_ErrReefReg, out    左 11odel(  ho__InspectReg.D//ef   HTu: pply measurement"    左 11odel(内.0          HOperod2Img, o__InspecRe         目    左 11odel(内.0          HOperod2Img, hv__RefBondRow, hv__RefBondCol,
                    nd        HOperatorSet.Conca      rsTIni__Iut  return;
    BondCol,
            HTuple hv__Bondut iffCol = ((hv_RefB     Mat2D     hv(
       t((hv_idx * 3) + 0);         hv_uple hv_tool法c_o_FaRef    hv)BondCol,
            on(hole hv__Bondut iffCoo     HTuRefB     Mat2D     hv(
       t((hv_idx * 3) + 0);         hv_uple hv_tool法c_o_FaRef    hv)BondCol,
            tour);
        : pp法tour)*******egs, ho__InHTu调ooRef    hv(
       t((hv_idx * 3) + 0);         hv_uple hv_tool法c_o_FaRef    hv)BondCol,
          HTHtours = :t        Posv_o_式,1-         R，获取测量,0-       .Tupl量结果
       ect ExHTIritr;
     :        .Dispe();
fPhi = nu hv_MetrologyHa_MeasureContou      HTWnde(hvndR，获取测量   Row, hus d H_口 //逐,或       .Tupl量   l = ((hv_取, hv_HomMat2DR具HT  /urs = ndR，获取测量       hv取,或       .Tupl量   o     HTu取, hv_HomMat2DR具HTsssssssssssut hv_Roe("row"))orpleConcat, l i_M)   dt h
hv_HomMat2DR具HTrrCode = 0;
                hv_o_ErrStr =t iconic varia     h_ErrCte Metrology Handle successful!";

 t iconic varia     hnS  /r;
     trology HConcat hv_MetrologyHa_MeasureContou      HTrrCect ho_i_BondRegs,
    ot iconic varia     h*x = neeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee  ho__InspectReg.D//p();7efectV;
 v_idx * 3) + 0); );
 ghtOrD
     v_i_LightOrDark, hv_i_H
 mber);
 ho_Reg默认
     pTup   o__InspectR;
           HOperato       ty];
                hv_highThresh = hv= hv    HTuple hv__BondighThresh = hv= hv
 apndHTuple hv__Bond   //)        hv -es 

       CodHTHTuple hv__Bond
            Dispos
       
                ho_C      );   o__InspectR;
           HOpTe, hoTupleEqual(apndHTuple hv__Bond   , CodHTHTuple hv__Bond
            Dispos_Region      {




      

       CodHTHTuple hv__Bond
            Dispos
       Set.ClosingCircle(hHTuple hv__Bond);   o__InspectR;
 CodHTHTuple hv__Bond
             =
(odHTHTuple hv__Bond
            )
用阈属 age.Dispose();
     e(hHTuple hv__Bond);   o__InspectR;
 HTsssssle hv__BondighThresh = hv= hv
 apndsssssle hv__Bond   //)        hv -es 

       CodHTsssssle hv__Bond
            Dispos
       
                ho_C      );   o__InspectR;
           HOpTe, hoTupleEqual(apndsssssle hv__Bond   , CodHTsssssle hv__Bond
            Dispos_Region      {




      

       CodHTsssssle hv__Bond
            Dispos
       Set.ClosingCircle(hsssssle hv__Bond);   o__InspectR;
    //sssssle hv__Bond
             =
(odHTsssssle hv__Bond
            )
用阈属 age.Dispose();
     e(hsssssle hv__Bond);   o__InspectR;
     tour);
           o__InspectR;
 
 apndtours;
           //)        hv -es 

       CodHTtours;
        
            Dispos
       
                ho_C      );   o__InspectR;
           HOpTe, hoTupleEqual(apndtours;
           , CodHTtours;
        
            Dispos_Region      {




      

       CodHTtours;
        
            Dispos
       Set.ClosingCircle(htours;
        );   o__InspectR;
    //tours;
        ng, hv_i_CloseOrOpenStours;
        
            )
用阈属 age.Dispose();
     e(htours;
        );   o__InspectR;
   HTHtours =    o__InspectR;
 
 apndntours =    //)        hv -es 

       CodHTntours = 
            Dispos
       
                ho_C      );   o__InspectR;
           HOpTe, hoTupleEqual(apndntours =    , CodHTntours = 
            Dispos_Region      {




      

       CodHTntours = 
            Dispos
       Set.ClosingCircle(hntours = );   o__InspectR;
    //ntours = 
             =
(odHTHtours = 
            )
用阈rcle(hntours = );   o__InspectR;
 ExHTIritr;
        o__InspectR;
 
 apndIritr;
        //)        hv -es 

       CodHTIritr;
     
            Dispos
       
                ho_C      );   o__InspectR;
           HOpTe, hoTupleEqual(apndIritr;
        , CodHTIritr;
     
            Dispos_Region      {




      

       CodHTIritr;
     
            Dispos
       Set.ClosingCircle(hIritr;
     );   o__InspectR;
    //Iritr;
     
             =
(odHTIritr;
     
            )
用阈属 age.Dispose();
     e(hIritr;
     );   o__InspectR;
   HTWnde(hv   o__InspectR;
 
 apndWnde(hv   //)        hv -es 

       CodHTWnde(hv
            Dispos
       
                ho_C      );   o__InspectR;
           HOpTe, hoTupleEqual(apndWnde(hv   , CodHTWnde(hv
            Dispos_Region      {




      

       CodHTWnde(hv
            Dispos
       Set.ClosingCircle(hWnde(hv= -1;
                //Wnde(hv
             =
(odHTWnde(hv
            )
用阈rcle(hWnde(hv= -1;
             HT  /urs = -1;
             
 apnd  /urs =    //)        hv -es 

       CodHT  /urs = 
            Dispos
       
                ho_C      );   o__InspectR;
           HOpTe, hoTupleEqual(apnd  /urs =    , CodHT  /urs = 
            Dispos_Region      {




      

       CodHT  /urs = 
            Dispos
       Set.ClosingCircle(h  /urs = );   o__InspectR;
    //  /urs = 
             =
(odHT  /urs = 
            )
用阈rcle(h  /urs = );   o__InspectR;
 HTsssssssssss   o__InspectR;
 
 apnd  i_MatcPos   //)        hv -es 

       CodHTsssssssssss
            Dispos
       
                ho_C      );   o__InspectR;
           HOpTe, hoTupleEqual(apnd  i_MatcPos   , CodHTsssssssssss
            Dispos_Region      {




      

       CodHTsssssssssss
            Dispos
       Set.ClosingCircle(hsssssssssss);   o__InspectR;
    //sssssssssss
             =
(odHTsssssssssss
            )
用阈rcle(hsssssssssss);   o__InspectR;
 HTrrCode   o__InspectR;
 
 apnd         //)        hv -es 

       CodHT      
            Dispos
       
                ho_C      );   o__InspectR;
           HOpTe, hoTupleEqual(apnd         , CodHT      
            Dispos_Region      {




      

       CodHT      
            Dispos
       Set.ClosingCircle(h      );   o__InspectR;
    //onC   ng, hv_i_CloseOrOpenSize   
            )
用阈rcle(h      );   o__InspectR;
  h_ErrCte Me   o__InspectR;
 
 apnd   Ampli   //)        hv -es 

       CodHT   Ampli
            Dispos
       
                ho_C      );   o__InspectR;
           HOpTe, hoTupleEqual(apnd   Ampli   , CodHT   Ampli
            Dispos_Region      {




      

       CodHT   Ampli
            Dispos
       Set.ClosingCircle(h   Ampli);   o__InspectR;
    //onCAmpling, hv_i_CloseOrOpenSizeAmpli
            )
用阈rcle(h   Ampli);   o__InspectR;
  hnS  /r;
     -1;
             
 apnd  /r;
        //)        hv -es 

       CodHT  /r;
     
            Dispos
       
                ho_C      );   o__InspectR;
           HOpTe, hoTupleEqual(apnd  /r;
        , CodHT  /r;
     
            Dispos_Region      {




      

       CodHT  /r;
     
            Dispos
       Set.ClosingCircle(h  /r;
     );   o__InspectR;
    //  /r;
     ng, hv_i_CloseOrOpenS  /r;
     
            )
用阈属 age.Dispose();
     e(h  /r;
     );   o__InspectR;
   HTrrCect    o__InspectR;
 
 apndypeo__S   //)        hv -es 

       CodHT      ho_RegionClosing.Dispose();
            HOperatorSet.Clo;   o__InspectR;
           HOpTe, hoTupleEqual(apndypeo__S   , CodHT();
                ho__PegRackSurfaceReg.Dispose();
 

       CodHT      ho_RegionClosing.Dispose();Set.ClosingCircle(h      hegionOpening, out ho_RegionClosing, hv_i_CloseOrOpenSize);
            //获取钉架检测      hegionOpening, out hoge                  efectVv
     ect+1         hv_o_ErrS   THTup     t(hv_e();
         Tsssss     t(hv_pose();
                ho_I  return;
量模板     
RasureFv_i_CloseOrOpenSize);
       hes,      //检urfaceReg.Dispose();
     
      Bond= ne HTup     t(hv_i)       Tsssss     t(hv_, CodHTHTuple hv__Bond
            urfaceReg.Dispose();
 odHTsssssle hv__Bond
            , CodHTtours;
        
            egionOpening, out hoge       idx = hv_idx.Tupl R，       取测量,eS_RefBon      ();
            HOperatorSet.ErosionCircle(ho__PegRackSurfaceReg, out ho_RegionErosion, hv_i_CloseOrOpenSize);
            //检测图像获取
            ho__PegRackSurfaceImage.Dispose();
            HOperatorSet.ReduceDomain(ho__Image, ho_RegionErosion, out ho__PegRackSurfaceImage
                );

            //自适应提取检测区域目标
            ho__SegImage.Dispose();
            HTV_Adaptive_Threshold(ho__PegRackSurfaceImage, out ho__SegImage, hv_i_AdaptiveMethod,
                hv_i_B();
            HTV         hv_Parameter[1] = -1;
    nUnion);
            }
       l(2))) !=  hvec_o_DefectV           ontours80                   hv_i_CloseSize, hv_i_MinLeng80引及r(hv_Area  HOper量    
   [age0Img: Frameho_o_BondContours80,vm       80    Frame模   Framehsssssss{htImage.D80E
 0))).TupleOr(neweg, HTuple hv_i_Dilatio((n (hs  _  银e();"bytghbor")efBondRa
           return;
     ptyObj(out ho_ins (h= "ag -1Frame +plo;   o__InspectR;
 = nRi  I    i测区置及半径.Disposeposeposepose            {  hv__spErrCod        r,.nRa (hs  eais nuv_o_ErrCode = 径.Disposeposeposeposeo__RefReg.CodHTntours = 
            Dispos_Region   I {v_Pctor_COPY_INP_TMP = h     }
ion.Dis__ImgDIdx    hv_
   l(2))) !=1t ho_i_RejectRegs, HObject ho_i_Sn.Dimagei_SubRe         _g：Fuv_o_ErrCode = ,loes, o__Inspec o_o_Ml(2))) !=1       {




             CodHTIritr;
     
            Dispos_Region   I {v_P, CodHTWnde(hv
            Dispos_Region      {




                I {v_P, CodHT  /urs = 
            Dispos_Region   I {v_P, CodHTsssssssssss
            Dispos_Region      {




                I {v_PjectRegs, HObject ho_i_Spl     pErrCoder   = nRad(n_Sea{ = "ageS  rs      Sea{ = "ageS  r = hvidxf+ l(2))) !=1t ho_i_RejectRegs, HObject ho_i_Sn.Dimage hv_i_e         _g：Fuv_o_ErrCode = ,loesTHTup     t(hv_i), oe  i_M     t(hv_       {




             Ces, o__Inspec o_o_Ml(2))) !=1  CodHTIritr;
     
            Dispos_Region      {




     



   I {v_P, CodHTWnde(hv
            Dispos_Region   I {v_P, CodHT  /urs = 
            Dispos_Region      {




                I {v_PjectRegs, HObject ho_i_Spl     pErrCoder   = nRatorSet.量            //初始 out    i_InspectRegs, out hv_regNum);wv__Diffose();
                ho_AllRegs.Di初
            ho_o_Lil(2))) != 0ut l(2))) !=1    HT  //
     f
  量工_Co   //
  ---es         hv_Parameter[1] = -1;
    
  ---es       v_curElementsLen - 1);
            Regs}        i       pl     pErrCoder   ge tReg, HTuple hv_i_Dilatio---ersTIni__I  hv_Parameter[1] = -1;
    mageTpl    HOpeg：F_Lil(2))) != 0ut _CloseOrOpenSize);
            //rsTIni__I       {




     OpenSize   
            , CodHT   Ampli
            , CodHT  /r;
     
                   {




     OpenSize);
            /enlitudmete         hv_o_ErrS   THTup     t(hv_e();
              hv_o_ErrS   T  i_M     t(hv_ewStd, out ho_ImageScaled_L, hv_焊盘区域）
            // o_BondContoursse();
            HOperatorSet.ReduceDo ne // i_MetrologyHandle: 测量模板e hl(2))) !=;
                          nRa (hs  _  银e();"bytghbor");
 a: I    i测区置及半径.Disposeposeposel(2))) !=1t ho_i_Reject HTuouchMeav_o_Me  hv_ouchut HTu PosTPosrTuplleConcat(Regit//左"(hm     {osPosle(hvegNeg.Di  (HTup     t(hv_e();
              hv_o_ErrS   T  i_M     t(hv_ewStd, out ho_ImageScaled_L, hv_焊盘区域）
            // o_BondContoursse();
            HOperatorSet.ReduceDo ne // i_MetrologyHandle: 测量模板e hl(2))) !=;
                          nRa (hs  _  银e();"bytghbor");
 a: I    i测区置及半径.Disposeposeposel(2))) !=1t ho_i_Reject HTuouchMeav_o_Me   nuv_            //左"(hm our行
     , o.Tuple      ho_Image  HOk(w   _g：Flag.TupleConc     t_Bond= -1;
  __Br T HOk= ",uv_           ologyHandle, "all
    ptDT] = new HT     ex)tDT] = new HTRta  区域内部容Colta  uv_           DT] = new HTRta  2域内部容Colta  2域内部容geS  rLen) 域内部容ClipLen)}阈TTTT    atMod2Img, H         mMatMod2Img, H    elType,
    HTuple hvM    Len   HTuple hv // i_Deent       rSet.RedogyswigyHa(vMaxple _o_cuogyswigyHall
        Max _o_cuogyswigyHall, out hv_Column, out hv_Phi,
   a[ (hv_idx = 0;r_0;
                  i_HomMatMod2Img: Frame模板到图像的映射矩阵--从模板到检测图像的映射关系
            // i_AdaptiveMethod：局部阈值分I        ndContours, hv_i_测区, out h;iv hv_HomMatSu }

     BondPv_c  //银t = 0;andContours, hv_i_PCB模onn "ageS  rsiosiohv_IcRow)). PosT测区     else
  BondP1v_c  //银t = 0;a     hv_o_DefectType[0] = 31;
   eReducedt = 0gpog  ，代asu  eReducedt = 0//银    dctType[hv_idx]胶     Sor           ;
            H, out h,Rif 胶    LP//银    dctType[hv_idx]胶    IC          ;
                     ;w         0)
           dctType[hv_idx]  ly
              ;w    s  }
          ;w    s  }
      1.)
           dctType[hv_idx]w     PosT    else
  BondP0le(o  =cat_i       HBondP, out h;iv hv_HomMatSu }

     BondP2, out h   ] =  = new HTuo__IcR-----------    //椭圆
        angle2(h//pose()   ement_1(HObjIMAXleGreater(0))) != 0) = new;v_ic sta   [hv_ic s+ 3;                     if (hv_o_DefectType    {v_ic sta   [hv_ic s+ 3;                 LlRegsLead2Wire, out horrStrif (hv_o_DefectType    {1v_ic sta   [hv_ic s+ 3;                 LlR1egsLead2Wire, out horrSt1   //银efe;廓rSet.AffineTracat(
      {htImage.Di            v_ic sta   [hv_ic s+ 3;                 L
        (hv_o_DefectType eg
        }

      new HTuple()e()     (hs  f ((i hv_Sx = null;
  ,hs  f ((i hv_ssssssssss{htImage.Disposssssssssssss     //Bo = nul
       ,s     //Bo _= nul
            hMeasure h_InspectImg.Dis (hv_idx = 0;   shGg.Dis _ssssssssss{htImage.Disposssssssssssss     is (hv_idx = 0;   shG
    _ssssssssss{htImage.Disposssssssssssss    =    /eGreater(0))) != 0) = new;M(hv_issssssssss{htImage.Disposssssssssssss   i(hv_idx = 0;   shGg.D0(hv_idx = 0;   shG
 0= nul
            hMeasure h_InspectImg.D1(hv_idx = 0;   shG
 1(hv_idx = 0;        hMeasure h_InspectImj半径
                    MTulRegsLead2Wire, hv_i_DefectTypeLead2Wire,
                out hvV  i  HIs (hv_idx = 0;   ic s+ 3;                 L
siSet.SmallestReccatPrevioorSet.SmallestRec        }
           //     MTulRegsLead2Wire,catPrev   //银efe;廓rSet.AffineTraca = new;Cur()nto i_EpoxySizeTh mRoa (hv_idx = 0;   ic s+ 3;                 is (hv_idx = 0;   tType    {2v_ic sta   [hv_ic s+ 3;                 LlR2egsLead2Wire, out horrSt2v_ic sta   [hv_ic s+ 3;                 cilRegsLead2Wire, out hocansic variables 
        }
          // ir        gsLead2Wire, out ho
    1(hv_idx = 0;        hMeasure h_InspectIm
    2v_ic sta   [hv_cat(   be tTypel
            hMeasure h_InspectImg.DBond//Bo = nul
       ,s   g.DBondEs (hv_idx = 0;   ic s+ 3;                 ansBond//Bo = nul
       ,s   ansBondEs (hv_idx = 0;   ic s+ 3;                      Bondv_ic sta   [hv_cat( //传入)             }      (hvec_i_Fa    左   右     h来排i_Dispose();,         B(hv_idx = 0;   ic s+ 3;                      Ri_Dispose();,    _Phi,
 (hv_idx = 0;   ic s+ 3;                 r(
      }ato     _DiffR      }
     return;
            }ato
      hv_        return;
            }ato_DiffR   hv_r T HOk= " ic s+ 3;        
            }ato_DiffR   hv_r _AllRegs.Di初始le(o  (hs  eageS  rsbjectParam(hv_I        HTuple(-1)).TupleConcat(
                        -1)else
            {
                //Ic定位、偏     ho_RegionOpening1.Dispose();
                ho_RegionOpening.Dispose();
                ho_ConnectedRegionhv_i_PCBHTuple(-1)).TupleConcat(
                        -1)else
 1           {
                //Ic定位、偏     1ho_RegionOpening1.Dispose();
                ho_RegionOpenin1ho_RegionOpening1.Dispose();
                hoeReducedt = 0gpog  ho_RegionOpening1.Dispose();
                hoeReducedt = 0输出缺陷类型
            //o_ErrCode: 错_idx = 0;   输出缺陷类型
            //o_ErrCode: 错lue[1] = new HTupleVector(new HTuple(0));
                if 胶    LPTupleVector(new HTuple(0));
                if 胶    IC输出缺陷类型
            //o_ErrCode: 错lue[1]      输出缺陷类型
            //o_ErrCode: 错w         0TupleVector(new HTuple(0));
                if   ly
    TupleVector(new HTuple(0));
                if w    s  }
TupleVector(new HTuple(0));
                if w    s  }
      1.TupleVector(new HTuple(0));
                if w    )) !=  hvec_o_DefectValue[hv_idx] = new HTupleVector(BondP0ho_RegionOpening1.Dispose();
                hoeReduced     ho_RegionOpening1.Dispose();
                ho     2 out hv_C                if ((int)(new HTuple((n   ] =  =             }
 tryhv_Indices.Tup    o__InspectReg.D//ex = neg                     easureFla   o__InspectReg.D//ex = negar_0;
                                HOperatorSet.sConcatObj(ho_ororCod, lue[1]            hv_o_Erreg.D//ex = nrreg.Dr T HOk= "               hv_o_EDispose();
           //ex = nrreg.Dr 
    ut hv_Ro   o_MeasureFlaEDispose();
           //ex = nrreg.DHTRta  : 的结rato  ratoewv__Diffose();
                //ex = nrreg.DHT  /a  : 的结rato  ratoewv__D ho_o_LightIma = "ageS     //ex = nrreg.DHTRta  2: 的續rato  ratoewv__Diffose();
                //ex = nrreg.DHT  /a  2: 的續rato  ratoewv__D ho_o_LightIma = "ageS     //ex = nrreg.DHTgeS  rLen: e);
    执  Metrol      hv_o_Err    //ex = nrreg.DHTlipLen: e);
    裁剪Metrol      hv_o_Err具ex = nDRHa         pl    hv    ctangle具ex = nDRHa    elType,pl      easureFla(hs中
 
      , hv_HomMat2DR具ex = nDRhvM    Lenpl      easureFla(hs中
段Metrol      hv_o_Err具ex = nDRhv // i_Deente_o_Meas上段            // i_MeasureCont测量ex = nDRhvMaxplepl   _Re间    中间距 i_MeasureCont    //ex = nrreg.Dr 
        raxplo_Meas    中    hv,      c_o_o_Meas时, h "P0      hv_o_Err具ex = nrreg.Dr o           hv_代o_ErrC-1
     ifnitializing-OKizi13
  e);
 izi25
   e);
       hv_o_Err具ex = nrreg.Dr o           HTuple hgsic
      iratorSet         巺0----图标参数ato银  atohvtghb---图标参数at
        rax  巺0----图标参tryhv_Indices.Tup.Tup   ho__InspectReg.D    Regs.Di初sStri] = nRado          ret.Tupl 
            }ato_DiffR   hv_r _AllRegs.Di初始leeeeeeeeehv_r T HOk= "sStri] = nRado          ret.Tupl 
            }ato_DiffR   hv_r T HOk= " ic s+ 3;               ObjIMAXleG9999se  sm(hv_i_Meeeeeeeee//g }s再_ wv__ d  Thresh = "se  sm(hv_i_Meeeeeeeee         (hs  eout s       Stata  区容Colta  new HTRta  2容Colta  2se  sm(hv_i_Meeeeeeeeeeeeeond=  o eout s  ic s+ 3;               o_o_MeasureCohv_BondCol = l =   Stata  区容Colta  new HTRta  2se  sm(hv_i_Meeeeeeeeeeeee容Colta  2eond=  oDis] = 29;
               hv_r T HOk= "sStri] = nRado          ret.Tupl 
            }g.Dispo] 2 R   hv_r T HOk= "les    Stata  eg;
            HObject ho__Rejectjectew HTRta  2ut SubFaiaespBos_ (容Colta  eg;
        容Colta  2ut SubFaiaespBo    HObject ho__Rejectject,    Dispoe    = new;测) -    , ClipLen, bjHTgeS  rLen nRado          ret.Tupl//                  ho_{htIma;
 a: I          ho_EmptyFailReg.Dispose.Dispose            {                    i _o_curReI        = new HR    exDispos_Region      {




      hv_i_MinArea, hv_i_SelOperatio  I    i测区置及半径.Disposeposeposepose            {  hv__spErrCod  I        = nv_r T HOk= "leis nuv_o_ErrCode = -1;
                     r = null,      hhhhhr   ho_o_BondContours,
    HTuple hv_i         mM     Tupl      hoeond=  o    { 非重点检           常表异常，-2-
                hooooooooo HTuouchMuplPosle(hv.duc""row")).TupleCo//修改 201_-01-07 l i_M)修改 "P dt h
hv_HomMat2DR/ Local control variae h    hveo_ErrCode = -2- = new HTuple();) != 0)
  非重点检           -2-
  _o o_o_M否存在否noneO否存在，2.再阈值刈  h_RegionOpeninMuplPosle(hv.duc""row")).TupleConicc = n0))) != 0)
                   ho_Reg76  }1);
           r_0;        {




      hv_i _2   (hv.duc""row")).TupleCoo__RefReg.        _L .Dispose();
   HR    exDisposutVar_0;
      a，-2 ato             rrrrrrrrr1izing";
 0))).TupleOr(new HT1{ispose();
               ehv_i_PCBter[1] = -1;
    
  ---ehv_i_PCBMuplPosle(hv.duc""row")).TupleCopose            {                    i _o_curReI    PCB= new HR    exDispos_Region      {




      hv_rrrr1izhv.duc""row")).TupleCoposeif  PosT测区1OperatorSet.GenEmptyObj(octReeeeDisp            {  hv__spErrCod  I    PCB= nv_r T HOk= "leis nuv_o_ErrCode = 1         hv_o_ErrStr = "paaaaaet.GenEmptyObj(octReeeeeeeeho_o_BondContours,
    HTuple1
  15eond=  o    {1o        1型
    rrSt1et.GenEmptyObj(octReeeeeeee     1OperatorSet.GenEmptyObj(octReeeeDisp//修改 201_-01-07 o_o_)修改 "Pl i_M.GenEmptyObj(octReeeeDispcal control variae h    hveo_ErrCode = 1-2- = new H1,=  o    {1o    1         hv_o_ErrStr = "paaaaa   rrSt1     case否存在否noneO否存在，2.再阈值刈  h_RegionOpenin1OperatorSet.GenEmptyObj(octReeeeDispnicc = n0))) != 0)
                   h1o_Reg76  }1);
       1    r_0;        {




      hv_ hv_i _2   (hv.duc""row")).TupleCoho_A{mn   ：0-量工_Cot.G是5sPoint2d(hv输at：0-ureConefecoi标、纵i标      }


}1);
         6  }1);
       1  PegRack_Bridging_ExistRejectReg(HObject ho_i_Ima    
  量工_Co   //
  Coder   
 _RegionOpeninMuplPosle(hv.duc""row")).TupleCo：0-ure
 _RegionOpenin              ho__InspectReg.Disposeeeeeeeee.TupleConcat(
        .TupleConcat(
    spos
 eReducedt = 0gpog  MuplPosle(hv.duc""row")).TupleCo v_o_Mput ima      ho__InspectReg.Dispose();
                ho__RefR == null)
                      "cidx = _l== nuOle hvM    Len9999点       = nion.Dis__ImgDI
            HTuple step_val61 = 1;
            for (hv_id v_o_Mput ima      ho__InspectRe        ho__RefR == nul                ho__RefRll)
                      "{

           Dis -    ,  // i_Deent     Dis +    ,  // i_Deent      hv(hvnto           // i_Rope
            for (hv_id v_o_Mput imaerato               ho__RefRl           be se  sm(hv_i_Meeeeeeeee_o_DefectType == null)
                       //焊点       = nupleOr(n{mn   ：0-量工_Ci, ouchMea HTuouchMupl        {_tup""ro;
 a: I          ho_EmptyFailReg.Dispose.Dispose ne下限参数
            hv_threshNuoeeeeeeeeeee(;uouchMuplPosle(hv.duc""row")).TupleCor   
 _RegionOpeninMuplPosle(hv.duc""row")).TupleCo：0d  I    PCBOperatorSet.GenEmptyObj(octR        if  PosT测区1OperatorSet.GenEmptyObj(octReeeeDisp        1OperatorSet.GenEmptyObj(octReeeeDisp  h_RegionOpenin1OperatorSet.GenEmptyObj(octReeeeDisp
 eReducedt = 0gpog  MuplPosle(hv.duc""row")).TupleCoDisp
 eReducedt = 0OperatorSet.GenEmptyObj(octReeeeDisp  h_RegionOponvpectRegs.Dispose();
         Sy Disp   
            HOperatorSet.GenEmptyObj(octR        if 胶    LPOperatorSet.GenEmptyObj(octR        if 胶    ICpectRegs.Dispose();
         Sy Disp   
           pectRegs.Dispose();
         Sy Disp   w         0OperatorSet.GenEmptyObj(octR        if   ly
    OperatorSet.GenEmptyObj(octR        if w    s  }
OperatorSet.GenEmptyObj(octR        if w    s  }
      1.OperatorSet.GenEmptyObj(octR        if w           hv_Parameter[1] = -1;
    
  ---eBondP0MuplPosle(hv.duc""row")).TupleCoDisp
 eReduceduouchMuplPosle(hv.duc""row")).TupleCor   
 uouch2范os                              ((n   ] =  = t ho_i_Reject HTuouchMeav_o_Me 
   eeee   = nuv_                       e                  Er  HOks再_ wv__Col = new HTupppppppppfit - 1;_cidx = _s   长、(rRe        ho__RefRl    Stata  区容Colta      hv_o_DefectType =     错误类tart,_ e ho_i_Image, HO_c variables Eag_Reduced.Dans_o__Reduced.D  {
rirSet.GenEmpRad      ret.  h_RegionOponvpectRegs.Dispose();
         Sy             {                     ho__RefRl duced_idx = 0;   eAd.D  {
ri_0;v__ErrMeasureStr;

                 {gpog  spectRe_idx = 0;   eAduced

    yFaiout hv_H    aaaaaaaaype eg
        }

      new HTuple()e()aaaaaaaaype eg
    spose();
                ho__See eg
       See eg
    xpTmpO   f      
    );
                ho__See eg
       See eg
    xpTm